{"ast":null,"code":"import _classCallCheck from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from 'tslib';\nimport { Component, ViewEncapsulation, ChangeDetectorRef, Input, NgModule } from '@angular/core';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { InputNumber, InputBoolean } from 'ng-zorro-antd/core/util';\nimport { Subject, BehaviorSubject, ReplaySubject, timer } from 'rxjs';\nimport { startWith, distinctUntilChanged, switchMap, debounce, takeUntil } from 'rxjs/operators';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/common';\n\nfunction NzSpinComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 3);\n    ɵngcc0.ɵɵelement(1, \"i\", 4);\n    ɵngcc0.ɵɵelement(2, \"i\", 4);\n    ɵngcc0.ɵɵelement(3, \"i\", 4);\n    ɵngcc0.ɵɵelement(4, \"i\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nfunction NzSpinComponent_div_2_ng_template_2_Template(rf, ctx) {}\n\nfunction NzSpinComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r5.nzTip);\n  }\n}\n\nfunction NzSpinComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"div\", 5);\n    ɵngcc0.ɵɵtemplate(2, NzSpinComponent_div_2_ng_template_2_Template, 0, 0, \"ng-template\", 6);\n    ɵngcc0.ɵɵtemplate(3, NzSpinComponent_div_2_div_3_Template, 2, 1, \"div\", 7);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"ant-spin-spinning\", ctx_r2.isLoading)(\"ant-spin-lg\", ctx_r2.nzSize === \"large\")(\"ant-spin-sm\", ctx_r2.nzSize === \"small\")(\"ant-spin-show-text\", ctx_r2.nzTip);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.nzIndicator || _r0);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.nzTip);\n  }\n}\n\nfunction NzSpinComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"ant-spin-blur\", ctx_r3.isLoading);\n  }\n}\n\nvar _c0 = [\"*\"];\nvar NZ_CONFIG_MODULE_NAME = 'spin';\n\nvar NzSpinComponent = /*#__PURE__*/function () {\n  function NzSpinComponent(nzConfigService, cdr) {\n    _classCallCheck(this, NzSpinComponent);\n\n    this.nzConfigService = nzConfigService;\n    this.cdr = cdr;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzIndicator = null;\n    this.nzSize = 'default';\n    this.nzTip = null;\n    this.nzDelay = 0;\n    this.nzSimple = false;\n    this.nzSpinning = true;\n    this.destroy$ = new Subject();\n    this.spinning$ = new BehaviorSubject(this.nzSpinning);\n    this.delay$ = new ReplaySubject(1);\n    this.isLoading = false;\n  }\n\n  _createClass(NzSpinComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      var loading$ = this.delay$.pipe(startWith(this.nzDelay), distinctUntilChanged(), switchMap(function (delay) {\n        if (delay === 0) {\n          return _this.spinning$;\n        }\n\n        return _this.spinning$.pipe(debounce(function (spinning) {\n          return timer(spinning ? delay : 0);\n        }));\n      }), takeUntil(this.destroy$));\n      loading$.subscribe(function (loading) {\n        _this.isLoading = loading;\n\n        _this.cdr.markForCheck();\n      });\n      this.nzConfigService.getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME).pipe(takeUntil(this.destroy$)).subscribe(function () {\n        return _this.cdr.markForCheck();\n      });\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzSpinning = changes.nzSpinning,\n          nzDelay = changes.nzDelay;\n\n      if (nzSpinning) {\n        this.spinning$.next(this.nzSpinning);\n      }\n\n      if (nzDelay) {\n        this.delay$.next(this.nzDelay);\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n  }]);\n\n  return NzSpinComponent;\n}();\n\nNzSpinComponent.ɵfac = function NzSpinComponent_Factory(t) {\n  return new (t || NzSpinComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\n\nNzSpinComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzSpinComponent,\n  selectors: [[\"nz-spin\"]],\n  hostVars: 2,\n  hostBindings: function NzSpinComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-spin-nested-loading\", !ctx.nzSimple);\n    }\n  },\n  inputs: {\n    nzIndicator: \"nzIndicator\",\n    nzSize: \"nzSize\",\n    nzTip: \"nzTip\",\n    nzDelay: \"nzDelay\",\n    nzSimple: \"nzSimple\",\n    nzSpinning: \"nzSpinning\"\n  },\n  exportAs: [\"nzSpin\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c0,\n  decls: 4,\n  vars: 2,\n  consts: [[\"defaultTemplate\", \"\"], [4, \"ngIf\"], [\"class\", \"ant-spin-container\", 3, \"ant-spin-blur\", 4, \"ngIf\"], [1, \"ant-spin-dot\", \"ant-spin-dot-spin\"], [1, \"ant-spin-dot-item\"], [1, \"ant-spin\"], [3, \"ngTemplateOutlet\"], [\"class\", \"ant-spin-text\", 4, \"ngIf\"], [1, \"ant-spin-text\"], [1, \"ant-spin-container\"]],\n  template: function NzSpinComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, NzSpinComponent_ng_template_0_Template, 5, 0, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(2, NzSpinComponent_div_2_Template, 4, 10, \"div\", 1);\n      ɵngcc0.ɵɵtemplate(3, NzSpinComponent_div_3_Template, 2, 2, \"div\", 2);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.nzSimple);\n    }\n  },\n  directives: [ɵngcc2.NgIf, ɵngcc2.NgTemplateOutlet],\n  encapsulation: 2\n});\n\nNzSpinComponent.ctorParameters = function () {\n  return [{\n    type: NzConfigService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nNzSpinComponent.propDecorators = {\n  nzIndicator: [{\n    type: Input\n  }],\n  nzSize: [{\n    type: Input\n  }],\n  nzTip: [{\n    type: Input\n  }],\n  nzDelay: [{\n    type: Input\n  }],\n  nzSimple: [{\n    type: Input\n  }],\n  nzSpinning: [{\n    type: Input\n  }]\n};\n\n__decorate([WithConfig(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzIndicator\", void 0);\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzDelay\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzSimple\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzSpinning\", void 0);\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzSpinComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-spin',\n      exportAs: 'nzSpin',\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None,\n      template: \"\\n    <ng-template #defaultTemplate>\\n      <span class=\\\"ant-spin-dot ant-spin-dot-spin\\\">\\n        <i class=\\\"ant-spin-dot-item\\\"></i>\\n        <i class=\\\"ant-spin-dot-item\\\"></i>\\n        <i class=\\\"ant-spin-dot-item\\\"></i>\\n        <i class=\\\"ant-spin-dot-item\\\"></i>\\n      </span>\\n    </ng-template>\\n    <div *ngIf=\\\"isLoading\\\">\\n      <div\\n        class=\\\"ant-spin\\\"\\n        [class.ant-spin-spinning]=\\\"isLoading\\\"\\n        [class.ant-spin-lg]=\\\"nzSize === 'large'\\\"\\n        [class.ant-spin-sm]=\\\"nzSize === 'small'\\\"\\n        [class.ant-spin-show-text]=\\\"nzTip\\\"\\n      >\\n        <ng-template [ngTemplateOutlet]=\\\"nzIndicator || defaultTemplate\\\"></ng-template>\\n        <div class=\\\"ant-spin-text\\\" *ngIf=\\\"nzTip\\\">{{ nzTip }}</div>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!nzSimple\\\" class=\\\"ant-spin-container\\\" [class.ant-spin-blur]=\\\"isLoading\\\">\\n      <ng-content></ng-content>\\n    </div>\\n  \",\n      host: {\n        '[class.ant-spin-nested-loading]': '!nzSimple'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.NzConfigService\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    nzIndicator: [{\n      type: Input\n    }],\n    nzSize: [{\n      type: Input\n    }],\n    nzTip: [{\n      type: Input\n    }],\n    nzDelay: [{\n      type: Input\n    }],\n    nzSimple: [{\n      type: Input\n    }],\n    nzSpinning: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzSpinModule = function NzSpinModule() {\n  _classCallCheck(this, NzSpinModule);\n};\n\nNzSpinModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NzSpinModule\n});\nNzSpinModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NzSpinModule_Factory(t) {\n    return new (t || NzSpinModule)();\n  },\n  imports: [[CommonModule, ObserversModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzSpinModule, {\n    declarations: function declarations() {\n      return [NzSpinComponent];\n    },\n    imports: function imports() {\n      return [CommonModule, ObserversModule];\n    },\n    exports: function exports() {\n      return [NzSpinComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzSpinModule, [{\n    type: NgModule,\n    args: [{\n      exports: [NzSpinComponent],\n      declarations: [NzSpinComponent],\n      imports: [CommonModule, ObserversModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzSpinComponent, NzSpinModule };","map":{"version":3,"sources":["../../components/spin/spin.component.ts","../../components/spin/spin.module.ts","../../components/spin/public-api.ts","../../components/spin/ng-zorro-antd-spin.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NzConfigKey, NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { BooleanInput, NumberInput, NzSafeAny, NzSizeLDSType } from 'ng-zorro-antd/core/types';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\n\nimport { BehaviorSubject, ReplaySubject, Subject, timer } from 'rxjs';\nimport { debounce, distinctUntilChanged, startWith, switchMap, takeUntil } from 'rxjs/operators';\n\nconst NZ_CONFIG_MODULE_NAME: NzConfigKey = 'spin';\n\n@Component({\n  selector: 'nz-spin',\n  exportAs: 'nzSpin',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <ng-template #defaultTemplate>\n      <span class=\"ant-spin-dot ant-spin-dot-spin\">\n        <i class=\"ant-spin-dot-item\"></i>\n        <i class=\"ant-spin-dot-item\"></i>\n        <i class=\"ant-spin-dot-item\"></i>\n        <i class=\"ant-spin-dot-item\"></i>\n      </span>\n    </ng-template>\n    <div *ngIf=\"isLoading\">\n      <div\n        class=\"ant-spin\"\n        [class.ant-spin-spinning]=\"isLoading\"\n        [class.ant-spin-lg]=\"nzSize === 'large'\"\n        [class.ant-spin-sm]=\"nzSize === 'small'\"\n        [class.ant-spin-show-text]=\"nzTip\"\n      >\n        <ng-template [ngTemplateOutlet]=\"nzIndicator || defaultTemplate\"></ng-template>\n        <div class=\"ant-spin-text\" *ngIf=\"nzTip\">{{ nzTip }}</div>\n      </div>\n    </div>\n    <div *ngIf=\"!nzSimple\" class=\"ant-spin-container\" [class.ant-spin-blur]=\"isLoading\">\n      <ng-content></ng-content>\n    </div>\n  `,\n  host: {\n    '[class.ant-spin-nested-loading]': '!nzSimple'\n  }\n})\nexport class NzSpinComponent implements OnChanges, OnDestroy, OnInit {\n  readonly _nzModuleName: NzConfigKey = NZ_CONFIG_MODULE_NAME;\n\n  static ngAcceptInputType_nzDelay: NumberInput;\n  static ngAcceptInputType_nzSimple: BooleanInput;\n  static ngAcceptInputType_nzSpinning: BooleanInput;\n\n  @Input() @WithConfig() nzIndicator: TemplateRef<NzSafeAny> | null = null;\n  @Input() nzSize: NzSizeLDSType = 'default';\n  @Input() nzTip: string | null = null;\n  @Input() @InputNumber() nzDelay = 0;\n  @Input() @InputBoolean() nzSimple = false;\n  @Input() @InputBoolean() nzSpinning = true;\n  private destroy$ = new Subject<void>();\n  private spinning$ = new BehaviorSubject(this.nzSpinning);\n  private delay$ = new ReplaySubject<number>(1);\n  isLoading = false;\n\n  constructor(public nzConfigService: NzConfigService, private cdr: ChangeDetectorRef) {}\n\n  ngOnInit(): void {\n    const loading$ = this.delay$.pipe(\n      startWith(this.nzDelay),\n      distinctUntilChanged(),\n      switchMap(delay => {\n        if (delay === 0) {\n          return this.spinning$;\n        }\n\n        return this.spinning$.pipe(debounce(spinning => timer(spinning ? delay : 0)));\n      }),\n      takeUntil(this.destroy$)\n    );\n    loading$.subscribe(loading => {\n      this.isLoading = loading;\n      this.cdr.markForCheck();\n    });\n    this.nzConfigService\n      .getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.cdr.markForCheck());\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzSpinning, nzDelay } = changes;\n    if (nzSpinning) {\n      this.spinning$.next(this.nzSpinning);\n    }\n    if (nzDelay) {\n      this.delay$.next(this.nzDelay);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzSpinComponent } from './spin.component';\n\n@NgModule({\n  exports: [NzSpinComponent],\n  declarations: [NzSpinComponent],\n  imports: [CommonModule, ObserversModule]\n})\nexport class NzSpinModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './spin.component';\nexport * from './spin.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}