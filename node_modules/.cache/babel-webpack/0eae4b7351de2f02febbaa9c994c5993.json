{"ast":null,"code":"import _classCallCheck from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from 'tslib';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, ChangeDetectorRef, NgZone, Input, Output, NgModule } from '@angular/core';\nimport { fadeMotion } from 'ng-zorro-antd/core/animation';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzScrollService } from 'ng-zorro-antd/core/services';\nimport { InputNumber } from 'ng-zorro-antd/core/util';\nimport { Subject, fromEvent } from 'rxjs';\nimport { throttleTime, takeUntil } from 'rxjs/operators';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from 'ng-zorro-antd/core/services';\nimport * as ɵngcc3 from '@angular/cdk/platform';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from 'ng-zorro-antd/icon';\n\nfunction NzBackTopComponent_div_0_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 4);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 5);\n    ɵngcc0.ɵɵelement(2, \"i\", 6);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nfunction NzBackTopComponent_div_0_ng_template_3_Template(rf, ctx) {}\n\nfunction NzBackTopComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1);\n    ɵngcc0.ɵɵlistener(\"click\", function NzBackTopComponent_div_0_Template_div_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.clickBackTop();\n    });\n    ɵngcc0.ɵɵtemplate(1, NzBackTopComponent_div_0_ng_template_1_Template, 3, 0, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(3, NzBackTopComponent_div_0_ng_template_3_Template, 0, 0, \"ng-template\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var _r1 = ɵngcc0.ɵɵreference(2);\n\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@fadeMotion\", undefined);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.nzTemplate || _r1);\n  }\n}\n\nvar NZ_CONFIG_MODULE_NAME = 'backTop';\n\nvar NzBackTopComponent = /*#__PURE__*/function () {\n  function NzBackTopComponent(doc, nzConfigService, scrollSrv, platform, cd, zone) {\n    _classCallCheck(this, NzBackTopComponent);\n\n    this.doc = doc;\n    this.nzConfigService = nzConfigService;\n    this.scrollSrv = scrollSrv;\n    this.platform = platform;\n    this.cd = cd;\n    this.zone = zone;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.scrollListenerDestroy$ = new Subject();\n    this.target = null;\n    this.visible = false;\n    this.nzVisibilityHeight = 400;\n    this.nzClick = new EventEmitter();\n  }\n\n  _createClass(NzBackTopComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.registerScrollEvent();\n    }\n  }, {\n    key: \"clickBackTop\",\n    value: function clickBackTop() {\n      this.scrollSrv.scrollTo(this.getTarget(), 0);\n      this.nzClick.emit(true);\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget() {\n      return this.target || window;\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (this.visible === this.scrollSrv.getScroll(this.getTarget()) > this.nzVisibilityHeight) {\n        return;\n      }\n\n      this.visible = !this.visible;\n      this.cd.detectChanges();\n    }\n  }, {\n    key: \"registerScrollEvent\",\n    value: function registerScrollEvent() {\n      var _this = this;\n\n      if (!this.platform.isBrowser) {\n        return;\n      }\n\n      this.scrollListenerDestroy$.next();\n      this.handleScroll();\n      this.zone.runOutsideAngular(function () {\n        fromEvent(_this.getTarget(), 'scroll').pipe(throttleTime(50), takeUntil(_this.scrollListenerDestroy$)).subscribe(function () {\n          return _this.handleScroll();\n        });\n      });\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.scrollListenerDestroy$.next();\n      this.scrollListenerDestroy$.complete();\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzTarget = changes.nzTarget;\n\n      if (nzTarget) {\n        this.target = typeof this.nzTarget === 'string' ? this.doc.querySelector(this.nzTarget) : this.nzTarget;\n        this.registerScrollEvent();\n      }\n    }\n  }]);\n\n  return NzBackTopComponent;\n}();\n\nNzBackTopComponent.ɵfac = function NzBackTopComponent_Factory(t) {\n  return new (t || NzBackTopComponent)(ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.NzScrollService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.Platform), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone));\n};\n\nNzBackTopComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzBackTopComponent,\n  selectors: [[\"nz-back-top\"]],\n  inputs: {\n    nzVisibilityHeight: \"nzVisibilityHeight\",\n    nzTemplate: \"nzTemplate\",\n    nzTarget: \"nzTarget\"\n  },\n  outputs: {\n    nzClick: \"nzClick\"\n  },\n  exportAs: [\"nzBackTop\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"ant-back-top\", 3, \"click\", 4, \"ngIf\"], [1, \"ant-back-top\", 3, \"click\"], [\"defaultContent\", \"\"], [3, \"ngTemplateOutlet\"], [1, \"ant-back-top-content\"], [1, \"ant-back-top-icon\"], [\"nz-icon\", \"\", \"nzType\", \"vertical-align-top\"]],\n  template: function NzBackTopComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵtemplate(0, NzBackTopComponent_div_0_Template, 4, 2, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.visible);\n    }\n  },\n  directives: [ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.NzIconDirective],\n  encapsulation: 2,\n  data: {\n    animation: [fadeMotion]\n  },\n  changeDetection: 0\n});\n\nNzBackTopComponent.ctorParameters = function () {\n  return [{\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: NzConfigService\n  }, {\n    type: NzScrollService\n  }, {\n    type: Platform\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: NgZone\n  }];\n};\n\nNzBackTopComponent.propDecorators = {\n  nzTemplate: [{\n    type: Input\n  }],\n  nzVisibilityHeight: [{\n    type: Input\n  }],\n  nzTarget: [{\n    type: Input\n  }],\n  nzClick: [{\n    type: Output\n  }]\n};\n\n__decorate([WithConfig(), InputNumber(), __metadata(\"design:type\", Number)], NzBackTopComponent.prototype, \"nzVisibilityHeight\", void 0);\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzBackTopComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-back-top',\n      exportAs: 'nzBackTop',\n      animations: [fadeMotion],\n      template: \"\\n    <div class=\\\"ant-back-top\\\" (click)=\\\"clickBackTop()\\\" @fadeMotion *ngIf=\\\"visible\\\">\\n      <ng-template #defaultContent>\\n        <div class=\\\"ant-back-top-content\\\">\\n          <div class=\\\"ant-back-top-icon\\\">\\n            <i nz-icon nzType=\\\"vertical-align-top\\\"></i>\\n          </div>\\n        </div>\\n      </ng-template>\\n      <ng-template [ngTemplateOutlet]=\\\"nzTemplate || defaultContent\\\"></ng-template>\\n    </div>\\n  \",\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      preserveWhitespaces: false\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: ɵngcc1.NzConfigService\n    }, {\n      type: ɵngcc2.NzScrollService\n    }, {\n      type: ɵngcc3.Platform\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc0.NgZone\n    }];\n  }, {\n    nzVisibilityHeight: [{\n      type: Input\n    }],\n    nzClick: [{\n      type: Output\n    }],\n    nzTemplate: [{\n      type: Input\n    }],\n    nzTarget: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzBackTopModule = function NzBackTopModule() {\n  _classCallCheck(this, NzBackTopModule);\n};\n\nNzBackTopModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NzBackTopModule\n});\nNzBackTopModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NzBackTopModule_Factory(t) {\n    return new (t || NzBackTopModule)();\n  },\n  imports: [[CommonModule, PlatformModule, NzIconModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzBackTopModule, {\n    declarations: function declarations() {\n      return [NzBackTopComponent];\n    },\n    imports: function imports() {\n      return [CommonModule, PlatformModule, NzIconModule];\n    },\n    exports: function exports() {\n      return [NzBackTopComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzBackTopModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzBackTopComponent],\n      exports: [NzBackTopComponent],\n      imports: [CommonModule, PlatformModule, NzIconModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzBackTopComponent, NzBackTopModule };","map":{"version":3,"sources":["../../components/back-top/back-top.component.ts","../../components/back-top/back-top.module.ts","../../components/back-top/public-api.ts","../../components/back-top/ng-zorro-antd-back-top.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { fadeMotion } from 'ng-zorro-antd/core/animation';\nimport { NzConfigKey, NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzScrollService } from 'ng-zorro-antd/core/services';\nimport { NumberInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { InputNumber } from 'ng-zorro-antd/core/util';\n\nimport { fromEvent, Subject } from 'rxjs';\nimport { takeUntil, throttleTime } from 'rxjs/operators';\n\nconst NZ_CONFIG_MODULE_NAME: NzConfigKey = 'backTop';\n\n@Component({\n  selector: 'nz-back-top',\n  exportAs: 'nzBackTop',\n  animations: [fadeMotion],\n  template: `\n    <div class=\"ant-back-top\" (click)=\"clickBackTop()\" @fadeMotion *ngIf=\"visible\">\n      <ng-template #defaultContent>\n        <div class=\"ant-back-top-content\">\n          <div class=\"ant-back-top-icon\">\n            <i nz-icon nzType=\"vertical-align-top\"></i>\n          </div>\n        </div>\n      </ng-template>\n      <ng-template [ngTemplateOutlet]=\"nzTemplate || defaultContent\"></ng-template>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false\n})\nexport class NzBackTopComponent implements OnInit, OnDestroy, OnChanges {\n  readonly _nzModuleName: NzConfigKey = NZ_CONFIG_MODULE_NAME;\n  static ngAcceptInputType_nzVisibilityHeight: NumberInput;\n\n  private scrollListenerDestroy$ = new Subject();\n  private target: HTMLElement | null = null;\n\n  visible: boolean = false;\n\n  @Input() nzTemplate?: TemplateRef<void>;\n  @Input() @WithConfig() @InputNumber() nzVisibilityHeight: number = 400;\n  @Input() nzTarget?: string | HTMLElement;\n  @Output() readonly nzClick: EventEmitter<boolean> = new EventEmitter();\n\n  constructor(\n    @Inject(DOCUMENT) private doc: NzSafeAny,\n    public nzConfigService: NzConfigService,\n    private scrollSrv: NzScrollService,\n    private platform: Platform,\n    private cd: ChangeDetectorRef,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    this.registerScrollEvent();\n  }\n\n  clickBackTop(): void {\n    this.scrollSrv.scrollTo(this.getTarget(), 0);\n    this.nzClick.emit(true);\n  }\n\n  private getTarget(): HTMLElement | Window {\n    return this.target || window;\n  }\n\n  private handleScroll(): void {\n    if (this.visible === this.scrollSrv.getScroll(this.getTarget()) > this.nzVisibilityHeight) {\n      return;\n    }\n    this.visible = !this.visible;\n    this.cd.detectChanges();\n  }\n\n  private registerScrollEvent(): void {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n    this.scrollListenerDestroy$.next();\n    this.handleScroll();\n    this.zone.runOutsideAngular(() => {\n      fromEvent(this.getTarget(), 'scroll')\n        .pipe(throttleTime(50), takeUntil(this.scrollListenerDestroy$))\n        .subscribe(() => this.handleScroll());\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.scrollListenerDestroy$.next();\n    this.scrollListenerDestroy$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzTarget } = changes;\n    if (nzTarget) {\n      this.target = typeof this.nzTarget === 'string' ? this.doc.querySelector(this.nzTarget) : this.nzTarget;\n      this.registerScrollEvent();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n\nimport { NzBackTopComponent } from './back-top.component';\n\n@NgModule({\n  declarations: [NzBackTopComponent],\n  exports: [NzBackTopComponent],\n  imports: [CommonModule, PlatformModule, NzIconModule]\n})\nexport class NzBackTopModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './back-top.component';\nexport * from './back-top.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}