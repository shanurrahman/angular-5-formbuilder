{"ast":null,"code":"import _toConsumableArray from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _createForOfIteratorHelper from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { ENTER } from '@angular/cdk/keycodes';\nimport { HttpRequest, HttpHeaders, HttpEventType, HttpResponse, HttpClient } from '@angular/common/http';\nimport { Component, ViewEncapsulation, Optional, ViewChild, Input, ChangeDetectionStrategy, ChangeDetectorRef, Inject, NgZone, EventEmitter, Output, NgModule } from '@angular/core';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { of, Observable, Subscription } from 'rxjs';\nimport { switchMap, map, filter } from 'rxjs/operators';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { __decorate, __metadata } from 'tslib';\nimport { toBoolean, InputNumber, InputBoolean } from 'ng-zorro-antd/core/util';\nimport { NzI18nService, NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common/http';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from 'ng-zorro-antd/tooltip';\nimport * as ɵngcc5 from 'ng-zorro-antd/icon';\nimport * as ɵngcc6 from 'ng-zorro-antd/core/transition-patch';\nimport * as ɵngcc7 from 'ng-zorro-antd/button';\nimport * as ɵngcc8 from 'ng-zorro-antd/progress';\nimport * as ɵngcc9 from 'ng-zorro-antd/i18n';\nvar _c0 = [\"file\"];\nvar _c1 = [\"nz-upload-btn\", \"\"];\nvar _c2 = [\"*\"];\n\nfunction NzUploadListComponent_div_0_ng_template_2_div_1_ng_template_1_Template(rf, ctx) {}\n\nvar _c3 = function _c3(a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzUploadListComponent_div_0_ng_template_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 17);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_div_1_ng_template_1_Template, 0, 0, \"ng-template\", 18);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-item-file\", !file_r1.isUploading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_a_2_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 21);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(3).$implicit;\n    ɵngcc0.ɵɵproperty(\"src\", file_r1.thumbUrl || file_r1.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"alt\", file_r1.name);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r29 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 19);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_2_a_2_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r29);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r27 = ɵngcc0.ɵɵnextContext();\n      return ctx_r27.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_a_2_img_1_Template, 1, 2, \"img\", 20);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r21 = ɵngcc0.ɵɵreference(5);\n\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-item-file\", !file_r1.isImageUrl);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url || file_r1.thumbUrl, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.isImageUrl)(\"ngIfElse\", _r21);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_span_3_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_2_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 22);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_span_3_ng_template_1_Template, 0, 0, \"ng-template\", 18);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_ng_template_4_ng_template_0_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_2_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_2_ng_template_4_ng_template_0_Template, 0, 0, \"ng-template\", 18);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0, 12);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_div_1_Template, 2, 6, \"div\", 13);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_2_a_2_Template, 2, 5, \"a\", 14);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_2_span_3_Template, 2, 4, \"span\", 15);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_2_ng_template_4_Template, 1, 4, \"ng-template\", null, 16, ɵngcc0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", file_r1.iconType);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"uploading\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"thumbnail\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"i\", 27);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_ng_container_1_Template, 2, 0, \"ng-container\", 23);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r38 = ɵngcc0.ɵɵreference(2);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r36.isUploading)(\"ngIfElse\", _r38);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r45 = ɵngcc0.ɵɵnextContext(5);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r45.locale.uploading, \" \");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_ng_container_1_Template, 2, 1, \"ng-container\", 23);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r38 = ɵngcc0.ɵɵreference(2);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r36.isUploading)(\"ngIfElse\", _r38);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 28);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r36.isUploading ? \"loading\" : \"paper-clip\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementContainerStart(1, 12);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_Template, 2, 2, \"ng-container\", 25);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_Template, 2, 2, \"ng-container\", 25);\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_4_ng_container_0_i_4_Template, 1, 1, \"i\", 26);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r37 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", ctx_r37.listType);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"picture\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"picture-card\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 29);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r36.isImageUrl ? \"picture\" : \"file\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_4_ng_container_0_Template, 5, 3, \"ng-container\", 23);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_4_ng_template_1_Template, 1, 1, \"ng-template\", null, 24, ɵngcc0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r5.iconRender)(\"ngIfElse\", ctx_r5.iconRender);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_6_span_0_button_1_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_6_span_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\", 32);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_6_span_0_button_1_ng_template_1_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(3);\n\n    var _r12 = ɵngcc0.ɵɵreference(13);\n\n    var ctx_r50 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r50.locale.downloadFile);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r12);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_6_span_0_button_2_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_6_span_0_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\", 32);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_6_span_0_button_2_ng_template_1_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(3);\n\n    var _r10 = ɵngcc0.ɵɵreference(11);\n\n    var ctx_r51 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r51.locale.removeFile);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r10);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_6_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_6_span_0_button_1_Template, 2, 2, \"button\", 31);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_6_span_0_button_2_Template, 2, 2, \"button\", 31);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    var ctx_r49 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate1(\"ant-upload-list-item-card-actions \", ctx_r49.listType === \"picture\" ? \"picture\" : \"\", \"\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.showDownload);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r49.icons.showRemoveIcon);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_6_span_0_Template, 3, 5, \"span\", 30);\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.listType !== \"picture-card\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_8_a_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r60 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 35);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_8_a_0_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r60);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r58 = ɵngcc0.ɵɵnextContext();\n      return ctx_r58.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"ngClass\", file_r1.listItemNameCls)(\"href\", file_r1.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"title\", file_r1.name)(\"download\", file_r1.linkProps && file_r1.linkProps.download);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", file_r1.name, \" \");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_8_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r64 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"span\", 36);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_8_span_1_Template_span_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r64);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r62 = ɵngcc0.ɵɵnextContext();\n      return ctx_r62.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"ngClass\", file_r1.listItemNameCls);\n    ɵngcc0.ɵɵattribute(\"title\", file_r1.name);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", file_r1.name, \" \");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_8_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_8_a_0_Template, 2, 5, \"a\", 33);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_8_span_1_Template, 2, 3, \"span\", 34);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_8_ng_template_2_Template, 0, 0, \"ng-template\", 9);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n\n    var _r6 = ɵngcc0.ɵɵreference(7);\n\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.url);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !file_r1.url);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r6);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_10_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r70 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"i\", 38);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_10_i_0_Template_i_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r70);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r68 = ɵngcc0.ɵɵnextContext();\n      return ctx_r68.handleRemove(file_r1, $event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r67 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r67.locale.removeFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_10_i_0_Template, 1, 1, \"i\", 37);\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.icons.showRemoveIcon);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_12_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r74 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"i\", 40);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_12_i_0_Template_i_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r74);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r72 = ɵngcc0.ɵɵnextContext();\n      return ctx_r72.handleDownload(file_r1);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r71 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r71.locale.downloadFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_12_i_0_Template, 1, 1, \"i\", 39);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.showDownload);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_16_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_17_Template(rf, ctx) {}\n\nvar _c4 = function _c4() {\n  return {\n    opacity: 0.5,\n    \"pointer-events\": \"none\"\n  };\n};\n\nfunction NzUploadListComponent_div_0_span_18_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r81 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 43);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_span_18_a_1_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r81);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r79 = ɵngcc0.ɵɵnextContext();\n      return ctx_r79.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵelement(1, \"i\", 44);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    var ctx_r76 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r76.locale.previewFile);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url || file_r1.thumbUrl, ɵngcc0.ɵɵsanitizeUrl)(\"ngStyle\", !(file_r1.url || file_r1.thumbUrl) ? ɵngcc0.ɵɵpureFunction0(3, _c4) : null);\n  }\n}\n\nfunction NzUploadListComponent_div_0_span_18_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_span_18_ng_template_3_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 41);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_span_18_a_1_Template, 2, 4, \"a\", 42);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_span_18_ng_template_2_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_span_18_ng_template_3_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r12 = ɵngcc0.ɵɵreference(13);\n\n    var _r10 = ɵngcc0.ɵɵreference(11);\n\n    var ctx_r16 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r16.icons.showPreviewIcon);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r12);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r10);\n  }\n}\n\nfunction NzUploadListComponent_div_0_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 45);\n    ɵngcc0.ɵɵelement(1, \"nz-progress\", 46);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzPercent\", file_r1.percent)(\"nzShowInfo\", false)(\"nzStrokeWidth\", 2);\n  }\n}\n\nfunction NzUploadListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_2_Template, 6, 3, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_4_Template, 3, 2, \"ng-template\", null, 3, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(6, NzUploadListComponent_div_0_ng_template_6_Template, 1, 1, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(8, NzUploadListComponent_div_0_ng_template_8_Template, 3, 3, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(10, NzUploadListComponent_div_0_ng_template_10_Template, 1, 1, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(12, NzUploadListComponent_div_0_ng_template_12_Template, 1, 1, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementStart(14, \"div\", 8);\n    ɵngcc0.ɵɵelementStart(15, \"span\");\n    ɵngcc0.ɵɵtemplate(16, NzUploadListComponent_div_0_ng_template_16_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵtemplate(17, NzUploadListComponent_div_0_ng_template_17_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(18, NzUploadListComponent_div_0_span_18_Template, 4, 3, \"span\", 10);\n    ɵngcc0.ɵɵtemplate(19, NzUploadListComponent_div_0_div_19_Template, 2, 3, \"div\", 11);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ctx.$implicit;\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    var _r8 = ɵngcc0.ɵɵreference(9);\n\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-picture-card-container\", ctx_r0.listType === \"picture-card\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassMapInterpolate2(\"ant-upload-list-item ant-upload-list-item-\", file_r1.status, \" ant-upload-list-item-list-type-\", ctx_r0.listType, \"\");\n    ɵngcc0.ɵɵproperty(\"@itemState\", undefined)(\"nzTooltipTitle\", file_r1.status === \"error\" ? file_r1.message : null);\n    ɵngcc0.ɵɵattribute(\"data-key\", file_r1.key);\n    ɵngcc0.ɵɵadvance(15);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r8);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.listType === \"picture-card\" && !file_r1.isUploading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.isUploading);\n  }\n}\n\nvar _c5 = [\"uploadComp\"];\nvar _c6 = [\"listComp\"];\n\nvar _c7 = function _c7() {\n  return [];\n};\n\nfunction NzUploadComponent_ng_template_0_nz_upload_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-upload-list\", 8, 9);\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r11.nzShowUploadList ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"locale\", ctx_r11.locale)(\"listType\", ctx_r11.nzListType)(\"items\", ctx_r11.nzFileList || ɵngcc0.ɵɵpureFunction0(12, _c7))(\"icons\", ctx_r11.nzShowUploadList)(\"iconRender\", ctx_r11.nzIconRender)(\"previewFile\", ctx_r11.nzPreviewFile)(\"previewIsImage\", ctx_r11.nzPreviewIsImage)(\"onPreview\", ctx_r11.nzPreview)(\"onRemove\", ctx_r11.onRemove)(\"onDownload\", ctx_r11.nzDownload);\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_0_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 10);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r12.nzFileListRender)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, ctx_r12.nzFileList));\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_nz_upload_list_0_Template, 2, 13, \"nz-upload-list\", 6);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_0_ng_container_1_Template, 2, 4, \"ng-container\", 7);\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.locale && !ctx_r1.nzFileListRender);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.nzFileListRender);\n  }\n}\n\nfunction NzUploadComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_4_ng_template_3_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 11);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 12, 13);\n    ɵngcc0.ɵɵtemplate(3, NzUploadComponent_ng_template_4_ng_template_3_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext();\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r5.nzShowButton ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r5.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r5._btnOptions);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n  }\n}\n\nfunction NzUploadComponent_ng_container_6_ng_template_5_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_container_6_ng_template_6_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r21 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 15);\n    ɵngcc0.ɵɵlistener(\"drop\", function NzUploadComponent_ng_container_6_Template_div_drop_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r20 = ɵngcc0.ɵɵnextContext();\n      return ctx_r20.fileDrop($event);\n    })(\"dragover\", function NzUploadComponent_ng_container_6_Template_div_dragover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r22 = ɵngcc0.ɵɵnextContext();\n      return ctx_r22.fileDrop($event);\n    })(\"dragleave\", function NzUploadComponent_ng_container_6_Template_div_dragleave_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r23 = ɵngcc0.ɵɵnextContext();\n      return ctx_r23.fileDrop($event);\n    });\n    ɵngcc0.ɵɵelementStart(2, \"div\", 16, 13);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 17);\n    ɵngcc0.ɵɵtemplate(5, NzUploadComponent_ng_container_6_ng_template_5_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_ng_template_6_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = ɵngcc0.ɵɵnextContext();\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r6.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r6._btnOptions);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4);\n  }\n}\n\nfunction NzUploadComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_7_ng_container_0_Template, 3, 2, \"ng-container\", 3);\n  }\n\n  if (rf & 2) {\n    var ctx_r8 = ɵngcc0.ɵɵnextContext();\n\n    var _r9 = ɵngcc0.ɵɵreference(10);\n\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r8.nzListType === \"picture-card\")(\"ngIfElse\", _r9);\n  }\n}\n\nfunction NzUploadComponent_ng_template_9_ng_template_0_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_9_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_9_ng_template_0_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_9_ng_template_1_Template, 0, 0, \"ng-template\", 14);\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n  }\n}\n\nvar NzUploadBtnComponent = /*#__PURE__*/function () {\n  function NzUploadBtnComponent(http) {\n    _classCallCheck(this, NzUploadBtnComponent);\n\n    this.http = http;\n    this.reqs = {};\n    this.destroy = false;\n\n    if (!http) {\n      throw new Error(\"Not found 'HttpClient', You can import 'HttpClientModule' in your root module.\");\n    }\n  }\n\n  _createClass(NzUploadBtnComponent, [{\n    key: \"onClick\",\n    value: function onClick() {\n      if (this.options.disabled || !this.options.openFileDialogOnClick) {\n        return;\n      }\n\n      this.file.nativeElement.click();\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      if (this.options.disabled) {\n        return;\n      }\n\n      if (e.key === 'Enter' || e.keyCode === ENTER) {\n        this.onClick();\n      }\n    } // skip safari bug\n\n  }, {\n    key: \"onFileDrop\",\n    value: function onFileDrop(e) {\n      var _this = this;\n\n      if (this.options.disabled || e.type === 'dragover') {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.options.directory) {\n        this.traverseFileTree(e.dataTransfer.items);\n      } else {\n        var files = Array.prototype.slice.call(e.dataTransfer.files).filter(function (file) {\n          return _this.attrAccept(file, _this.options.accept);\n        });\n\n        if (files.length) {\n          this.uploadFiles(files);\n        }\n      }\n\n      e.preventDefault();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      if (this.options.disabled) {\n        return;\n      }\n\n      var hie = e.target;\n      this.uploadFiles(hie.files);\n      hie.value = '';\n    }\n  }, {\n    key: \"traverseFileTree\",\n    value: function traverseFileTree(files) {\n      var _this2 = this;\n\n      var _traverseFileTree = function _traverseFileTree(item, path) {\n        if (item.isFile) {\n          item.file(function (file) {\n            if (_this2.attrAccept(file, _this2.options.accept)) {\n              _this2.uploadFiles([file]);\n            }\n          });\n        } else if (item.isDirectory) {\n          var dirReader = item.createReader();\n          dirReader.readEntries(function (entries) {\n            var _iterator = _createForOfIteratorHelper(entries),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var entrieItem = _step.value;\n\n                _traverseFileTree(entrieItem, \"\".concat(path).concat(item.name, \"/\"));\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          });\n        }\n      };\n\n      var _iterator2 = _createForOfIteratorHelper(files),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var file = _step2.value;\n\n          _traverseFileTree(file.webkitGetAsEntry(), '');\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"attrAccept\",\n    value: function attrAccept(file, acceptedFiles) {\n      if (file && acceptedFiles) {\n        var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n        var fileName = '' + file.name;\n        var mimeType = '' + file.type;\n        var baseMimeType = mimeType.replace(/\\/.*$/, '');\n        return acceptedFilesArray.some(function (type) {\n          var validType = type.trim();\n\n          if (validType.charAt(0) === '.') {\n            return fileName.toLowerCase().indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1;\n          } else if (/\\/\\*$/.test(validType)) {\n            // This is something like a image/* mime type\n            return baseMimeType === validType.replace(/\\/.*$/, '');\n          }\n\n          return mimeType === validType;\n        });\n      }\n\n      return true;\n    }\n  }, {\n    key: \"attachUid\",\n    value: function attachUid(file) {\n      if (!file.uid) {\n        file.uid = Math.random().toString(36).substring(2);\n      }\n\n      return file;\n    }\n  }, {\n    key: \"uploadFiles\",\n    value: function uploadFiles(fileList) {\n      var _this3 = this;\n\n      var filters$ = of(Array.prototype.slice.call(fileList));\n\n      if (this.options.filters) {\n        this.options.filters.forEach(function (f) {\n          filters$ = filters$.pipe(switchMap(function (list) {\n            var fnRes = f.fn(list);\n            return fnRes instanceof Observable ? fnRes : of(fnRes);\n          }));\n        });\n      }\n\n      filters$.subscribe(function (list) {\n        list.forEach(function (file) {\n          _this3.attachUid(file);\n\n          _this3.upload(file, list);\n        });\n      }, function (e) {\n        warn(\"Unhandled upload filter error\", e);\n      });\n    }\n  }, {\n    key: \"upload\",\n    value: function upload(file, fileList) {\n      var _this4 = this;\n\n      if (!this.options.beforeUpload) {\n        return this.post(file);\n      }\n\n      var before = this.options.beforeUpload(file, fileList);\n\n      if (before instanceof Observable) {\n        before.subscribe(function (processedFile) {\n          var processedFileType = Object.prototype.toString.call(processedFile);\n\n          if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n            _this4.attachUid(processedFile);\n\n            _this4.post(processedFile);\n          } else if (typeof processedFile === 'boolean' && processedFile !== false) {\n            _this4.post(file);\n          }\n        }, function (e) {\n          warn(\"Unhandled upload beforeUpload error\", e);\n        });\n      } else if (before !== false) {\n        return this.post(file);\n      }\n    }\n  }, {\n    key: \"post\",\n    value: function post(file) {\n      var _this5 = this;\n\n      if (this.destroy) {\n        return;\n      }\n\n      var process$ = of(file);\n      var opt = this.options;\n      var uid = file.uid;\n      var action = opt.action,\n          data = opt.data,\n          headers = opt.headers,\n          transformFile = opt.transformFile;\n      var args = {\n        action: typeof action === 'string' ? action : '',\n        name: opt.name,\n        headers: headers,\n        file: file,\n        postFile: file,\n        data: data,\n        withCredentials: opt.withCredentials,\n        onProgress: opt.onProgress ? function (e) {\n          opt.onProgress(e, file);\n        } : undefined,\n        onSuccess: function onSuccess(ret, xhr) {\n          _this5.clean(uid);\n\n          opt.onSuccess(ret, file, xhr);\n        },\n        onError: function onError(xhr) {\n          _this5.clean(uid);\n\n          opt.onError(xhr, file);\n        }\n      };\n\n      if (typeof action === 'function') {\n        var actionResult = action(file);\n\n        if (actionResult instanceof Observable) {\n          process$ = process$.pipe(switchMap(function () {\n            return actionResult;\n          }), map(function (res) {\n            args.action = res;\n            return file;\n          }));\n        } else {\n          args.action = actionResult;\n        }\n      }\n\n      if (typeof transformFile === 'function') {\n        var transformResult = transformFile(file);\n        process$ = process$.pipe(switchMap(function () {\n          return transformResult instanceof Observable ? transformResult : of(transformResult);\n        }));\n      }\n\n      if (typeof data === 'function') {\n        var dataResult = data(file);\n\n        if (dataResult instanceof Observable) {\n          process$ = process$.pipe(switchMap(function () {\n            return dataResult;\n          }), map(function (res) {\n            args.data = res;\n            return file;\n          }));\n        } else {\n          args.data = dataResult;\n        }\n      }\n\n      if (typeof headers === 'function') {\n        var headersResult = headers(file);\n\n        if (headersResult instanceof Observable) {\n          process$ = process$.pipe(switchMap(function () {\n            return headersResult;\n          }), map(function (res) {\n            args.headers = res;\n            return file;\n          }));\n        } else {\n          args.headers = headersResult;\n        }\n      }\n\n      process$.subscribe(function (newFile) {\n        args.postFile = newFile;\n\n        var req$ = (opt.customRequest || _this5.xhr).call(_this5, args);\n\n        if (!(req$ instanceof Subscription)) {\n          warn(\"Must return Subscription type in '[nzCustomRequest]' property\");\n        }\n\n        _this5.reqs[uid] = req$;\n        opt.onStart(file);\n      });\n    }\n  }, {\n    key: \"xhr\",\n    value: function xhr(args) {\n      var _this6 = this;\n\n      var formData = new FormData();\n\n      if (args.data) {\n        Object.keys(args.data).map(function (key) {\n          formData.append(key, args.data[key]);\n        });\n      }\n\n      formData.append(args.name, args.postFile);\n\n      if (!args.headers) {\n        args.headers = {};\n      }\n\n      if (args.headers['X-Requested-With'] !== null) {\n        args.headers['X-Requested-With'] = \"XMLHttpRequest\";\n      } else {\n        delete args.headers['X-Requested-With'];\n      }\n\n      var req = new HttpRequest('POST', args.action, formData, {\n        reportProgress: true,\n        withCredentials: args.withCredentials,\n        headers: new HttpHeaders(args.headers)\n      });\n      return this.http.request(req).subscribe(function (event) {\n        if (event.type === HttpEventType.UploadProgress) {\n          if (event.total > 0) {\n            event.percent = event.loaded / event.total * 100;\n          }\n\n          args.onProgress(event, args.file);\n        } else if (event instanceof HttpResponse) {\n          args.onSuccess(event.body, args.file, event);\n        }\n      }, function (err) {\n        _this6.abort(args.file);\n\n        args.onError(err, args.file);\n      });\n    }\n  }, {\n    key: \"clean\",\n    value: function clean(uid) {\n      var req$ = this.reqs[uid];\n\n      if (req$ instanceof Subscription) {\n        req$.unsubscribe();\n      }\n\n      delete this.reqs[uid];\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(file) {\n      var _this7 = this;\n\n      if (file) {\n        this.clean(file && file.uid);\n      } else {\n        Object.keys(this.reqs).forEach(function (uid) {\n          return _this7.clean(uid);\n        });\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroy = true;\n      this.abort();\n    }\n  }]);\n\n  return NzUploadBtnComponent;\n}();\n\nNzUploadBtnComponent.ɵfac = function NzUploadBtnComponent_Factory(t) {\n  return new (t || NzUploadBtnComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.HttpClient, 8));\n};\n\nNzUploadBtnComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzUploadBtnComponent,\n  selectors: [[\"\", \"nz-upload-btn\", \"\"]],\n  viewQuery: function NzUploadBtnComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.file = _t.first);\n    }\n  },\n  hostVars: 6,\n  hostBindings: function NzUploadBtnComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"click\", function NzUploadBtnComponent_click_HostBindingHandler() {\n        return ctx.onClick();\n      })(\"keydown\", function NzUploadBtnComponent_keydown_HostBindingHandler($event) {\n        return ctx.onKeyDown($event);\n      })(\"drop\", function NzUploadBtnComponent_drop_HostBindingHandler($event) {\n        return ctx.onFileDrop($event);\n      })(\"dragover\", function NzUploadBtnComponent_dragover_HostBindingHandler($event) {\n        return ctx.onFileDrop($event);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"tabindex\", \"0\")(\"role\", \"button\");\n      ɵngcc0.ɵɵclassProp(\"ant-upload\", true)(\"ant-upload-disabled\", ctx.options.disabled);\n    }\n  },\n  inputs: {\n    options: \"options\"\n  },\n  exportAs: [\"nzUploadBtn\"],\n  attrs: _c1,\n  ngContentSelectors: _c2,\n  decls: 3,\n  vars: 4,\n  consts: [[\"type\", \"file\", 2, \"display\", \"none\", 3, \"multiple\", \"change\"], [\"file\", \"\"]],\n  template: function NzUploadBtnComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"input\", 0, 1);\n      ɵngcc0.ɵɵlistener(\"change\", function NzUploadBtnComponent_Template_input_change_0_listener($event) {\n        return ctx.onChange($event);\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵprojection(2);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"multiple\", ctx.options.multiple);\n      ɵngcc0.ɵɵattribute(\"accept\", ctx.options.accept)(\"directory\", ctx.options.directory ? \"directory\" : null)(\"webkitdirectory\", ctx.options.directory ? \"webkitdirectory\" : null);\n    }\n  },\n  encapsulation: 2\n});\n\nNzUploadBtnComponent.ctorParameters = function () {\n  return [{\n    type: HttpClient,\n    decorators: [{\n      type: Optional\n    }]\n  }];\n};\n\nNzUploadBtnComponent.propDecorators = {\n  file: [{\n    type: ViewChild,\n    args: ['file', {\n      static: false\n    }]\n  }],\n  options: [{\n    type: Input\n  }]\n};\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nvar ɵ0 = isImageFileType;\nvar MEASURE_SIZE = 200;\n\nvar NzUploadListComponent = /*#__PURE__*/function () {\n  // #endregion\n  function NzUploadListComponent(cdr, doc, ngZone, platform) {\n    _classCallCheck(this, NzUploadListComponent);\n\n    this.cdr = cdr;\n    this.doc = doc;\n    this.ngZone = ngZone;\n    this.platform = platform;\n    this.list = [];\n    this.locale = {};\n    this.iconRender = null;\n  }\n\n  _createClass(NzUploadListComponent, [{\n    key: \"genErr\",\n    value: function genErr(file) {\n      if (file.response && typeof file.response === 'string') {\n        return file.response;\n      }\n\n      return file.error && file.error.statusText || this.locale.uploadError;\n    }\n  }, {\n    key: \"extname\",\n    value: function extname(url) {\n      var temp = url.split('/');\n      var filename = temp[temp.length - 1];\n      var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n      return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n    }\n  }, {\n    key: \"isImageUrl\",\n    value: function isImageUrl(file) {\n      if (isImageFileType(file.type)) {\n        return true;\n      }\n\n      var url = file.thumbUrl || file.url || '';\n\n      if (!url) {\n        return false;\n      }\n\n      var extension = this.extname(url);\n\n      if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n        return true;\n      } else if (/^data:/.test(url)) {\n        // other file types of base64\n        return false;\n      } else if (extension) {\n        // other file types which have extension\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getIconType\",\n    value: function getIconType(file) {\n      if (!this.showPic) {\n        return '';\n      }\n\n      if (file.isUploading || !file.thumbUrl && !file.url) {\n        return 'uploading';\n      } else {\n        return 'thumbnail';\n      }\n    }\n  }, {\n    key: \"previewImage\",\n    value: function previewImage(file) {\n      var _this8 = this;\n\n      return new Promise(function (resolve) {\n        if (!isImageFileType(file.type)) {\n          resolve('');\n          return;\n        }\n\n        _this8.ngZone.runOutsideAngular(function () {\n          var canvas = _this8.doc.createElement('canvas');\n\n          canvas.width = MEASURE_SIZE;\n          canvas.height = MEASURE_SIZE;\n          canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n\n          _this8.doc.body.appendChild(canvas);\n\n          var ctx = canvas.getContext('2d');\n          var img = new Image();\n\n          img.onload = function () {\n            var width = img.width,\n                height = img.height;\n            var drawWidth = MEASURE_SIZE;\n            var drawHeight = MEASURE_SIZE;\n            var offsetX = 0;\n            var offsetY = 0;\n\n            if (width < height) {\n              drawHeight = height * (MEASURE_SIZE / width);\n              offsetY = -(drawHeight - drawWidth) / 2;\n            } else {\n              drawWidth = width * (MEASURE_SIZE / height);\n              offsetX = -(drawWidth - drawHeight) / 2;\n            }\n\n            try {\n              ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n            } catch (_a) {}\n\n            var dataURL = canvas.toDataURL();\n\n            _this8.doc.body.removeChild(canvas);\n\n            resolve(dataURL);\n          };\n\n          img.src = window.URL.createObjectURL(file);\n        });\n      });\n    }\n  }, {\n    key: \"genThumb\",\n    value: function genThumb() {\n      var _this9 = this;\n\n      if (!this.platform.isBrowser) {\n        return;\n      }\n\n      var win = window;\n\n      if (!this.showPic || typeof document === 'undefined' || typeof win === 'undefined' || !win.FileReader || !win.File) {\n        return;\n      }\n\n      this.list.filter(function (file) {\n        return file.originFileObj instanceof File && file.thumbUrl === undefined;\n      }).forEach(function (file) {\n        file.thumbUrl = '';\n        (_this9.previewFile ? _this9.previewFile(file).toPromise() : _this9.previewImage(file.originFileObj)).then(function (dataUrl) {\n          file.thumbUrl = dataUrl;\n\n          _this9.detectChanges();\n        });\n      });\n    }\n  }, {\n    key: \"listItemNameCls\",\n    value: function listItemNameCls(file) {\n      var _ref;\n\n      var count = [this.showDownload(file), this.icons.showRemoveIcon].filter(function (x) {\n        return x;\n      }).length;\n      return _ref = {}, _defineProperty(_ref, \"ant-upload-list-item-name\", true), _defineProperty(_ref, \"ant-upload-list-item-name-icon-count-\".concat(count), true), _ref;\n    }\n  }, {\n    key: \"showDownload\",\n    value: function showDownload(file) {\n      return !!(this.icons.showDownloadIcon && file.status === 'done');\n    }\n  }, {\n    key: \"fixData\",\n    value: function fixData() {\n      var _this10 = this;\n\n      this.list.forEach(function (file) {\n        file.isUploading = file.status === 'uploading';\n        file.message = _this10.genErr(file);\n        file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n        file.isImageUrl = _this10.previewIsImage ? _this10.previewIsImage(file) : _this10.isImageUrl(file);\n        file.iconType = _this10.getIconType(file);\n        file.listItemNameCls = _this10.listItemNameCls(file);\n        file.showDownload = _this10.showDownload(file);\n      });\n    }\n  }, {\n    key: \"handlePreview\",\n    value: function handlePreview(file, e) {\n      if (!this.onPreview) {\n        return;\n      }\n\n      e.preventDefault();\n      return this.onPreview(file);\n    }\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove(file, e) {\n      e.preventDefault();\n\n      if (this.onRemove) {\n        this.onRemove(file);\n      }\n\n      return;\n    }\n  }, {\n    key: \"handleDownload\",\n    value: function handleDownload(file) {\n      if (typeof this.onDownload === 'function') {\n        this.onDownload(file);\n      } else if (file.url) {\n        window.open(file.url);\n      }\n    }\n  }, {\n    key: \"detectChanges\",\n    value: function detectChanges() {\n      this.fixData();\n      this.cdr.detectChanges();\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.fixData();\n      this.genThumb();\n    }\n  }, {\n    key: \"showPic\",\n    get: function get() {\n      return this.listType === 'picture' || this.listType === 'picture-card';\n    }\n  }, {\n    key: \"items\",\n    set: function set(list) {\n      this.list = list;\n    }\n  }]);\n\n  return NzUploadListComponent;\n}();\n\nNzUploadListComponent.ɵfac = function NzUploadListComponent_Factory(t) {\n  return new (t || NzUploadListComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform));\n};\n\nNzUploadListComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzUploadListComponent,\n  selectors: [[\"nz-upload-list\"]],\n  hostVars: 8,\n  hostBindings: function NzUploadListComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-upload-list\", true)(\"ant-upload-list-text\", ctx.listType === \"text\")(\"ant-upload-list-picture\", ctx.listType === \"picture\")(\"ant-upload-list-picture-card\", ctx.listType === \"picture-card\");\n    }\n  },\n  inputs: {\n    locale: \"locale\",\n    iconRender: \"iconRender\",\n    items: \"items\",\n    listType: \"listType\",\n    icons: \"icons\",\n    onPreview: \"onPreview\",\n    onRemove: \"onRemove\",\n    onDownload: \"onDownload\",\n    previewFile: \"previewFile\",\n    previewIsImage: \"previewIsImage\"\n  },\n  exportAs: [\"nzUploadList\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"ant-upload-list-picture-card-container\", 4, \"ngFor\", \"ngForOf\"], [\"nz-tooltip\", \"\", 3, \"nzTooltipTitle\"], [\"icon\", \"\"], [\"iconNode\", \"\"], [\"downloadOrDelete\", \"\"], [\"preview\", \"\"], [\"removeIcon\", \"\"], [\"downloadIcon\", \"\"], [1, \"ant-upload-list-item-info\"], [3, \"ngTemplateOutlet\"], [\"class\", \"ant-upload-list-item-actions\", 4, \"ngIf\"], [\"class\", \"ant-upload-list-item-progress\", 4, \"ngIf\"], [3, \"ngSwitch\"], [\"class\", \"ant-upload-list-item-thumbnail\", 3, \"ant-upload-list-item-file\", 4, \"ngSwitchCase\"], [\"class\", \"ant-upload-list-item-thumbnail\", \"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ant-upload-list-item-file\", \"href\", \"click\", 4, \"ngSwitchCase\"], [\"class\", \"ant-upload-text-icon\", 4, \"ngSwitchDefault\"], [\"noImageThumbTpl\", \"\"], [1, \"ant-upload-list-item-thumbnail\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"ant-upload-list-item-thumbnail\", 3, \"href\", \"click\"], [\"class\", \"ant-upload-list-item-image\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [1, \"ant-upload-list-item-image\", 3, \"src\"], [1, \"ant-upload-text-icon\"], [4, \"ngIf\", \"ngIfElse\"], [\"iconNodeFileIcon\", \"\"], [4, \"ngSwitchCase\"], [\"nz-icon\", \"\", 3, \"nzType\", 4, \"ngSwitchDefault\"], [\"nz-icon\", \"\", \"nzType\", \"loading\"], [\"nz-icon\", \"\", 3, \"nzType\"], [\"nz-icon\", \"\", \"nzTheme\", \"twotone\", 3, \"nzType\"], [3, \"class\", 4, \"ngIf\"], [\"nz-button\", \"\", \"nzType\", \"text\", \"nzSize\", \"small\", 3, \"title\", 4, \"ngIf\"], [\"nz-button\", \"\", \"nzType\", \"text\", \"nzSize\", \"small\", 3, \"title\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ngClass\", \"href\", \"click\", 4, \"ngIf\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ngClass\", \"href\", \"click\"], [3, \"ngClass\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", 3, \"title\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"download\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"download\", 3, \"title\", \"click\"], [1, \"ant-upload-list-item-actions\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"title\", \"ngStyle\", \"click\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"title\", \"ngStyle\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"eye\"], [1, \"ant-upload-list-item-progress\"], [\"nzType\", \"line\", 3, \"nzPercent\", \"nzShowInfo\", \"nzStrokeWidth\"]],\n  template: function NzUploadListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_Template, 20, 13, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.list);\n    }\n  },\n  directives: [ɵngcc3.NgForOf, ɵngcc4.NzTooltipDirective, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgIf, ɵngcc3.NgSwitch, ɵngcc3.NgSwitchCase, ɵngcc3.NgSwitchDefault, ɵngcc5.NzIconDirective, ɵngcc6.ɵNzTransitionPatchDirective, ɵngcc7.NzButtonComponent, ɵngcc3.NgClass, ɵngcc3.NgStyle, ɵngcc8.NzProgressComponent],\n  encapsulation: 2,\n  data: {\n    animation: [trigger('itemState', [transition(':enter', [style({\n      height: '0',\n      width: '0',\n      opacity: 0\n    }), animate(150, style({\n      height: '*',\n      width: '*',\n      opacity: 1\n    }))]), transition(':leave', [animate(150, style({\n      height: '0',\n      width: '0',\n      opacity: 0\n    }))])])]\n  },\n  changeDetection: 0\n});\n\nNzUploadListComponent.ctorParameters = function () {\n  return [{\n    type: ChangeDetectorRef\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: NgZone\n  }, {\n    type: Platform\n  }];\n};\n\nNzUploadListComponent.propDecorators = {\n  locale: [{\n    type: Input\n  }],\n  listType: [{\n    type: Input\n  }],\n  items: [{\n    type: Input\n  }],\n  icons: [{\n    type: Input\n  }],\n  onPreview: [{\n    type: Input\n  }],\n  onRemove: [{\n    type: Input\n  }],\n  onDownload: [{\n    type: Input\n  }],\n  previewFile: [{\n    type: Input\n  }],\n  previewIsImage: [{\n    type: Input\n  }],\n  iconRender: [{\n    type: Input\n  }]\n};\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar NzUploadComponent = /*#__PURE__*/function () {\n  // #endregion\n  function NzUploadComponent(cdr, i18n) {\n    var _this11 = this;\n\n    _classCallCheck(this, NzUploadComponent);\n\n    this.cdr = cdr;\n    this.i18n = i18n; // #region fields\n\n    this.nzType = 'select';\n    this.nzLimit = 0;\n    this.nzSize = 0;\n    this.nzDirectory = false;\n    this.nzOpenFileDialogOnClick = true;\n    this.nzFilter = [];\n    this.nzFileList = [];\n    this.nzDisabled = false;\n    this.nzListType = 'text';\n    this.nzMultiple = false;\n    this.nzName = 'file';\n    this._showUploadList = true;\n    this.nzShowButton = true;\n    this.nzWithCredentials = false;\n    this.nzIconRender = null;\n    this.nzFileListRender = null;\n    this.nzChange = new EventEmitter();\n    this.nzFileListChange = new EventEmitter();\n\n    this.onStart = function (file) {\n      if (!_this11.nzFileList) {\n        _this11.nzFileList = [];\n      }\n\n      var targetItem = _this11.fileToObject(file);\n\n      targetItem.status = 'uploading';\n      _this11.nzFileList = _this11.nzFileList.concat(targetItem);\n\n      _this11.nzFileListChange.emit(_this11.nzFileList);\n\n      _this11.nzChange.emit({\n        file: targetItem,\n        fileList: _this11.nzFileList,\n        type: 'start'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onProgress = function (e, file) {\n      var fileList = _this11.nzFileList;\n\n      var targetItem = _this11.getFileItem(file, fileList);\n\n      targetItem.percent = e.percent;\n\n      _this11.nzChange.emit({\n        event: e,\n        file: Object.assign({}, targetItem),\n        fileList: _this11.nzFileList,\n        type: 'progress'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onSuccess = function (res, file) {\n      var fileList = _this11.nzFileList;\n\n      var targetItem = _this11.getFileItem(file, fileList);\n\n      targetItem.status = 'done';\n      targetItem.response = res;\n\n      _this11.nzChange.emit({\n        file: Object.assign({}, targetItem),\n        fileList: fileList,\n        type: 'success'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onError = function (err, file) {\n      var fileList = _this11.nzFileList;\n\n      var targetItem = _this11.getFileItem(file, fileList);\n\n      targetItem.error = err;\n      targetItem.status = 'error';\n\n      _this11.nzChange.emit({\n        file: Object.assign({}, targetItem),\n        fileList: fileList,\n        type: 'error'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onRemove = function (file) {\n      _this11.uploadComp.abort(file);\n\n      file.status = 'removed';\n      var fnRes = typeof _this11.nzRemove === 'function' ? _this11.nzRemove(file) : _this11.nzRemove == null ? true : _this11.nzRemove;\n      (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter(function (res) {\n        return res;\n      })).subscribe(function () {\n        _this11.nzFileList = _this11.removeFileItem(file, _this11.nzFileList);\n\n        _this11.nzChange.emit({\n          file: file,\n          fileList: _this11.nzFileList,\n          type: 'removed'\n        });\n\n        _this11.nzFileListChange.emit(_this11.nzFileList);\n\n        _this11.cdr.detectChanges();\n      });\n    }; // #endregion\n    // #region styles\n\n\n    this.prefixCls = 'ant-upload';\n    this.classList = [];\n  }\n\n  _createClass(NzUploadComponent, [{\n    key: \"zipOptions\",\n    value: function zipOptions() {\n      var _this12 = this;\n\n      if (typeof this.nzShowUploadList === 'boolean' && this.nzShowUploadList) {\n        this.nzShowUploadList = {\n          showPreviewIcon: true,\n          showRemoveIcon: true,\n          showDownloadIcon: true\n        };\n      } // filters\n\n\n      var filters = this.nzFilter.slice();\n\n      if (this.nzMultiple && this.nzLimit > 0 && filters.findIndex(function (w) {\n        return w.name === 'limit';\n      }) === -1) {\n        filters.push({\n          name: 'limit',\n          fn: function fn(fileList) {\n            return fileList.slice(-_this12.nzLimit);\n          }\n        });\n      }\n\n      if (this.nzSize > 0 && filters.findIndex(function (w) {\n        return w.name === 'size';\n      }) === -1) {\n        filters.push({\n          name: 'size',\n          fn: function fn(fileList) {\n            return fileList.filter(function (w) {\n              return w.size / 1024 <= _this12.nzSize;\n            });\n          }\n        });\n      }\n\n      if (this.nzFileType && this.nzFileType.length > 0 && filters.findIndex(function (w) {\n        return w.name === 'type';\n      }) === -1) {\n        var types = this.nzFileType.split(',');\n        filters.push({\n          name: 'type',\n          fn: function fn(fileList) {\n            return fileList.filter(function (w) {\n              return ~types.indexOf(w.type);\n            });\n          }\n        });\n      }\n\n      this._btnOptions = {\n        disabled: this.nzDisabled,\n        accept: this.nzAccept,\n        action: this.nzAction,\n        directory: this.nzDirectory,\n        openFileDialogOnClick: this.nzOpenFileDialogOnClick,\n        beforeUpload: this.nzBeforeUpload,\n        customRequest: this.nzCustomRequest,\n        data: this.nzData,\n        headers: this.nzHeaders,\n        name: this.nzName,\n        multiple: this.nzMultiple,\n        withCredentials: this.nzWithCredentials,\n        filters: filters,\n        transformFile: this.nzTransformFile,\n        onStart: this.onStart,\n        onProgress: this.onProgress,\n        onSuccess: this.onSuccess,\n        onError: this.onError\n      };\n      return this;\n    } // #region upload\n\n  }, {\n    key: \"fileToObject\",\n    value: function fileToObject(file) {\n      return {\n        lastModified: file.lastModified,\n        lastModifiedDate: file.lastModifiedDate,\n        name: file.filename || file.name,\n        size: file.size,\n        type: file.type,\n        uid: file.uid,\n        response: file.response,\n        error: file.error,\n        percent: 0,\n        originFileObj: file\n      };\n    }\n  }, {\n    key: \"getFileItem\",\n    value: function getFileItem(file, fileList) {\n      return fileList.filter(function (item) {\n        return item.uid === file.uid;\n      })[0];\n    }\n  }, {\n    key: \"removeFileItem\",\n    value: function removeFileItem(file, fileList) {\n      return fileList.filter(function (item) {\n        return item.uid !== file.uid;\n      });\n    } // skip safari bug\n\n  }, {\n    key: \"fileDrop\",\n    value: function fileDrop(e) {\n      if (e.type === this.dragState) {\n        return;\n      }\n\n      this.dragState = e.type;\n      this.setClassMap();\n    } // #endregion\n    // #region list\n\n  }, {\n    key: \"detectChangesList\",\n    value: function detectChangesList() {\n      var _a;\n\n      this.cdr.detectChanges();\n      (_a = this.listComp) === null || _a === void 0 ? void 0 : _a.detectChanges();\n    }\n  }, {\n    key: \"setClassMap\",\n    value: function setClassMap() {\n      var subCls = [];\n\n      if (this.nzType === 'drag') {\n        if (this.nzFileList.some(function (file) {\n          return file.status === 'uploading';\n        })) {\n          subCls.push(\"\".concat(this.prefixCls, \"-drag-uploading\"));\n        }\n\n        if (this.dragState === 'dragover') {\n          subCls.push(\"\".concat(this.prefixCls, \"-drag-hover\"));\n        }\n      } else {\n        subCls = [\"\".concat(this.prefixCls, \"-select-\").concat(this.nzListType)];\n      }\n\n      this.classList = [this.prefixCls, \"\".concat(this.prefixCls, \"-\").concat(this.nzType)].concat(_toConsumableArray(subCls), [this.nzDisabled && \"\".concat(this.prefixCls, \"-disabled\") || '']).filter(function (item) {\n        return !!item;\n      });\n      this.cdr.detectChanges();\n    } // #endregion\n\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this13 = this;\n\n      this.i18n$ = this.i18n.localeChange.subscribe(function () {\n        _this13.locale = _this13.i18n.getLocaleData('Upload');\n\n        _this13.detectChangesList();\n      });\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.zipOptions().setClassMap();\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.i18n$.unsubscribe();\n    }\n  }, {\n    key: \"nzShowUploadList\",\n    set: function set(value) {\n      this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\n    },\n    get: function get() {\n      return this._showUploadList;\n    }\n  }]);\n\n  return NzUploadComponent;\n}();\n\nNzUploadComponent.ɵfac = function NzUploadComponent_Factory(t) {\n  return new (t || NzUploadComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc9.NzI18nService));\n};\n\nNzUploadComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzUploadComponent,\n  selectors: [[\"nz-upload\"]],\n  viewQuery: function NzUploadComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c5, true);\n      ɵngcc0.ɵɵviewQuery(_c6, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.uploadComp = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listComp = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function NzUploadComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-upload-picture-card-wrapper\", ctx.nzListType === \"picture-card\");\n    }\n  },\n  inputs: {\n    nzType: \"nzType\",\n    nzLimit: \"nzLimit\",\n    nzSize: \"nzSize\",\n    nzDirectory: \"nzDirectory\",\n    nzOpenFileDialogOnClick: \"nzOpenFileDialogOnClick\",\n    nzFilter: \"nzFilter\",\n    nzFileList: \"nzFileList\",\n    nzDisabled: \"nzDisabled\",\n    nzListType: \"nzListType\",\n    nzMultiple: \"nzMultiple\",\n    nzName: \"nzName\",\n    nzShowButton: \"nzShowButton\",\n    nzWithCredentials: \"nzWithCredentials\",\n    nzIconRender: \"nzIconRender\",\n    nzFileListRender: \"nzFileListRender\",\n    nzShowUploadList: \"nzShowUploadList\",\n    nzFileType: \"nzFileType\",\n    nzAccept: \"nzAccept\",\n    nzAction: \"nzAction\",\n    nzBeforeUpload: \"nzBeforeUpload\",\n    nzCustomRequest: \"nzCustomRequest\",\n    nzData: \"nzData\",\n    nzHeaders: \"nzHeaders\",\n    nzRemove: \"nzRemove\",\n    nzPreview: \"nzPreview\",\n    nzPreviewFile: \"nzPreviewFile\",\n    nzPreviewIsImage: \"nzPreviewIsImage\",\n    nzTransformFile: \"nzTransformFile\",\n    nzDownload: \"nzDownload\"\n  },\n  outputs: {\n    nzChange: \"nzChange\",\n    nzFileListChange: \"nzFileListChange\"\n  },\n  exportAs: [\"nzUpload\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c2,\n  decls: 11,\n  vars: 2,\n  consts: [[\"list\", \"\"], [\"con\", \"\"], [\"btn\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"select\", \"\"], [\"pic\", \"\"], [3, \"display\", \"locale\", \"listType\", \"items\", \"icons\", \"iconRender\", \"previewFile\", \"previewIsImage\", \"onPreview\", \"onRemove\", \"onDownload\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"locale\", \"listType\", \"items\", \"icons\", \"iconRender\", \"previewFile\", \"previewIsImage\", \"onPreview\", \"onRemove\", \"onDownload\"], [\"listComp\", \"\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"ngClass\"], [\"nz-upload-btn\", \"\", 3, \"options\"], [\"uploadComp\", \"\"], [3, \"ngTemplateOutlet\"], [3, \"ngClass\", \"drop\", \"dragover\", \"dragleave\"], [\"nz-upload-btn\", \"\", 1, \"ant-upload-btn\", 3, \"options\"], [1, \"ant-upload-drag-container\"]],\n  template: function NzUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_Template, 2, 2, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(4, NzUploadComponent_ng_template_4_Template, 4, 5, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_Template, 7, 4, \"ng-container\", 3);\n      ɵngcc0.ɵɵtemplate(7, NzUploadComponent_ng_template_7_Template, 1, 2, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(9, NzUploadComponent_ng_template_9_Template, 2, 2, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      var _r7 = ɵngcc0.ɵɵreference(8);\n\n      ɵngcc0.ɵɵadvance(6);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzType === \"drag\")(\"ngIfElse\", _r7);\n    }\n  },\n  directives: [ɵngcc3.NgIf, NzUploadListComponent, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgClass, NzUploadBtnComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\nNzUploadComponent.ctorParameters = function () {\n  return [{\n    type: ChangeDetectorRef\n  }, {\n    type: NzI18nService\n  }];\n};\n\nNzUploadComponent.propDecorators = {\n  uploadComp: [{\n    type: ViewChild,\n    args: ['uploadComp', {\n      static: false\n    }]\n  }],\n  listComp: [{\n    type: ViewChild,\n    args: ['listComp', {\n      static: false\n    }]\n  }],\n  nzType: [{\n    type: Input\n  }],\n  nzLimit: [{\n    type: Input\n  }],\n  nzSize: [{\n    type: Input\n  }],\n  nzFileType: [{\n    type: Input\n  }],\n  nzAccept: [{\n    type: Input\n  }],\n  nzAction: [{\n    type: Input\n  }],\n  nzDirectory: [{\n    type: Input\n  }],\n  nzOpenFileDialogOnClick: [{\n    type: Input\n  }],\n  nzBeforeUpload: [{\n    type: Input\n  }],\n  nzCustomRequest: [{\n    type: Input\n  }],\n  nzData: [{\n    type: Input\n  }],\n  nzFilter: [{\n    type: Input\n  }],\n  nzFileList: [{\n    type: Input\n  }],\n  nzDisabled: [{\n    type: Input\n  }],\n  nzHeaders: [{\n    type: Input\n  }],\n  nzListType: [{\n    type: Input\n  }],\n  nzMultiple: [{\n    type: Input\n  }],\n  nzName: [{\n    type: Input\n  }],\n  nzShowUploadList: [{\n    type: Input\n  }],\n  nzShowButton: [{\n    type: Input\n  }],\n  nzWithCredentials: [{\n    type: Input\n  }],\n  nzRemove: [{\n    type: Input\n  }],\n  nzPreview: [{\n    type: Input\n  }],\n  nzPreviewFile: [{\n    type: Input\n  }],\n  nzPreviewIsImage: [{\n    type: Input\n  }],\n  nzTransformFile: [{\n    type: Input\n  }],\n  nzDownload: [{\n    type: Input\n  }],\n  nzIconRender: [{\n    type: Input\n  }],\n  nzFileListRender: [{\n    type: Input\n  }],\n  nzChange: [{\n    type: Output\n  }],\n  nzFileListChange: [{\n    type: Output\n  }]\n};\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzLimit\", void 0);\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzSize\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzDirectory\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzOpenFileDialogOnClick\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzDisabled\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzMultiple\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzShowButton\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzWithCredentials\", void 0);\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadBtnComponent, [{\n    type: Component,\n    args: [{\n      selector: '[nz-upload-btn]',\n      exportAs: 'nzUploadBtn',\n      template: \"<input\\n  type=\\\"file\\\"\\n  #file\\n  (change)=\\\"onChange($event)\\\"\\n  [attr.accept]=\\\"options.accept\\\"\\n  [attr.directory]=\\\"options.directory ? 'directory' : null\\\"\\n  [attr.webkitdirectory]=\\\"options.directory ? 'webkitdirectory' : null\\\"\\n  [multiple]=\\\"options.multiple\\\"\\n  style=\\\"display: none;\\\"\\n/>\\n<ng-content></ng-content>\\n\",\n      host: {\n        '[attr.tabindex]': '\"0\"',\n        '[attr.role]': '\"button\"',\n        '[class.ant-upload]': 'true',\n        '[class.ant-upload-disabled]': 'options.disabled',\n        '(click)': 'onClick()',\n        '(keydown)': 'onKeyDown($event)',\n        '(drop)': 'onFileDrop($event)',\n        '(dragover)': 'onFileDrop($event)'\n      },\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.HttpClient,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    file: [{\n      type: ViewChild,\n      args: ['file', {\n        static: false\n      }]\n    }],\n    options: [{\n      type: Input\n    }]\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadListComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-upload-list',\n      exportAs: 'nzUploadList',\n      template: \"<div\\n  *ngFor=\\\"let file of list\\\"\\n  [class.ant-upload-list-picture-card-container]=\\\"listType === 'picture-card'\\\"\\n>\\n  <div\\n    class=\\\"ant-upload-list-item ant-upload-list-item-{{\\n      file.status\\n    }} ant-upload-list-item-list-type-{{ listType }}\\\"\\n    [attr.data-key]=\\\"file.key\\\"\\n    @itemState\\n    nz-tooltip\\n    [nzTooltipTitle]=\\\"file.status === 'error' ? file.message : null\\\"\\n  >\\n    <ng-template #icon>\\n      <ng-container [ngSwitch]=\\\"file.iconType\\\">\\n        <div\\n          *ngSwitchCase=\\\"'uploading'\\\"\\n          class=\\\"ant-upload-list-item-thumbnail\\\"\\n          [class.ant-upload-list-item-file]=\\\"!file.isUploading\\\"\\n        >\\n          <ng-template\\n            [ngTemplateOutlet]=\\\"iconNode\\\"\\n            [ngTemplateOutletContext]=\\\"{ $implicit: file }\\\"\\n          ></ng-template>\\n        </div>\\n        <a\\n          *ngSwitchCase=\\\"'thumbnail'\\\"\\n          class=\\\"ant-upload-list-item-thumbnail\\\"\\n          [class.ant-upload-list-item-file]=\\\"!file.isImageUrl\\\"\\n          target=\\\"_blank\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [href]=\\\"file.url || file.thumbUrl\\\"\\n          (click)=\\\"handlePreview(file, $event)\\\"\\n        >\\n          <img\\n            *ngIf=\\\"file.isImageUrl; else noImageThumbTpl\\\"\\n            class=\\\"ant-upload-list-item-image\\\"\\n            [src]=\\\"file.thumbUrl || file.url\\\"\\n            [attr.alt]=\\\"file.name\\\"\\n          />\\n        </a>\\n        <span *ngSwitchDefault class=\\\"ant-upload-text-icon\\\">\\n          <ng-template\\n            [ngTemplateOutlet]=\\\"iconNode\\\"\\n            [ngTemplateOutletContext]=\\\"{ $implicit: file }\\\"\\n          ></ng-template>\\n        </span>\\n      </ng-container>\\n      <ng-template #noImageThumbTpl>\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"iconNode\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: file }\\\"\\n        ></ng-template>\\n      </ng-template>\\n    </ng-template>\\n    <ng-template #iconNode let-file>\\n      <ng-container *ngIf=\\\"!iconRender; else iconRender\\\">\\n        <ng-container [ngSwitch]=\\\"listType\\\">\\n          <ng-container *ngSwitchCase=\\\"'picture'\\\">\\n            <ng-container *ngIf=\\\"file.isUploading; else iconNodeFileIcon\\\">\\n              <i nz-icon nzType=\\\"loading\\\"></i>\\n            </ng-container>\\n          </ng-container>\\n          <ng-container *ngSwitchCase=\\\"'picture-card'\\\">\\n            <ng-container *ngIf=\\\"file.isUploading; else iconNodeFileIcon\\\">\\n              {{ locale.uploading }}\\n            </ng-container>\\n          </ng-container>\\n          <i *ngSwitchDefault nz-icon [nzType]=\\\"file.isUploading ? 'loading' : 'paper-clip'\\\"></i>\\n        </ng-container>\\n      </ng-container>\\n      <ng-template #iconNodeFileIcon>\\n        <i nz-icon [nzType]=\\\"file.isImageUrl ? 'picture' : 'file'\\\" nzTheme=\\\"twotone\\\"></i>\\n      </ng-template>\\n    </ng-template>\\n    <ng-template #downloadOrDelete>\\n      <span\\n        *ngIf=\\\"listType !== 'picture-card'\\\"\\n        class=\\\"ant-upload-list-item-card-actions {{ listType === 'picture' ? 'picture' : '' }}\\\"\\n      >\\n        <button\\n          nz-button\\n          nzType=\\\"text\\\"\\n          nzSize=\\\"small\\\"\\n          *ngIf=\\\"file.showDownload\\\"\\n          title=\\\"{{ locale.downloadFile }}\\\"\\n        >\\n          <ng-template [ngTemplateOutlet]=\\\"downloadIcon\\\"></ng-template>\\n        </button>\\n        <button\\n          nz-button\\n          nzType=\\\"text\\\"\\n          nzSize=\\\"small\\\"\\n          *ngIf=\\\"icons.showRemoveIcon\\\"\\n          title=\\\"{{ locale.removeFile }}\\\"\\n        >\\n          <ng-template [ngTemplateOutlet]=\\\"removeIcon\\\"></ng-template>\\n        </button>\\n      </span>\\n    </ng-template>\\n    <ng-template #preview>\\n      <a\\n        *ngIf=\\\"file.url\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n        [ngClass]=\\\"file.listItemNameCls!\\\"\\n        [attr.title]=\\\"file.name\\\"\\n        [href]=\\\"file.url\\\"\\n        [attr.download]=\\\"file.linkProps && file.linkProps.download\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\"\\n      >\\n        {{ file.name }}\\n      </a>\\n      <span\\n        *ngIf=\\\"!file.url\\\"\\n        [ngClass]=\\\"file.listItemNameCls!\\\"\\n        [attr.title]=\\\"file.name\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\"\\n      >\\n        {{ file.name }}\\n      </span>\\n      <ng-template [ngTemplateOutlet]=\\\"downloadOrDelete\\\"></ng-template>\\n    </ng-template>\\n    <ng-template #removeIcon>\\n      <i\\n        *ngIf=\\\"icons.showRemoveIcon\\\"\\n        (click)=\\\"handleRemove(file, $event)\\\"\\n        nz-icon\\n        nzType=\\\"delete\\\"\\n        title=\\\"{{ locale.removeFile }}\\\"\\n      ></i>\\n    </ng-template>\\n    <ng-template #downloadIcon>\\n      <i\\n        *ngIf=\\\"file.showDownload\\\"\\n        (click)=\\\"handleDownload(file)\\\"\\n        nz-icon\\n        nzType=\\\"download\\\"\\n        title=\\\"{{ locale.downloadFile }}\\\"\\n      ></i>\\n    </ng-template>\\n    <div class=\\\"ant-upload-list-item-info\\\">\\n      <span>\\n        <ng-template [ngTemplateOutlet]=\\\"icon\\\"></ng-template>\\n        <ng-template [ngTemplateOutlet]=\\\"preview\\\"></ng-template>\\n      </span>\\n    </div>\\n    <span\\n      *ngIf=\\\"listType === 'picture-card' && !file.isUploading\\\"\\n      class=\\\"ant-upload-list-item-actions\\\"\\n    >\\n      <a\\n        *ngIf=\\\"icons.showPreviewIcon\\\"\\n        [href]=\\\"file.url || file.thumbUrl\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n        title=\\\"{{ locale.previewFile }}\\\"\\n        [ngStyle]=\\\"!(file.url || file.thumbUrl) ? { opacity: 0.5, 'pointer-events': 'none' } : null\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\"\\n      >\\n        <i nz-icon nzType=\\\"eye\\\"></i>\\n      </a>\\n      <ng-template [ngTemplateOutlet]=\\\"downloadIcon\\\"></ng-template>\\n      <ng-template [ngTemplateOutlet]=\\\"removeIcon\\\"></ng-template>\\n    </span>\\n    <div *ngIf=\\\"file.isUploading\\\" class=\\\"ant-upload-list-item-progress\\\">\\n      <nz-progress\\n        [nzPercent]=\\\"file.percent!\\\"\\n        nzType=\\\"line\\\"\\n        [nzShowInfo]=\\\"false\\\"\\n        [nzStrokeWidth]=\\\"2\\\"\\n      ></nz-progress>\\n    </div>\\n  </div>\\n</div>\\n\",\n      animations: [trigger('itemState', [transition(':enter', [style({\n        height: '0',\n        width: '0',\n        opacity: 0\n      }), animate(150, style({\n        height: '*',\n        width: '*',\n        opacity: 1\n      }))]), transition(':leave', [animate(150, style({\n        height: '0',\n        width: '0',\n        opacity: 0\n      }))])])],\n      host: {\n        '[class.ant-upload-list]': \"true\",\n        '[class.ant-upload-list-text]': \"listType === 'text'\",\n        '[class.ant-upload-list-picture]': \"listType === 'picture'\",\n        '[class.ant-upload-list-picture-card]': \"listType === 'picture-card'\"\n      },\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: ɵngcc0.NgZone\n    }, {\n      type: ɵngcc2.Platform\n    }];\n  }, {\n    locale: [{\n      type: Input\n    }],\n    iconRender: [{\n      type: Input\n    }],\n    items: [{\n      type: Input\n    }],\n    listType: [{\n      type: Input\n    }],\n    icons: [{\n      type: Input\n    }],\n    onPreview: [{\n      type: Input\n    }],\n    onRemove: [{\n      type: Input\n    }],\n    onDownload: [{\n      type: Input\n    }],\n    previewFile: [{\n      type: Input\n    }],\n    previewIsImage: [{\n      type: Input\n    }]\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-upload',\n      exportAs: 'nzUpload',\n      template: \"<ng-template #list>\\n  <nz-upload-list\\n    *ngIf=\\\"locale && !nzFileListRender\\\"\\n    #listComp\\n    [style.display]=\\\"nzShowUploadList ? '' : 'none'\\\"\\n    [locale]=\\\"locale\\\"\\n    [listType]=\\\"nzListType\\\"\\n    [items]=\\\"nzFileList || []\\\"\\n    [icons]=\\\"$any(nzShowUploadList)\\\"\\n    [iconRender]=\\\"nzIconRender\\\"\\n    [previewFile]=\\\"nzPreviewFile\\\"\\n    [previewIsImage]=\\\"nzPreviewIsImage\\\"\\n    [onPreview]=\\\"nzPreview\\\"\\n    [onRemove]=\\\"onRemove\\\"\\n    [onDownload]=\\\"nzDownload\\\"\\n  ></nz-upload-list>\\n  <ng-container *ngIf=\\\"nzFileListRender\\\">\\n    <ng-container\\n      *ngTemplateOutlet=\\\"nzFileListRender; context: { $implicit: nzFileList }\\\"\\n    ></ng-container>\\n  </ng-container>\\n</ng-template>\\n<ng-template #con><ng-content></ng-content></ng-template>\\n<ng-template #btn>\\n  <div [ngClass]=\\\"classList\\\" [style.display]=\\\"nzShowButton ? '' : 'none'\\\">\\n    <div nz-upload-btn #uploadComp [options]=\\\"_btnOptions!\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"con\\\"></ng-template>\\n    </div>\\n  </div>\\n</ng-template>\\n<ng-container *ngIf=\\\"nzType === 'drag'; else select\\\">\\n  <div\\n    [ngClass]=\\\"classList\\\"\\n    (drop)=\\\"fileDrop($event)\\\"\\n    (dragover)=\\\"fileDrop($event)\\\"\\n    (dragleave)=\\\"fileDrop($event)\\\"\\n  >\\n    <div nz-upload-btn #uploadComp [options]=\\\"_btnOptions!\\\" class=\\\"ant-upload-btn\\\">\\n      <div class=\\\"ant-upload-drag-container\\\">\\n        <ng-template [ngTemplateOutlet]=\\\"con\\\"></ng-template>\\n      </div>\\n    </div>\\n  </div>\\n  <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n</ng-container>\\n<ng-template #select>\\n  <ng-container *ngIf=\\\"nzListType === 'picture-card'; else pic\\\">\\n    <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n    <ng-template [ngTemplateOutlet]=\\\"btn\\\"></ng-template>\\n  </ng-container>\\n</ng-template>\\n<ng-template #pic>\\n  <ng-template [ngTemplateOutlet]=\\\"btn\\\"></ng-template>\\n  <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n</ng-template>\\n\",\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      host: {\n        '[class.ant-upload-picture-card-wrapper]': 'nzListType === \"picture-card\"'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc9.NzI18nService\n    }];\n  }, {\n    nzType: [{\n      type: Input\n    }],\n    nzLimit: [{\n      type: Input\n    }],\n    nzSize: [{\n      type: Input\n    }],\n    nzDirectory: [{\n      type: Input\n    }],\n    nzOpenFileDialogOnClick: [{\n      type: Input\n    }],\n    nzFilter: [{\n      type: Input\n    }],\n    nzFileList: [{\n      type: Input\n    }],\n    nzDisabled: [{\n      type: Input\n    }],\n    nzListType: [{\n      type: Input\n    }],\n    nzMultiple: [{\n      type: Input\n    }],\n    nzName: [{\n      type: Input\n    }],\n    nzShowButton: [{\n      type: Input\n    }],\n    nzWithCredentials: [{\n      type: Input\n    }],\n    nzIconRender: [{\n      type: Input\n    }],\n    nzFileListRender: [{\n      type: Input\n    }],\n    nzChange: [{\n      type: Output\n    }],\n    nzFileListChange: [{\n      type: Output\n    }],\n    nzShowUploadList: [{\n      type: Input\n    }],\n    uploadComp: [{\n      type: ViewChild,\n      args: ['uploadComp', {\n        static: false\n      }]\n    }],\n    listComp: [{\n      type: ViewChild,\n      args: ['listComp', {\n        static: false\n      }]\n    }],\n    nzFileType: [{\n      type: Input\n    }],\n    nzAccept: [{\n      type: Input\n    }],\n    nzAction: [{\n      type: Input\n    }],\n    nzBeforeUpload: [{\n      type: Input\n    }],\n    nzCustomRequest: [{\n      type: Input\n    }],\n    nzData: [{\n      type: Input\n    }],\n    nzHeaders: [{\n      type: Input\n    }],\n    nzRemove: [{\n      type: Input\n    }],\n    nzPreview: [{\n      type: Input\n    }],\n    nzPreviewFile: [{\n      type: Input\n    }],\n    nzPreviewIsImage: [{\n      type: Input\n    }],\n    nzTransformFile: [{\n      type: Input\n    }],\n    nzDownload: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzUploadModule = function NzUploadModule() {\n  _classCallCheck(this, NzUploadModule);\n};\n\nNzUploadModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NzUploadModule\n});\nNzUploadModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NzUploadModule_Factory(t) {\n    return new (t || NzUploadModule)();\n  },\n  imports: [[CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule, NzButtonModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzUploadModule, {\n    declarations: function declarations() {\n      return [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent];\n    },\n    imports: function imports() {\n      return [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule, NzButtonModule];\n    },\n    exports: function exports() {\n      return [NzUploadComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule, NzButtonModule],\n      declarations: [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent],\n      exports: [NzUploadComponent]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzUploadBtnComponent, NzUploadComponent, NzUploadListComponent, NzUploadModule, ɵ0 };","map":{"version":3,"sources":["../../components/upload/interface.ts","../../components/upload/upload-btn.component.ts","../../components/upload/upload-list.component.ts","../../components/upload/upload.component.ts","../../components/upload/upload.module.ts","../../components/upload/public-api.ts","../../components/upload/ng-zorro-antd-upload.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Observable, Subscription } from 'rxjs';\n\nimport { IndexableObject, NzSafeAny } from 'ng-zorro-antd/core/types';\n\n/** Status */\nexport type UploadFileStatus = 'error' | 'success' | 'done' | 'uploading' | 'removed';\n\nexport type NzUploadType = 'select' | 'drag';\n\n/** Built-in styles of the uploading list. */\nexport type NzUploadListType = 'text' | 'picture' | 'picture-card';\n\nexport interface NzUploadFile {\n  uid: string;\n  size?: number;\n  name: string;\n  filename?: string;\n  lastModified?: string;\n  lastModifiedDate?: Date;\n  url?: string;\n  status?: UploadFileStatus;\n  originFileObj?: File;\n  percent?: number;\n  thumbUrl?: string;\n  response?: NzSafeAny;\n  error?: NzSafeAny;\n  linkProps?: { download: string };\n  type?: string;\n\n  [key: string]: NzSafeAny;\n}\n\nexport interface NzUploadChangeParam {\n  file: NzUploadFile;\n  fileList: NzUploadFile[];\n  event?: { percent: number };\n  /** Callback type. */\n  type?: string;\n}\n\nexport interface NzShowUploadList {\n  showRemoveIcon?: boolean;\n  showPreviewIcon?: boolean;\n  showDownloadIcon?: boolean;\n}\n\nexport type NzUploadTransformFileType = string | Blob | NzUploadFile | Observable<string | Blob | File>;\n\nexport interface ZipButtonOptions {\n  disabled?: boolean;\n  accept?: string | string[];\n  action?: string | ((file: NzUploadFile) => string | Observable<string>);\n  directory?: boolean;\n  openFileDialogOnClick?: boolean;\n  beforeUpload?(file: NzUploadFile, fileList: NzUploadFile[]): boolean | Observable<NzSafeAny>;\n  customRequest?(item: NzSafeAny): Subscription;\n  data?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  headers?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  name?: string;\n  multiple?: boolean;\n  withCredentials?: boolean;\n  filters?: UploadFilter[];\n  transformFile?(file: NzUploadFile): NzUploadTransformFileType;\n  onStart?(file: NzUploadFile): void;\n  onProgress?(e: NzSafeAny, file: NzUploadFile): void;\n  onSuccess?(ret: NzSafeAny, file: NzUploadFile, xhr: NzSafeAny): void;\n  onError?(err: NzSafeAny, file: NzUploadFile): void;\n}\n\nexport interface UploadFilter {\n  name: string;\n  fn(fileList: NzUploadFile[]): NzUploadFile[] | Observable<NzUploadFile[]>;\n}\n\nexport interface NzUploadXHRArgs {\n  action?: string;\n  name?: string;\n  headers?: IndexableObject;\n  file: NzUploadFile;\n  postFile: string | Blob | File | NzUploadFile;\n  data?: IndexableObject;\n  withCredentials?: boolean;\n  onProgress?(e: NzSafeAny, file: NzUploadFile): void;\n  onSuccess?(ret: NzSafeAny, file: NzUploadFile, xhr: NzSafeAny): void;\n  onError?(err: NzSafeAny, file: NzUploadFile): void;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ENTER } from '@angular/cdk/keycodes';\nimport { HttpClient, HttpEvent, HttpEventType, HttpHeaders, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Component, ElementRef, Input, OnDestroy, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable, of, Subscription } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\nimport { NzUploadFile, NzUploadXHRArgs, ZipButtonOptions } from './interface';\n\n@Component({\n  selector: '[nz-upload-btn]',\n  exportAs: 'nzUploadBtn',\n  templateUrl: './upload-btn.component.html',\n  host: {\n    '[attr.tabindex]': '\"0\"',\n    '[attr.role]': '\"button\"',\n    '[class.ant-upload]': 'true',\n    '[class.ant-upload-disabled]': 'options.disabled',\n    '(click)': 'onClick()',\n    '(keydown)': 'onKeyDown($event)',\n    '(drop)': 'onFileDrop($event)',\n    '(dragover)': 'onFileDrop($event)'\n  },\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None\n})\nexport class NzUploadBtnComponent implements OnDestroy {\n  reqs: { [key: string]: Subscription } = {};\n  private destroy = false;\n  @ViewChild('file', { static: false }) file!: ElementRef;\n  @Input() options!: ZipButtonOptions;\n  onClick(): void {\n    if (this.options.disabled || !this.options.openFileDialogOnClick) {\n      return;\n    }\n    (this.file.nativeElement as HTMLInputElement).click();\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    if (this.options.disabled) {\n      return;\n    }\n    if (e.key === 'Enter' || e.keyCode === ENTER) {\n      this.onClick();\n    }\n  }\n\n  // skip safari bug\n  onFileDrop(e: DragEvent): void {\n    if (this.options.disabled || e.type === 'dragover') {\n      e.preventDefault();\n      return;\n    }\n    if (this.options.directory) {\n      this.traverseFileTree(e.dataTransfer!.items);\n    } else {\n      const files: File[] = Array.prototype.slice\n        .call(e.dataTransfer!.files)\n        .filter((file: File) => this.attrAccept(file, this.options.accept));\n      if (files.length) {\n        this.uploadFiles(files);\n      }\n    }\n\n    e.preventDefault();\n  }\n\n  onChange(e: Event): void {\n    if (this.options.disabled) {\n      return;\n    }\n    const hie = e.target as HTMLInputElement;\n    this.uploadFiles(hie.files!);\n    hie.value = '';\n  }\n\n  private traverseFileTree(files: DataTransferItemList): void {\n    const _traverseFileTree = (item: NzSafeAny, path: string) => {\n      if (item.isFile) {\n        item.file((file: File) => {\n          if (this.attrAccept(file, this.options.accept)) {\n            this.uploadFiles([file]);\n          }\n        });\n      } else if (item.isDirectory) {\n        const dirReader = item.createReader();\n\n        dirReader.readEntries((entries: NzSafeAny) => {\n          for (const entrieItem of entries) {\n            _traverseFileTree(entrieItem, `${path}${item.name}/`);\n          }\n        });\n      }\n    };\n\n    for (const file of files as NzSafeAny) {\n      _traverseFileTree(file.webkitGetAsEntry(), '');\n    }\n  }\n\n  private attrAccept(file: File, acceptedFiles?: string | string[]): boolean {\n    if (file && acceptedFiles) {\n      const acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n      const fileName = '' + file.name;\n      const mimeType = '' + file.type;\n      const baseMimeType = mimeType.replace(/\\/.*$/, '');\n\n      return acceptedFilesArray.some(type => {\n        const validType = type.trim();\n        if (validType.charAt(0) === '.') {\n          return (\n            fileName.toLowerCase().indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1\n          );\n        } else if (/\\/\\*$/.test(validType)) {\n          // This is something like a image/* mime type\n          return baseMimeType === validType.replace(/\\/.*$/, '');\n        }\n        return mimeType === validType;\n      });\n    }\n    return true;\n  }\n\n  private attachUid(file: NzUploadFile): NzUploadFile {\n    if (!file.uid) {\n      file.uid = Math.random().toString(36).substring(2);\n    }\n    return file;\n  }\n\n  uploadFiles(fileList: FileList | File[]): void {\n    let filters$: Observable<NzUploadFile[]> = of(Array.prototype.slice.call(fileList));\n    if (this.options.filters) {\n      this.options.filters.forEach(f => {\n        filters$ = filters$.pipe(\n          switchMap(list => {\n            const fnRes = f.fn(list);\n            return fnRes instanceof Observable ? fnRes : of(fnRes);\n          })\n        );\n      });\n    }\n    filters$.subscribe(\n      list => {\n        list.forEach((file: NzUploadFile) => {\n          this.attachUid(file);\n          this.upload(file, list);\n        });\n      },\n      e => {\n        warn(`Unhandled upload filter error`, e);\n      }\n    );\n  }\n\n  private upload(file: NzUploadFile, fileList: NzUploadFile[]): void {\n    if (!this.options.beforeUpload) {\n      return this.post(file);\n    }\n    const before = this.options.beforeUpload(file, fileList);\n    if (before instanceof Observable) {\n      before.subscribe(\n        (processedFile: NzUploadFile) => {\n          const processedFileType = Object.prototype.toString.call(processedFile);\n          if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n            this.attachUid(processedFile);\n            this.post(processedFile);\n          } else if (typeof processedFile === 'boolean' && processedFile !== false) {\n            this.post(file);\n          }\n        },\n        e => {\n          warn(`Unhandled upload beforeUpload error`, e);\n        }\n      );\n    } else if (before !== false) {\n      return this.post(file);\n    }\n  }\n\n  private post(file: NzUploadFile): void {\n    if (this.destroy) {\n      return;\n    }\n    let process$: Observable<string | Blob | File | NzUploadFile> = of(file);\n    const opt = this.options;\n    const { uid } = file;\n    const { action, data, headers, transformFile } = opt;\n\n    const args: NzUploadXHRArgs = {\n      action: typeof action === 'string' ? action : '',\n      name: opt.name,\n      headers,\n      file,\n      postFile: file,\n      data,\n      withCredentials: opt.withCredentials,\n      onProgress: opt.onProgress\n        ? e => {\n            opt.onProgress!(e, file);\n          }\n        : undefined,\n      onSuccess: (ret, xhr) => {\n        this.clean(uid);\n        opt.onSuccess!(ret, file, xhr);\n      },\n      onError: xhr => {\n        this.clean(uid);\n        opt.onError!(xhr, file);\n      }\n    };\n\n    if (typeof action === 'function') {\n      const actionResult = (action as (file: NzUploadFile) => string | Observable<string>)(file);\n      if (actionResult instanceof Observable) {\n        process$ = process$.pipe(\n          switchMap(() => actionResult),\n          map(res => {\n            args.action = res;\n            return file;\n          })\n        );\n      } else {\n        args.action = actionResult;\n      }\n    }\n\n    if (typeof transformFile === 'function') {\n      const transformResult = transformFile(file);\n      process$ = process$.pipe(switchMap(() => (transformResult instanceof Observable ? transformResult : of(transformResult))));\n    }\n\n    if (typeof data === 'function') {\n      const dataResult = (data as (file: NzUploadFile) => {} | Observable<{}>)(file);\n      if (dataResult instanceof Observable) {\n        process$ = process$.pipe(\n          switchMap(() => dataResult),\n          map(res => {\n            args.data = res;\n            return file;\n          })\n        );\n      } else {\n        args.data = dataResult;\n      }\n    }\n\n    if (typeof headers === 'function') {\n      const headersResult = (headers as (file: NzUploadFile) => {} | Observable<{}>)(file);\n      if (headersResult instanceof Observable) {\n        process$ = process$.pipe(\n          switchMap(() => headersResult),\n          map(res => {\n            args.headers = res;\n            return file;\n          })\n        );\n      } else {\n        args.headers = headersResult;\n      }\n    }\n\n    process$.subscribe(newFile => {\n      args.postFile = newFile;\n      const req$ = (opt.customRequest || this.xhr).call(this, args);\n      if (!(req$ instanceof Subscription)) {\n        warn(`Must return Subscription type in '[nzCustomRequest]' property`);\n      }\n      this.reqs[uid] = req$;\n      opt.onStart!(file);\n    });\n  }\n\n  private xhr(args: NzUploadXHRArgs): Subscription {\n    const formData = new FormData();\n\n    if (args.data) {\n      Object.keys(args.data).map(key => {\n        formData.append(key, args.data![key]);\n      });\n    }\n\n    formData.append(args.name!, args.postFile as NzSafeAny);\n\n    if (!args.headers) {\n      args.headers = {};\n    }\n    if (args.headers['X-Requested-With'] !== null) {\n      args.headers['X-Requested-With'] = `XMLHttpRequest`;\n    } else {\n      delete args.headers['X-Requested-With'];\n    }\n    const req = new HttpRequest('POST', args.action!, formData, {\n      reportProgress: true,\n      withCredentials: args.withCredentials,\n      headers: new HttpHeaders(args.headers)\n    });\n    return this.http.request(req).subscribe(\n      (event: HttpEvent<NzSafeAny>) => {\n        if (event.type === HttpEventType.UploadProgress) {\n          if (event.total! > 0) {\n            (event as NzSafeAny).percent = (event.loaded / event.total!) * 100;\n          }\n          args.onProgress!(event, args.file);\n        } else if (event instanceof HttpResponse) {\n          args.onSuccess!(event.body, args.file, event);\n        }\n      },\n      err => {\n        this.abort(args.file);\n        args.onError!(err, args.file);\n      }\n    );\n  }\n\n  private clean(uid: string): void {\n    const req$ = this.reqs[uid];\n    if (req$ instanceof Subscription) {\n      req$.unsubscribe();\n    }\n    delete this.reqs[uid];\n  }\n\n  abort(file?: NzUploadFile): void {\n    if (file) {\n      this.clean(file && file.uid);\n    } else {\n      Object.keys(this.reqs).forEach(uid => this.clean(uid));\n    }\n  }\n\n  constructor(@Optional() private http: HttpClient) {\n    if (!http) {\n      throw new Error(`Not found 'HttpClient', You can import 'HttpClientModule' in your root module.`);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy = true;\n    this.abort();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NgClassType, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable } from 'rxjs';\n\nimport { NzShowUploadList, NzUploadFile, NzUploadListType } from './interface';\n\nconst isImageFileType = (type: string): boolean => !!type && type.indexOf('image/') === 0;\n\nconst MEASURE_SIZE = 200;\n\ntype UploadListIconType = '' | 'uploading' | 'thumbnail';\n\ninterface UploadListFile extends NzUploadFile {\n  isImageUrl?: boolean;\n  isUploading?: boolean;\n  iconType?: UploadListIconType;\n  listItemNameCls?: NgClassType;\n  showDownload?: boolean;\n}\n\n@Component({\n  selector: 'nz-upload-list',\n  exportAs: 'nzUploadList',\n  templateUrl: './upload-list.component.html',\n  animations: [\n    trigger('itemState', [\n      transition(':enter', [style({ height: '0', width: '0', opacity: 0 }), animate(150, style({ height: '*', width: '*', opacity: 1 }))]),\n      transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])\n    ])\n  ],\n  host: {\n    '[class.ant-upload-list]': `true`,\n    '[class.ant-upload-list-text]': `listType === 'text'`,\n    '[class.ant-upload-list-picture]': `listType === 'picture'`,\n    '[class.ant-upload-list-picture-card]': `listType === 'picture-card'`\n  },\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NzUploadListComponent implements OnChanges {\n  list: UploadListFile[] = [];\n\n  private get showPic(): boolean {\n    return this.listType === 'picture' || this.listType === 'picture-card';\n  }\n\n  @Input() locale: NzSafeAny = {};\n  @Input() listType!: NzUploadListType;\n  @Input()\n  set items(list: NzUploadFile[]) {\n    this.list = list;\n  }\n  @Input() icons!: NzShowUploadList;\n  @Input() onPreview?: (file: NzUploadFile) => void;\n  @Input() onRemove!: (file: NzUploadFile) => void;\n  @Input() onDownload?: (file: NzUploadFile) => void;\n  @Input() previewFile?: (file: NzUploadFile) => Observable<string>;\n  @Input() previewIsImage?: (file: NzUploadFile) => boolean;\n  @Input() iconRender: TemplateRef<NzSafeAny> | null = null;\n\n  private genErr(file: NzUploadFile): string {\n    if (file.response && typeof file.response === 'string') {\n      return file.response;\n    }\n    return (file.error && file.error.statusText) || this.locale.uploadError;\n  }\n\n  private extname(url: string): string {\n    const temp = url.split('/');\n    const filename = temp[temp.length - 1];\n    const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n  }\n\n  isImageUrl(file: NzUploadFile): boolean {\n    if (isImageFileType(file.type!)) {\n      return true;\n    }\n    const url: string = (file.thumbUrl || file.url || '') as string;\n    if (!url) {\n      return false;\n    }\n    const extension = this.extname(url);\n    if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n      return true;\n    } else if (/^data:/.test(url)) {\n      // other file types of base64\n      return false;\n    } else if (extension) {\n      // other file types which have extension\n      return false;\n    }\n    return true;\n  }\n\n  private getIconType(file: UploadListFile): UploadListIconType {\n    if (!this.showPic) {\n      return '';\n    }\n    if (file.isUploading || (!file.thumbUrl && !file.url)) {\n      return 'uploading';\n    } else {\n      return 'thumbnail';\n    }\n  }\n\n  private previewImage(file: File | Blob): Promise<string> {\n    return new Promise(resolve => {\n      if (!isImageFileType(file.type)) {\n        resolve('');\n        return;\n      }\n      this.ngZone.runOutsideAngular(() => {\n        const canvas = this.doc.createElement('canvas');\n        canvas.width = MEASURE_SIZE;\n        canvas.height = MEASURE_SIZE;\n        canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n        this.doc.body.appendChild(canvas);\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = () => {\n          const { width, height } = img;\n\n          let drawWidth = MEASURE_SIZE;\n          let drawHeight = MEASURE_SIZE;\n          let offsetX = 0;\n          let offsetY = 0;\n\n          if (width < height) {\n            drawHeight = height * (MEASURE_SIZE / width);\n            offsetY = -(drawHeight - drawWidth) / 2;\n          } else {\n            drawWidth = width * (MEASURE_SIZE / height);\n            offsetX = -(drawWidth - drawHeight) / 2;\n          }\n\n          try {\n            ctx!.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n          } catch {}\n          const dataURL = canvas.toDataURL();\n          this.doc.body.removeChild(canvas);\n\n          resolve(dataURL);\n        };\n        img.src = window.URL.createObjectURL(file);\n      });\n    });\n  }\n\n  private genThumb(): void {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n\n    const win = window as NzSafeAny;\n    if (!this.showPic || typeof document === 'undefined' || typeof win === 'undefined' || !win.FileReader || !win.File) {\n      return;\n    }\n    this.list\n      .filter(file => file.originFileObj instanceof File && file.thumbUrl === undefined)\n      .forEach(file => {\n        file.thumbUrl = '';\n        (this.previewFile ? this.previewFile(file).toPromise() : this.previewImage(file.originFileObj!)).then(dataUrl => {\n          file.thumbUrl = dataUrl;\n          this.detectChanges();\n        });\n      });\n  }\n\n  private listItemNameCls(file: NzUploadFile): NgClassType {\n    const count = [this.showDownload(file), this.icons.showRemoveIcon].filter(x => x).length;\n    return {\n      [`ant-upload-list-item-name`]: true,\n      [`ant-upload-list-item-name-icon-count-${count}`]: true\n    };\n  }\n\n  private showDownload(file: NzUploadFile): boolean {\n    return !!(this.icons.showDownloadIcon && file.status === 'done');\n  }\n\n  private fixData(): void {\n    this.list.forEach(file => {\n      file.isUploading = file.status === 'uploading';\n      file.message = this.genErr(file);\n      file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n      file.isImageUrl = this.previewIsImage ? this.previewIsImage(file) : this.isImageUrl(file);\n      file.iconType = this.getIconType(file);\n      file.listItemNameCls = this.listItemNameCls(file);\n      file.showDownload = this.showDownload(file);\n    });\n  }\n\n  handlePreview(file: NzUploadFile, e: Event): void {\n    if (!this.onPreview) {\n      return;\n    }\n\n    e.preventDefault();\n    return this.onPreview(file);\n  }\n\n  handleRemove(file: NzUploadFile, e: Event): void {\n    e.preventDefault();\n    if (this.onRemove) {\n      this.onRemove(file);\n    }\n    return;\n  }\n\n  handleDownload(file: NzUploadFile): void {\n    if (typeof this.onDownload === 'function') {\n      this.onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  }\n\n  // #endregion\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    @Inject(DOCUMENT) private doc: NzSafeAny,\n    private ngZone: NgZone,\n    private platform: Platform\n  ) {}\n\n  detectChanges(): void {\n    this.fixData();\n    this.cdr.detectChanges();\n  }\n\n  ngOnChanges(): void {\n    this.fixData();\n    this.genThumb();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { BooleanInput, NumberInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable, of, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { InputBoolean, InputNumber, toBoolean } from 'ng-zorro-antd/core/util';\nimport { NzI18nService, NzUploadI18nInterface } from 'ng-zorro-antd/i18n';\n\nimport {\n  NzShowUploadList,\n  NzUploadChangeParam,\n  NzUploadFile,\n  NzUploadListType,\n  NzUploadTransformFileType,\n  NzUploadType,\n  NzUploadXHRArgs,\n  UploadFilter,\n  ZipButtonOptions\n} from './interface';\nimport { NzUploadBtnComponent } from './upload-btn.component';\nimport { NzUploadListComponent } from './upload-list.component';\n\n@Component({\n  selector: 'nz-upload',\n  exportAs: 'nzUpload',\n  templateUrl: './upload.component.html',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.ant-upload-picture-card-wrapper]': 'nzListType === \"picture-card\"'\n  }\n})\nexport class NzUploadComponent implements OnInit, OnChanges, OnDestroy {\n  static ngAcceptInputType_nzLimit: NumberInput;\n  static ngAcceptInputType_nzSize: NumberInput;\n  static ngAcceptInputType_nzDirectory: BooleanInput;\n  static ngAcceptInputType_nzOpenFileDialogOnClick: BooleanInput;\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n  static ngAcceptInputType_nzMultiple: BooleanInput;\n  static ngAcceptInputType_nzShowUploadList: BooleanInput | NzShowUploadList;\n  static ngAcceptInputType_nzShowButton: BooleanInput;\n  static ngAcceptInputType_nzWithCredentials: BooleanInput;\n\n  private i18n$!: Subscription;\n  @ViewChild('uploadComp', { static: false }) uploadComp!: NzUploadBtnComponent;\n  @ViewChild('listComp', { static: false }) listComp!: NzUploadListComponent;\n\n  locale!: NzUploadI18nInterface;\n\n  // #region fields\n\n  @Input() nzType: NzUploadType = 'select';\n  @Input() @InputNumber() nzLimit = 0;\n  @Input() @InputNumber() nzSize = 0;\n\n  @Input() nzFileType?: string;\n  @Input() nzAccept?: string | string[];\n  @Input() nzAction?: string | ((file: NzUploadFile) => string | Observable<string>);\n  @Input() @InputBoolean() nzDirectory = false;\n  @Input() @InputBoolean() nzOpenFileDialogOnClick = true;\n  @Input() nzBeforeUpload?: (file: NzUploadFile, fileList: NzUploadFile[]) => boolean | Observable<boolean>;\n  @Input() nzCustomRequest?: (item: NzUploadXHRArgs) => Subscription;\n  @Input() nzData?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  @Input() nzFilter: UploadFilter[] = [];\n  @Input() nzFileList: NzUploadFile[] = [];\n  @Input() @InputBoolean() nzDisabled = false;\n  @Input() nzHeaders?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  @Input() nzListType: NzUploadListType = 'text';\n  @Input() @InputBoolean() nzMultiple = false;\n  @Input() nzName = 'file';\n\n  private _showUploadList: boolean | NzShowUploadList = true;\n\n  @Input()\n  set nzShowUploadList(value: boolean | NzShowUploadList) {\n    this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\n  }\n\n  get nzShowUploadList(): boolean | NzShowUploadList {\n    return this._showUploadList;\n  }\n\n  @Input() @InputBoolean() nzShowButton = true;\n  @Input() @InputBoolean() nzWithCredentials = false;\n\n  @Input() nzRemove?: (file: NzUploadFile) => boolean | Observable<boolean>;\n  @Input() nzPreview?: (file: NzUploadFile) => void;\n  @Input() nzPreviewFile?: (file: NzUploadFile) => Observable<string>;\n  @Input() nzPreviewIsImage?: (file: NzUploadFile) => boolean;\n  @Input() nzTransformFile?: (file: NzUploadFile) => NzUploadTransformFileType;\n  @Input() nzDownload?: (file: NzUploadFile) => void;\n  @Input() nzIconRender: TemplateRef<NzSafeAny> | null = null;\n  @Input() nzFileListRender: TemplateRef<void> | null = null;\n\n  @Output() readonly nzChange: EventEmitter<NzUploadChangeParam> = new EventEmitter<NzUploadChangeParam>();\n  @Output() readonly nzFileListChange: EventEmitter<NzUploadFile[]> = new EventEmitter<NzUploadFile[]>();\n\n  _btnOptions?: ZipButtonOptions;\n\n  private zipOptions(): this {\n    if (typeof this.nzShowUploadList === 'boolean' && this.nzShowUploadList) {\n      this.nzShowUploadList = {\n        showPreviewIcon: true,\n        showRemoveIcon: true,\n        showDownloadIcon: true\n      };\n    }\n    // filters\n    const filters: UploadFilter[] = this.nzFilter.slice();\n    if (this.nzMultiple && this.nzLimit > 0 && filters.findIndex(w => w.name === 'limit') === -1) {\n      filters.push({\n        name: 'limit',\n        fn: (fileList: NzUploadFile[]) => fileList.slice(-this.nzLimit)\n      });\n    }\n    if (this.nzSize > 0 && filters.findIndex(w => w.name === 'size') === -1) {\n      filters.push({\n        name: 'size',\n        fn: (fileList: NzUploadFile[]) => fileList.filter(w => w.size! / 1024 <= this.nzSize)\n      });\n    }\n    if (this.nzFileType && this.nzFileType.length > 0 && filters.findIndex(w => w.name === 'type') === -1) {\n      const types = this.nzFileType.split(',');\n      filters.push({\n        name: 'type',\n        fn: (fileList: NzUploadFile[]) => fileList.filter(w => ~types.indexOf(w.type!))\n      });\n    }\n    this._btnOptions = {\n      disabled: this.nzDisabled,\n      accept: this.nzAccept,\n      action: this.nzAction,\n      directory: this.nzDirectory,\n      openFileDialogOnClick: this.nzOpenFileDialogOnClick,\n      beforeUpload: this.nzBeforeUpload,\n      customRequest: this.nzCustomRequest,\n      data: this.nzData,\n      headers: this.nzHeaders,\n      name: this.nzName,\n      multiple: this.nzMultiple,\n      withCredentials: this.nzWithCredentials,\n      filters,\n      transformFile: this.nzTransformFile,\n      onStart: this.onStart,\n      onProgress: this.onProgress,\n      onSuccess: this.onSuccess,\n      onError: this.onError\n    };\n    return this;\n  }\n\n  // #endregion\n\n  constructor(private cdr: ChangeDetectorRef, private i18n: NzI18nService) {}\n\n  // #region upload\n\n  private fileToObject(file: NzUploadFile): NzUploadFile {\n    return {\n      lastModified: file.lastModified,\n      lastModifiedDate: file.lastModifiedDate,\n      name: file.filename || file.name,\n      size: file.size,\n      type: file.type,\n      uid: file.uid,\n      response: file.response,\n      error: file.error,\n      percent: 0,\n      originFileObj: file as NzSafeAny\n    };\n  }\n\n  private getFileItem(file: NzUploadFile, fileList: NzUploadFile[]): NzUploadFile {\n    return fileList.filter(item => item.uid === file.uid)[0];\n  }\n\n  private removeFileItem(file: NzUploadFile, fileList: NzUploadFile[]): NzUploadFile[] {\n    return fileList.filter(item => item.uid !== file.uid);\n  }\n\n  private onStart = (file: NzUploadFile): void => {\n    if (!this.nzFileList) {\n      this.nzFileList = [];\n    }\n    const targetItem = this.fileToObject(file);\n    targetItem.status = 'uploading';\n    this.nzFileList = this.nzFileList.concat(targetItem);\n    this.nzFileListChange.emit(this.nzFileList);\n    this.nzChange.emit({ file: targetItem, fileList: this.nzFileList, type: 'start' });\n    this.detectChangesList();\n  };\n\n  private onProgress = (e: { percent: number }, file: NzUploadFile): void => {\n    const fileList = this.nzFileList;\n    const targetItem = this.getFileItem(file, fileList);\n    targetItem.percent = e.percent;\n    this.nzChange.emit({\n      event: e,\n      file: { ...targetItem },\n      fileList: this.nzFileList,\n      type: 'progress'\n    });\n    this.detectChangesList();\n  };\n\n  private onSuccess = (res: {}, file: NzUploadFile): void => {\n    const fileList = this.nzFileList;\n    const targetItem = this.getFileItem(file, fileList);\n    targetItem.status = 'done';\n    targetItem.response = res;\n    this.nzChange.emit({\n      file: { ...targetItem },\n      fileList,\n      type: 'success'\n    });\n    this.detectChangesList();\n  };\n\n  private onError = (err: {}, file: NzUploadFile): void => {\n    const fileList = this.nzFileList;\n    const targetItem = this.getFileItem(file, fileList);\n    targetItem.error = err;\n    targetItem.status = 'error';\n    this.nzChange.emit({\n      file: { ...targetItem },\n      fileList,\n      type: 'error'\n    });\n    this.detectChangesList();\n  };\n\n  // #endregion\n\n  // #region drag\n\n  private dragState?: string;\n\n  // skip safari bug\n  fileDrop(e: DragEvent): void {\n    if (e.type === this.dragState) {\n      return;\n    }\n    this.dragState = e.type;\n    this.setClassMap();\n  }\n\n  // #endregion\n\n  // #region list\n\n  private detectChangesList(): void {\n    this.cdr.detectChanges();\n    this.listComp?.detectChanges();\n  }\n\n  onRemove = (file: NzUploadFile): void => {\n    this.uploadComp.abort(file);\n    file.status = 'removed';\n    const fnRes = typeof this.nzRemove === 'function' ? this.nzRemove(file) : this.nzRemove == null ? true : this.nzRemove;\n    (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter((res: boolean) => res)).subscribe(() => {\n      this.nzFileList = this.removeFileItem(file, this.nzFileList);\n      this.nzChange.emit({\n        file,\n        fileList: this.nzFileList,\n        type: 'removed'\n      });\n      this.nzFileListChange.emit(this.nzFileList);\n      this.cdr.detectChanges();\n    });\n  };\n\n  // #endregion\n\n  // #region styles\n\n  private prefixCls = 'ant-upload';\n  classList: string[] = [];\n\n  private setClassMap(): void {\n    let subCls: string[] = [];\n    if (this.nzType === 'drag') {\n      if (this.nzFileList.some(file => file.status === 'uploading')) {\n        subCls.push(`${this.prefixCls}-drag-uploading`);\n      }\n      if (this.dragState === 'dragover') {\n        subCls.push(`${this.prefixCls}-drag-hover`);\n      }\n    } else {\n      subCls = [`${this.prefixCls}-select-${this.nzListType}`];\n    }\n\n    this.classList = [\n      this.prefixCls,\n      `${this.prefixCls}-${this.nzType}`,\n      ...subCls,\n      (this.nzDisabled && `${this.prefixCls}-disabled`) || ''\n    ].filter(item => !!item);\n\n    this.cdr.detectChanges();\n  }\n\n  // #endregion\n\n  ngOnInit(): void {\n    this.i18n$ = this.i18n.localeChange.subscribe(() => {\n      this.locale = this.i18n.getLocaleData('Upload');\n      this.detectChangesList();\n    });\n  }\n\n  ngOnChanges(): void {\n    this.zipOptions().setClassMap();\n  }\n\n  ngOnDestroy(): void {\n    this.i18n$.unsubscribe();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { NzUploadBtnComponent } from './upload-btn.component';\nimport { NzUploadListComponent } from './upload-list.component';\nimport { NzUploadComponent } from './upload.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule, NzButtonModule],\n  declarations: [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent],\n  exports: [NzUploadComponent]\n})\nexport class NzUploadModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './interface';\nexport * from './upload-btn.component';\nexport * from './upload-list.component';\nexport * from './upload.component';\nexport * from './upload.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}