{"ast":null,"code":"import _get from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { Directive, ElementRef, Renderer2, InjectionToken, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ChangeDetectorRef, Optional, Inject, ContentChildren, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { __decorate, __metadata } from 'tslib';\nimport { LEFT_ARROW, RIGHT_ARROW } from '@angular/cdk/keycodes';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzResizeService, NzDragService } from 'ng-zorro-antd/core/services';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from 'ng-zorro-antd/core/services';\nimport * as ɵngcc4 from '@angular/common';\nvar _c0 = [\"slickList\"];\nvar _c1 = [\"slickTrack\"];\n\nfunction NzCarouselComponent_ul_6_li_1_ng_template_1_Template(rf, ctx) {}\n\nvar _c2 = function _c2(a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzCarouselComponent_ul_6_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"li\", 9);\n    ɵngcc0.ɵɵlistener(\"click\", function NzCarouselComponent_ul_6_li_1_Template_li_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r10);\n      var i_r7 = ctx.index;\n      var ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r9.goTo(i_r7);\n    });\n    ɵngcc0.ɵɵtemplate(1, NzCarouselComponent_ul_6_li_1_ng_template_1_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var content_r6 = ctx.$implicit;\n    var i_r7 = ctx.index;\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n\n    var _r3 = ɵngcc0.ɵɵreference(8);\n\n    ɵngcc0.ɵɵclassProp(\"slick-active\", content_r6.isActive);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.nzDotRender || _r3)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c2, i_r7));\n  }\n}\n\nfunction NzCarouselComponent_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"ul\", 7);\n    ɵngcc0.ɵɵtemplate(1, NzCarouselComponent_ul_6_li_1_Template, 2, 6, \"li\", 8);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"slick-dots-top\", ctx_r2.nzDotPosition === \"top\")(\"slick-dots-bottom\", ctx_r2.nzDotPosition === \"bottom\")(\"slick-dots-left\", ctx_r2.nzDotPosition === \"left\")(\"slick-dots-right\", ctx_r2.nzDotPosition === \"right\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r2.carouselContents);\n  }\n}\n\nfunction NzCarouselComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var index_r11 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(index_r11 + 1);\n  }\n}\n\nvar _c3 = [\"*\"];\n\nvar NzCarouselContentDirective = /*#__PURE__*/function () {\n  function NzCarouselContentDirective(elementRef, renderer) {\n    _classCallCheck(this, NzCarouselContentDirective);\n\n    this.renderer = renderer;\n    this._active = false;\n    this.el = elementRef.nativeElement;\n    this.renderer.addClass(elementRef.nativeElement, 'slick-slide');\n  }\n\n  _createClass(NzCarouselContentDirective, [{\n    key: \"isActive\",\n    set: function set(value) {\n      this._active = value;\n\n      if (this.isActive) {\n        this.renderer.addClass(this.el, 'slick-active');\n      } else {\n        this.renderer.removeClass(this.el, 'slick-active');\n      }\n    },\n    get: function get() {\n      return this._active;\n    }\n  }]);\n\n  return NzCarouselContentDirective;\n}();\n\nNzCarouselContentDirective.ɵfac = function NzCarouselContentDirective_Factory(t) {\n  return new (t || NzCarouselContentDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nNzCarouselContentDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({\n  type: NzCarouselContentDirective,\n  selectors: [[\"\", \"nz-carousel-content\", \"\"]],\n  exportAs: [\"nzCarouselContent\"]\n});\n\nNzCarouselContentDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }];\n};\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselBaseStrategy = /*#__PURE__*/function () {\n  function NzCarouselBaseStrategy(carouselComponent, cdr, renderer, platform) {\n    _classCallCheck(this, NzCarouselBaseStrategy);\n\n    this.cdr = cdr;\n    this.renderer = renderer;\n    this.platform = platform;\n    this.carouselComponent = carouselComponent;\n  }\n\n  _createClass(NzCarouselBaseStrategy, [{\n    key: \"withCarouselContents\",\n\n    /**\n     * Initialize dragging sequences.\n     * @param contents\n     */\n    value: function withCarouselContents(contents) {\n      var _this = this;\n\n      var carousel = this.carouselComponent;\n      this.slickListEl = carousel.slickListEl;\n      this.slickTrackEl = carousel.slickTrackEl;\n      this.contents = (contents === null || contents === void 0 ? void 0 : contents.toArray()) || [];\n      this.length = this.contents.length;\n\n      if (this.platform.isBrowser) {\n        var rect = carousel.el.getBoundingClientRect();\n        this.unitWidth = rect.width;\n        this.unitHeight = rect.height;\n      } else {\n        // Since we cannot call getBoundingClientRect in server, we just hide all items except for the first one.\n        contents === null || contents === void 0 ? void 0 : contents.forEach(function (content, index) {\n          if (index === 0) {\n            _this.renderer.setStyle(content.el, 'width', '100%');\n          } else {\n            _this.renderer.setStyle(content.el, 'display', 'none');\n          }\n        });\n      }\n    }\n    /**\n     * When user drag the carousel component.\n     * @optional\n     */\n\n  }, {\n    key: \"dragging\",\n    value: function dragging(_vector) {}\n    /**\n     * Destroy a scroll strategy.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {}\n  }, {\n    key: \"getFromToInBoundary\",\n    value: function getFromToInBoundary(f, t) {\n      var length = this.maxIndex + 1;\n      return {\n        from: (f + length) % length,\n        to: (t + length) % length\n      };\n    }\n  }, {\n    key: \"maxIndex\",\n    get: function get() {\n      return this.length - 1;\n    }\n  }, {\n    key: \"firstEl\",\n    get: function get() {\n      return this.contents[0].el;\n    }\n  }, {\n    key: \"lastEl\",\n    get: function get() {\n      return this.contents[this.maxIndex].el;\n    }\n  }]);\n\n  return NzCarouselBaseStrategy;\n}();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselOpacityStrategy = /*#__PURE__*/function (_NzCarouselBaseStrate) {\n  _inherits(NzCarouselOpacityStrategy, _NzCarouselBaseStrate);\n\n  var _super = _createSuper(NzCarouselOpacityStrategy);\n\n  function NzCarouselOpacityStrategy() {\n    _classCallCheck(this, NzCarouselOpacityStrategy);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NzCarouselOpacityStrategy, [{\n    key: \"withCarouselContents\",\n    value: function withCarouselContents(contents) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(NzCarouselOpacityStrategy.prototype), \"withCarouselContents\", this).call(this, contents);\n\n      if (this.contents) {\n        this.slickTrackEl.style.width = \"\".concat(this.length * this.unitWidth, \"px\");\n        this.contents.forEach(function (content, i) {\n          _this2.renderer.setStyle(content.el, 'opacity', _this2.carouselComponent.activeIndex === i ? '1' : '0');\n\n          _this2.renderer.setStyle(content.el, 'position', 'relative');\n\n          _this2.renderer.setStyle(content.el, 'width', \"\".concat(_this2.unitWidth, \"px\"));\n\n          _this2.renderer.setStyle(content.el, 'left', \"\".concat(-_this2.unitWidth * i, \"px\"));\n\n          _this2.renderer.setStyle(content.el, 'transition', ['opacity 500ms ease 0s', 'visibility 500ms ease 0s']);\n        });\n      }\n    }\n  }, {\n    key: \"switch\",\n    value: function _switch(_f, _t) {\n      var _this3 = this;\n\n      var _this$getFromToInBoun = this.getFromToInBoundary(_f, _t),\n          t = _this$getFromToInBoun.to;\n\n      var complete$ = new Subject();\n      this.contents.forEach(function (content, i) {\n        _this3.renderer.setStyle(content.el, 'opacity', t === i ? '1' : '0');\n      });\n      setTimeout(function () {\n        complete$.next();\n        complete$.complete();\n      }, this.carouselComponent.nzTransitionSpeed);\n      return complete$;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n\n      this.contents.forEach(function (content) {\n        _this4.renderer.setStyle(content.el, 'transition', null);\n      });\n\n      _get(_getPrototypeOf(NzCarouselOpacityStrategy.prototype), \"dispose\", this).call(this);\n    }\n  }]);\n\n  return NzCarouselOpacityStrategy;\n}(NzCarouselBaseStrategy);\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselTransformStrategy = /*#__PURE__*/function (_NzCarouselBaseStrate2) {\n  _inherits(NzCarouselTransformStrategy, _NzCarouselBaseStrate2);\n\n  var _super2 = _createSuper(NzCarouselTransformStrategy);\n\n  function NzCarouselTransformStrategy() {\n    var _this5;\n\n    _classCallCheck(this, NzCarouselTransformStrategy);\n\n    _this5 = _super2.apply(this, arguments);\n    _this5.isDragging = false;\n    _this5.isTransitioning = false;\n    return _this5;\n  }\n\n  _createClass(NzCarouselTransformStrategy, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(NzCarouselTransformStrategy.prototype), \"dispose\", this).call(this);\n\n      this.renderer.setStyle(this.slickTrackEl, 'transform', null);\n    }\n  }, {\n    key: \"withCarouselContents\",\n    value: function withCarouselContents(contents) {\n      var _this6 = this;\n\n      _get(_getPrototypeOf(NzCarouselTransformStrategy.prototype), \"withCarouselContents\", this).call(this, contents);\n\n      var carousel = this.carouselComponent;\n      var activeIndex = carousel.activeIndex; // We only do when we are in browser.\n\n      if (this.platform.isBrowser && this.contents.length) {\n        this.renderer.setStyle(this.slickListEl, 'height', \"\".concat(this.unitHeight, \"px\"));\n\n        if (this.vertical) {\n          this.renderer.setStyle(this.slickTrackEl, 'width', \"\".concat(this.unitWidth, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'height', \"\".concat(this.length * this.unitHeight, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-activeIndex * this.unitHeight, \"px, 0)\"));\n        } else {\n          this.renderer.setStyle(this.slickTrackEl, 'height', \"\".concat(this.unitHeight, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'width', \"\".concat(this.length * this.unitWidth, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-activeIndex * this.unitWidth, \"px, 0, 0)\"));\n        }\n\n        this.contents.forEach(function (content) {\n          _this6.renderer.setStyle(content.el, 'position', 'relative');\n\n          _this6.renderer.setStyle(content.el, 'width', \"\".concat(_this6.unitWidth, \"px\"));\n\n          _this6.renderer.setStyle(content.el, 'height', \"\".concat(_this6.unitHeight, \"px\"));\n        });\n      }\n    }\n  }, {\n    key: \"switch\",\n    value: function _switch(_f, _t) {\n      var _this7 = this;\n\n      var _this$getFromToInBoun2 = this.getFromToInBoundary(_f, _t),\n          t = _this$getFromToInBoun2.to;\n\n      var complete$ = new Subject();\n      this.renderer.setStyle(this.slickTrackEl, 'transition', \"transform \".concat(this.carouselComponent.nzTransitionSpeed, \"ms ease\"));\n\n      if (this.vertical) {\n        this.verticalTransform(_f, _t);\n      } else {\n        this.horizontalTransform(_f, _t);\n      }\n\n      this.isTransitioning = true;\n      this.isDragging = false;\n      setTimeout(function () {\n        _this7.renderer.setStyle(_this7.slickTrackEl, 'transition', null);\n\n        _this7.contents.forEach(function (content) {\n          _this7.renderer.setStyle(content.el, _this7.vertical ? 'top' : 'left', null);\n        });\n\n        if (_this7.vertical) {\n          _this7.renderer.setStyle(_this7.slickTrackEl, 'transform', \"translate3d(0, \".concat(-t * _this7.unitHeight, \"px, 0)\"));\n        } else {\n          _this7.renderer.setStyle(_this7.slickTrackEl, 'transform', \"translate3d(\".concat(-t * _this7.unitWidth, \"px, 0, 0)\"));\n        }\n\n        _this7.isTransitioning = false;\n        complete$.next();\n        complete$.complete();\n      }, this.carouselComponent.nzTransitionSpeed);\n      return complete$.asObservable();\n    }\n  }, {\n    key: \"dragging\",\n    value: function dragging(_vector) {\n      if (this.isTransitioning) {\n        return;\n      }\n\n      var activeIndex = this.carouselComponent.activeIndex;\n\n      if (this.carouselComponent.vertical) {\n        if (!this.isDragging && this.length > 2) {\n          if (activeIndex === this.maxIndex) {\n            this.prepareVerticalContext(true);\n          } else if (activeIndex === 0) {\n            this.prepareVerticalContext(false);\n          }\n        }\n\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-activeIndex * this.unitHeight + _vector.x, \"px, 0)\"));\n      } else {\n        if (!this.isDragging && this.length > 2) {\n          if (activeIndex === this.maxIndex) {\n            this.prepareHorizontalContext(true);\n          } else if (activeIndex === 0) {\n            this.prepareHorizontalContext(false);\n          }\n        }\n\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-activeIndex * this.unitWidth + _vector.x, \"px, 0, 0)\"));\n      }\n\n      this.isDragging = true;\n    }\n  }, {\n    key: \"verticalTransform\",\n    value: function verticalTransform(_f, _t) {\n      var _this$getFromToInBoun3 = this.getFromToInBoundary(_f, _t),\n          f = _this$getFromToInBoun3.from,\n          t = _this$getFromToInBoun3.to;\n\n      var needToAdjust = this.length > 2 && _t !== t;\n\n      if (needToAdjust) {\n        this.prepareVerticalContext(t < f);\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-_t * this.unitHeight, \"px, 0)\"));\n      } else {\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-t * this.unitHeight, \"px, 0\"));\n      }\n    }\n  }, {\n    key: \"horizontalTransform\",\n    value: function horizontalTransform(_f, _t) {\n      var _this$getFromToInBoun4 = this.getFromToInBoundary(_f, _t),\n          f = _this$getFromToInBoun4.from,\n          t = _this$getFromToInBoun4.to;\n\n      var needToAdjust = this.length > 2 && _t !== t;\n\n      if (needToAdjust) {\n        this.prepareHorizontalContext(t < f);\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-_t * this.unitWidth, \"px, 0, 0)\"));\n      } else {\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-t * this.unitWidth, \"px, 0, 0\"));\n      }\n    }\n  }, {\n    key: \"prepareVerticalContext\",\n    value: function prepareVerticalContext(lastToFirst) {\n      if (lastToFirst) {\n        this.renderer.setStyle(this.firstEl, 'top', \"\".concat(this.length * this.unitHeight, \"px\"));\n        this.renderer.setStyle(this.lastEl, 'top', null);\n      } else {\n        this.renderer.setStyle(this.firstEl, 'top', null);\n        this.renderer.setStyle(this.lastEl, 'top', \"\".concat(-this.unitHeight * this.length, \"px\"));\n      }\n    }\n  }, {\n    key: \"prepareHorizontalContext\",\n    value: function prepareHorizontalContext(lastToFirst) {\n      if (lastToFirst) {\n        this.renderer.setStyle(this.firstEl, 'left', \"\".concat(this.length * this.unitWidth, \"px\"));\n        this.renderer.setStyle(this.lastEl, 'left', null);\n      } else {\n        this.renderer.setStyle(this.firstEl, 'left', null);\n        this.renderer.setStyle(this.lastEl, 'left', \"\".concat(-this.unitWidth * this.length, \"px\"));\n      }\n    }\n  }, {\n    key: \"vertical\",\n    get: function get() {\n      return this.carouselComponent.vertical;\n    }\n  }]);\n\n  return NzCarouselTransformStrategy;\n}(NzCarouselBaseStrategy);\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NZ_CAROUSEL_CUSTOM_STRATEGIES = new InjectionToken('nz-carousel-custom-strategies');\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar NZ_CONFIG_MODULE_NAME = 'carousel';\n\nvar NzCarouselComponent = /*#__PURE__*/function () {\n  function NzCarouselComponent(elementRef, nzConfigService, renderer, cdr, platform, resizeService, nzDragService, customStrategies) {\n    var _this8 = this;\n\n    _classCallCheck(this, NzCarouselComponent);\n\n    this.nzConfigService = nzConfigService;\n    this.renderer = renderer;\n    this.cdr = cdr;\n    this.platform = platform;\n    this.resizeService = resizeService;\n    this.nzDragService = nzDragService;\n    this.customStrategies = customStrategies;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzEffect = 'scrollx';\n    this.nzEnableSwipe = true;\n    this.nzDots = true;\n    this.nzAutoPlay = false;\n    this.nzAutoPlaySpeed = 3000;\n    this.nzTransitionSpeed = 500;\n    this._dotPosition = 'bottom';\n    this.nzBeforeChange = new EventEmitter();\n    this.nzAfterChange = new EventEmitter();\n    this.activeIndex = 0;\n    this.vertical = false;\n    this.transitionInProgress = null;\n    this.destroy$ = new Subject();\n    this.gestureRect = null;\n    this.pointerDelta = null;\n    this.isTransiting = false;\n    this.isDragging = false;\n    /**\n     * Drag carousel.\n     */\n\n    this.pointerDown = function (event) {\n      if (!_this8.isDragging && !_this8.isTransiting && _this8.nzEnableSwipe) {\n        _this8.clearScheduledTransition();\n\n        _this8.gestureRect = _this8.slickListEl.getBoundingClientRect();\n\n        _this8.nzDragService.requestDraggingSequence(event).subscribe(function (delta) {\n          var _a;\n\n          _this8.pointerDelta = delta;\n          _this8.isDragging = true;\n          (_a = _this8.strategy) === null || _a === void 0 ? void 0 : _a.dragging(_this8.pointerDelta);\n        }, function () {}, function () {\n          if (_this8.nzEnableSwipe && _this8.isDragging) {\n            var xDelta = _this8.pointerDelta ? _this8.pointerDelta.x : 0; // Switch to another slide if delta is bigger than third of the width.\n\n            if (Math.abs(xDelta) > _this8.gestureRect.width / 3) {\n              _this8.goTo(xDelta > 0 ? _this8.activeIndex - 1 : _this8.activeIndex + 1);\n            } else {\n              _this8.goTo(_this8.activeIndex);\n            }\n\n            _this8.gestureRect = null;\n            _this8.pointerDelta = null;\n          }\n\n          _this8.isDragging = false;\n        });\n      }\n    };\n\n    this.nzDotPosition = 'bottom';\n    this.renderer.addClass(elementRef.nativeElement, 'ant-carousel');\n    this.el = elementRef.nativeElement;\n  }\n\n  _createClass(NzCarouselComponent, [{\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      this.markContentActive(0);\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      var _this9 = this;\n\n      this.slickListEl = this.slickList.nativeElement;\n      this.slickTrackEl = this.slickTrack.nativeElement;\n      this.carouselContents.changes.pipe(takeUntil(this.destroy$)).subscribe(function () {\n        _this9.markContentActive(0);\n\n        _this9.layout();\n      });\n      this.resizeService.subscribe().pipe(takeUntil(this.destroy$)).subscribe(function () {\n        _this9.layout();\n      });\n      this.switchStrategy();\n      this.markContentActive(0);\n      this.layout(); // If embedded in an entry component, it may do initial render at an inappropriate time.\n      // ngZone.onStable won't do this trick\n      // TODO: need to change this.\n\n      Promise.resolve().then(function () {\n        _this9.layout();\n      });\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzEffect = changes.nzEffect,\n          nzDotPosition = changes.nzDotPosition;\n\n      if (nzEffect && !nzEffect.isFirstChange()) {\n        this.switchStrategy();\n        this.markContentActive(0);\n        this.layout();\n      }\n\n      if (nzDotPosition && !nzDotPosition.isFirstChange()) {\n        this.switchStrategy();\n        this.markContentActive(0);\n        this.layout();\n      }\n\n      if (!this.nzAutoPlay || !this.nzAutoPlaySpeed) {\n        this.clearScheduledTransition();\n      } else {\n        this.scheduleNextTransition();\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.clearScheduledTransition();\n\n      if (this.strategy) {\n        this.strategy.dispose();\n      }\n\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      if (e.keyCode === LEFT_ARROW) {\n        e.preventDefault();\n        this.pre();\n      } else if (e.keyCode === RIGHT_ARROW) {\n        this.next();\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.goTo(this.activeIndex + 1);\n    }\n  }, {\n    key: \"pre\",\n    value: function pre() {\n      this.goTo(this.activeIndex - 1);\n    }\n  }, {\n    key: \"goTo\",\n    value: function goTo(index) {\n      var _this10 = this;\n\n      if (this.carouselContents && this.carouselContents.length && !this.isTransiting) {\n        var length = this.carouselContents.length;\n        var from = this.activeIndex;\n        var to = (index + length) % length;\n        this.isTransiting = true;\n        this.nzBeforeChange.emit({\n          from: from,\n          to: to\n        });\n        this.strategy.switch(this.activeIndex, index).subscribe(function () {\n          _this10.scheduleNextTransition();\n\n          _this10.nzAfterChange.emit(index);\n\n          _this10.isTransiting = false;\n        });\n        this.markContentActive(to);\n        this.cdr.markForCheck();\n      }\n    }\n  }, {\n    key: \"switchStrategy\",\n    value: function switchStrategy() {\n      var _this11 = this;\n\n      if (this.strategy) {\n        this.strategy.dispose();\n      } // Load custom strategies first.\n\n\n      var customStrategy = this.customStrategies ? this.customStrategies.find(function (s) {\n        return s.name === _this11.nzEffect;\n      }) : null;\n\n      if (customStrategy) {\n        this.strategy = new customStrategy.strategy(this, this.cdr, this.renderer, this.platform);\n        return;\n      }\n\n      this.strategy = this.nzEffect === 'scrollx' ? new NzCarouselTransformStrategy(this, this.cdr, this.renderer, this.platform) : new NzCarouselOpacityStrategy(this, this.cdr, this.renderer, this.platform);\n    }\n  }, {\n    key: \"scheduleNextTransition\",\n    value: function scheduleNextTransition() {\n      var _this12 = this;\n\n      this.clearScheduledTransition();\n\n      if (this.nzAutoPlay && this.nzAutoPlaySpeed > 0 && this.platform.isBrowser) {\n        this.transitionInProgress = setTimeout(function () {\n          _this12.goTo(_this12.activeIndex + 1);\n        }, this.nzAutoPlaySpeed);\n      }\n    }\n  }, {\n    key: \"clearScheduledTransition\",\n    value: function clearScheduledTransition() {\n      if (this.transitionInProgress) {\n        clearTimeout(this.transitionInProgress);\n        this.transitionInProgress = null;\n      }\n    }\n  }, {\n    key: \"markContentActive\",\n    value: function markContentActive(index) {\n      this.activeIndex = index;\n\n      if (this.carouselContents) {\n        this.carouselContents.forEach(function (slide, i) {\n          slide.isActive = index === i;\n        });\n      }\n\n      this.cdr.markForCheck();\n    }\n  }, {\n    key: \"layout\",\n    value: function layout() {\n      if (this.strategy) {\n        this.strategy.withCarouselContents(this.carouselContents);\n      }\n    }\n  }, {\n    key: \"nzDotPosition\",\n    set: function set(value) {\n      this._dotPosition = value;\n\n      if (value === 'left' || value === 'right') {\n        this.vertical = true;\n      } else {\n        this.vertical = false;\n      }\n    },\n    get: function get() {\n      return this._dotPosition;\n    }\n  }]);\n\n  return NzCarouselComponent;\n}();\n\nNzCarouselComponent.ɵfac = function NzCarouselComponent_Factory(t) {\n  return new (t || NzCarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzResizeService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzDragService), ɵngcc0.ɵɵdirectiveInject(NZ_CAROUSEL_CUSTOM_STRATEGIES, 8));\n};\n\nNzCarouselComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzCarouselComponent,\n  selectors: [[\"nz-carousel\"]],\n  contentQueries: function NzCarouselComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, NzCarouselContentDirective, false);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.carouselContents = _t);\n    }\n  },\n  viewQuery: function NzCarouselComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, true);\n      ɵngcc0.ɵɵviewQuery(_c1, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slickList = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slickTrack = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function NzCarouselComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-carousel-vertical\", ctx.vertical);\n    }\n  },\n  inputs: {\n    nzEffect: \"nzEffect\",\n    nzEnableSwipe: \"nzEnableSwipe\",\n    nzDots: \"nzDots\",\n    nzAutoPlay: \"nzAutoPlay\",\n    nzAutoPlaySpeed: \"nzAutoPlaySpeed\",\n    nzTransitionSpeed: \"nzTransitionSpeed\",\n    nzDotPosition: \"nzDotPosition\",\n    nzDotRender: \"nzDotRender\"\n  },\n  outputs: {\n    nzBeforeChange: \"nzBeforeChange\",\n    nzAfterChange: \"nzAfterChange\"\n  },\n  exportAs: [\"nzCarousel\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c3,\n  decls: 9,\n  vars: 3,\n  consts: [[1, \"slick-initialized\", \"slick-slider\"], [\"tabindex\", \"-1\", 1, \"slick-list\", 3, \"keydown\", \"mousedown\", \"touchstart\"], [\"slickList\", \"\"], [1, \"slick-track\"], [\"slickTrack\", \"\"], [\"class\", \"slick-dots\", 3, \"slick-dots-top\", \"slick-dots-bottom\", \"slick-dots-left\", \"slick-dots-right\", 4, \"ngIf\"], [\"renderDotTemplate\", \"\"], [1, \"slick-dots\"], [3, \"slick-active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]],\n  template: function NzCarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1, 2);\n      ɵngcc0.ɵɵlistener(\"keydown\", function NzCarouselComponent_Template_div_keydown_1_listener($event) {\n        return ctx.onKeyDown($event);\n      })(\"mousedown\", function NzCarouselComponent_Template_div_mousedown_1_listener($event) {\n        return ctx.pointerDown($event);\n      })(\"touchstart\", function NzCarouselComponent_Template_div_touchstart_1_listener($event) {\n        return ctx.pointerDown($event);\n      });\n      ɵngcc0.ɵɵelementStart(3, \"div\", 3, 4);\n      ɵngcc0.ɵɵprojection(5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(6, NzCarouselComponent_ul_6_Template, 2, 9, \"ul\", 5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(7, NzCarouselComponent_ng_template_7_Template, 2, 1, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"slick-vertical\", ctx.nzDotPosition === \"left\" || ctx.nzDotPosition === \"right\");\n      ɵngcc0.ɵɵadvance(6);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzDots);\n    }\n  },\n  directives: [ɵngcc4.NgIf, ɵngcc4.NgForOf, ɵngcc4.NgTemplateOutlet],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\nNzCarouselComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: NzConfigService\n  }, {\n    type: Renderer2\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: Platform\n  }, {\n    type: NzResizeService\n  }, {\n    type: NzDragService\n  }, {\n    type: Array,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [NZ_CAROUSEL_CUSTOM_STRATEGIES]\n    }]\n  }];\n};\n\nNzCarouselComponent.propDecorators = {\n  carouselContents: [{\n    type: ContentChildren,\n    args: [NzCarouselContentDirective]\n  }],\n  slickList: [{\n    type: ViewChild,\n    args: ['slickList', {\n      static: false\n    }]\n  }],\n  slickTrack: [{\n    type: ViewChild,\n    args: ['slickTrack', {\n      static: false\n    }]\n  }],\n  nzDotRender: [{\n    type: Input\n  }],\n  nzEffect: [{\n    type: Input\n  }],\n  nzEnableSwipe: [{\n    type: Input\n  }],\n  nzDots: [{\n    type: Input\n  }],\n  nzAutoPlay: [{\n    type: Input\n  }],\n  nzAutoPlaySpeed: [{\n    type: Input\n  }],\n  nzTransitionSpeed: [{\n    type: Input\n  }],\n  nzDotPosition: [{\n    type: Input\n  }],\n  nzBeforeChange: [{\n    type: Output\n  }],\n  nzAfterChange: [{\n    type: Output\n  }]\n};\n\n__decorate([WithConfig(), __metadata(\"design:type\", String)], NzCarouselComponent.prototype, \"nzEffect\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzCarouselComponent.prototype, \"nzEnableSwipe\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzCarouselComponent.prototype, \"nzDots\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzCarouselComponent.prototype, \"nzAutoPlay\", void 0);\n\n__decorate([WithConfig(), InputNumber(), __metadata(\"design:type\", Number)], NzCarouselComponent.prototype, \"nzAutoPlaySpeed\", void 0);\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzCarouselComponent.prototype, \"nzTransitionSpeed\", void 0);\n\n__decorate([WithConfig(), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [String])], NzCarouselComponent.prototype, \"nzDotPosition\", null);\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzCarouselContentDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[nz-carousel-content]',\n      exportAs: 'nzCarouselContent'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, null);\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzCarouselComponent, [{\n    type: Component,\n    args: [{\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      selector: 'nz-carousel',\n      exportAs: 'nzCarousel',\n      preserveWhitespaces: false,\n      template: \"\\n    <div class=\\\"slick-initialized slick-slider\\\" [class.slick-vertical]=\\\"nzDotPosition === 'left' || nzDotPosition === 'right'\\\">\\n      <div\\n        #slickList\\n        class=\\\"slick-list\\\"\\n        tabindex=\\\"-1\\\"\\n        (keydown)=\\\"onKeyDown($event)\\\"\\n        (mousedown)=\\\"pointerDown($event)\\\"\\n        (touchstart)=\\\"pointerDown($event)\\\"\\n      >\\n        <!-- Render carousel items. -->\\n        <div class=\\\"slick-track\\\" #slickTrack>\\n          <ng-content></ng-content>\\n        </div>\\n      </div>\\n      <!-- Render dots. -->\\n      <ul\\n        class=\\\"slick-dots\\\"\\n        *ngIf=\\\"nzDots\\\"\\n        [class.slick-dots-top]=\\\"nzDotPosition === 'top'\\\"\\n        [class.slick-dots-bottom]=\\\"nzDotPosition === 'bottom'\\\"\\n        [class.slick-dots-left]=\\\"nzDotPosition === 'left'\\\"\\n        [class.slick-dots-right]=\\\"nzDotPosition === 'right'\\\"\\n      >\\n        <li *ngFor=\\\"let content of carouselContents; let i = index\\\" [class.slick-active]=\\\"content.isActive\\\" (click)=\\\"goTo(i)\\\">\\n          <ng-template [ngTemplateOutlet]=\\\"nzDotRender || renderDotTemplate\\\" [ngTemplateOutletContext]=\\\"{ $implicit: i }\\\"></ng-template>\\n        </li>\\n      </ul>\\n    </div>\\n\\n    <ng-template #renderDotTemplate let-index>\\n      <button>{{ index + 1 }}</button>\\n    </ng-template>\\n  \",\n      host: {\n        '[class.ant-carousel-vertical]': 'vertical'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.NzConfigService\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc2.Platform\n    }, {\n      type: ɵngcc3.NzResizeService\n    }, {\n      type: ɵngcc3.NzDragService\n    }, {\n      type: Array,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [NZ_CAROUSEL_CUSTOM_STRATEGIES]\n      }]\n    }];\n  }, {\n    nzEffect: [{\n      type: Input\n    }],\n    nzEnableSwipe: [{\n      type: Input\n    }],\n    nzDots: [{\n      type: Input\n    }],\n    nzAutoPlay: [{\n      type: Input\n    }],\n    nzAutoPlaySpeed: [{\n      type: Input\n    }],\n    nzTransitionSpeed: [{\n      type: Input\n    }],\n    nzBeforeChange: [{\n      type: Output\n    }],\n    nzAfterChange: [{\n      type: Output\n    }],\n    nzDotPosition: [{\n      type: Input\n    }],\n    carouselContents: [{\n      type: ContentChildren,\n      args: [NzCarouselContentDirective]\n    }],\n    slickList: [{\n      type: ViewChild,\n      args: ['slickList', {\n        static: false\n      }]\n    }],\n    slickTrack: [{\n      type: ViewChild,\n      args: ['slickTrack', {\n        static: false\n      }]\n    }],\n    nzDotRender: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselModule = function NzCarouselModule() {\n  _classCallCheck(this, NzCarouselModule);\n};\n\nNzCarouselModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NzCarouselModule\n});\nNzCarouselModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NzCarouselModule_Factory(t) {\n    return new (t || NzCarouselModule)();\n  },\n  imports: [[CommonModule, PlatformModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzCarouselModule, {\n    declarations: function declarations() {\n      return [NzCarouselComponent, NzCarouselContentDirective];\n    },\n    imports: function imports() {\n      return [CommonModule, PlatformModule];\n    },\n    exports: function exports() {\n      return [NzCarouselComponent, NzCarouselContentDirective];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzCarouselModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzCarouselComponent, NzCarouselContentDirective],\n      exports: [NzCarouselComponent, NzCarouselContentDirective],\n      imports: [CommonModule, PlatformModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NZ_CAROUSEL_CUSTOM_STRATEGIES, NzCarouselBaseStrategy, NzCarouselComponent, NzCarouselContentDirective, NzCarouselModule };","map":{"version":3,"sources":["../../components/carousel/carousel-content.directive.ts","../../components/carousel/strategies/base-strategy.ts","../../components/carousel/strategies/opacity-strategy.ts","../../components/carousel/strategies/transform-strategy.ts","../../components/carousel/typings.ts","../../components/carousel/carousel.component.ts","../../components/carousel/carousel.module.ts","../../components/carousel/public-api.ts","../../components/carousel/ng-zorro-antd-carousel.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, ElementRef, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[nz-carousel-content]',\n  exportAs: 'nzCarouselContent'\n})\nexport class NzCarouselContentDirective {\n  readonly el: HTMLElement;\n\n  set isActive(value: boolean) {\n    this._active = value;\n    if (this.isActive) {\n      this.renderer.addClass(this.el, 'slick-active');\n    } else {\n      this.renderer.removeClass(this.el, 'slick-active');\n    }\n  }\n\n  get isActive(): boolean {\n    return this._active;\n  }\n\n  private _active = false;\n\n  constructor(elementRef: ElementRef, private renderer: Renderer2) {\n    this.el = elementRef.nativeElement;\n    this.renderer.addClass(elementRef.nativeElement, 'slick-slide');\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Platform } from '@angular/cdk/platform';\nimport { ChangeDetectorRef, QueryList, Renderer2 } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { NzCarouselContentDirective } from '../carousel-content.directive';\nimport { FromToInterface, NzCarouselComponentAsSource, PointerVector } from '../typings';\n\nexport abstract class NzCarouselBaseStrategy {\n  // Properties that strategies may want to use.\n  protected carouselComponent: NzCarouselComponentAsSource | null;\n  protected contents!: NzCarouselContentDirective[];\n  protected slickListEl!: HTMLElement;\n  protected slickTrackEl!: HTMLElement;\n  protected length!: number;\n  protected unitWidth!: number;\n  protected unitHeight!: number;\n\n  protected get maxIndex(): number {\n    return this.length - 1;\n  }\n\n  protected get firstEl(): HTMLElement {\n    return this.contents[0].el;\n  }\n\n  protected get lastEl(): HTMLElement {\n    return this.contents[this.maxIndex].el;\n  }\n\n  constructor(\n    carouselComponent: NzCarouselComponentAsSource,\n    protected cdr: ChangeDetectorRef,\n    protected renderer: Renderer2,\n    protected platform: Platform\n  ) {\n    this.carouselComponent = carouselComponent;\n  }\n\n  /**\n   * Initialize dragging sequences.\n   * @param contents\n   */\n  withCarouselContents(contents: QueryList<NzCarouselContentDirective> | null): void {\n    const carousel = this.carouselComponent!;\n    this.slickListEl = carousel.slickListEl;\n    this.slickTrackEl = carousel.slickTrackEl;\n    this.contents = contents?.toArray() || [];\n    this.length = this.contents.length;\n\n    if (this.platform.isBrowser) {\n      const rect = carousel.el.getBoundingClientRect();\n      this.unitWidth = rect.width;\n      this.unitHeight = rect.height;\n    } else {\n      // Since we cannot call getBoundingClientRect in server, we just hide all items except for the first one.\n      contents?.forEach((content, index) => {\n        if (index === 0) {\n          this.renderer.setStyle(content.el, 'width', '100%');\n        } else {\n          this.renderer.setStyle(content.el, 'display', 'none');\n        }\n      });\n    }\n  }\n\n  /**\n   * Trigger transition.\n   */\n  abstract switch(_f: number, _t: number): Observable<void>;\n\n  /**\n   * When user drag the carousel component.\n   * @optional\n   */\n  dragging(_vector: PointerVector): void {}\n\n  /**\n   * Destroy a scroll strategy.\n   */\n  dispose(): void {}\n\n  protected getFromToInBoundary(f: number, t: number): FromToInterface {\n    const length = this.maxIndex + 1;\n    return { from: (f + length) % length, to: (t + length) % length };\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { QueryList } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { NzCarouselContentDirective } from '../carousel-content.directive';\n\nimport { NzCarouselBaseStrategy } from './base-strategy';\n\nexport class NzCarouselOpacityStrategy extends NzCarouselBaseStrategy {\n  withCarouselContents(contents: QueryList<NzCarouselContentDirective> | null): void {\n    super.withCarouselContents(contents);\n\n    if (this.contents) {\n      this.slickTrackEl.style.width = `${this.length * this.unitWidth}px`;\n\n      this.contents.forEach((content: NzCarouselContentDirective, i: number) => {\n        this.renderer.setStyle(content.el, 'opacity', this.carouselComponent!.activeIndex === i ? '1' : '0');\n        this.renderer.setStyle(content.el, 'position', 'relative');\n        this.renderer.setStyle(content.el, 'width', `${this.unitWidth}px`);\n        this.renderer.setStyle(content.el, 'left', `${-this.unitWidth * i}px`);\n        this.renderer.setStyle(content.el, 'transition', ['opacity 500ms ease 0s', 'visibility 500ms ease 0s']);\n      });\n    }\n  }\n\n  switch(_f: number, _t: number): Observable<void> {\n    const { to: t } = this.getFromToInBoundary(_f, _t);\n    const complete$ = new Subject<void>();\n\n    this.contents.forEach((content: NzCarouselContentDirective, i: number) => {\n      this.renderer.setStyle(content.el, 'opacity', t === i ? '1' : '0');\n    });\n\n    setTimeout(() => {\n      complete$.next();\n      complete$.complete();\n    }, this.carouselComponent!.nzTransitionSpeed);\n\n    return complete$;\n  }\n\n  dispose(): void {\n    this.contents.forEach((content: NzCarouselContentDirective) => {\n      this.renderer.setStyle(content.el, 'transition', null);\n    });\n\n    super.dispose();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { QueryList } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { NzCarouselContentDirective } from '../carousel-content.directive';\nimport { PointerVector } from '../typings';\n\nimport { NzCarouselBaseStrategy } from './base-strategy';\n\nexport class NzCarouselTransformStrategy extends NzCarouselBaseStrategy {\n  private isDragging = false;\n  private isTransitioning = false;\n\n  private get vertical(): boolean {\n    return this.carouselComponent!.vertical;\n  }\n\n  dispose(): void {\n    super.dispose();\n    this.renderer.setStyle(this.slickTrackEl, 'transform', null);\n  }\n\n  withCarouselContents(contents: QueryList<NzCarouselContentDirective> | null): void {\n    super.withCarouselContents(contents);\n\n    const carousel = this.carouselComponent!;\n    const activeIndex = carousel.activeIndex;\n\n    // We only do when we are in browser.\n    if (this.platform.isBrowser && this.contents.length) {\n      this.renderer.setStyle(this.slickListEl, 'height', `${this.unitHeight}px`);\n\n      if (this.vertical) {\n        this.renderer.setStyle(this.slickTrackEl, 'width', `${this.unitWidth}px`);\n        this.renderer.setStyle(this.slickTrackEl, 'height', `${this.length * this.unitHeight}px`);\n        this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-activeIndex * this.unitHeight}px, 0)`);\n      } else {\n        this.renderer.setStyle(this.slickTrackEl, 'height', `${this.unitHeight}px`);\n        this.renderer.setStyle(this.slickTrackEl, 'width', `${this.length * this.unitWidth}px`);\n        this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-activeIndex * this.unitWidth}px, 0, 0)`);\n      }\n\n      this.contents.forEach((content: NzCarouselContentDirective) => {\n        this.renderer.setStyle(content.el, 'position', 'relative');\n        this.renderer.setStyle(content.el, 'width', `${this.unitWidth}px`);\n        this.renderer.setStyle(content.el, 'height', `${this.unitHeight}px`);\n      });\n    }\n  }\n\n  switch(_f: number, _t: number): Observable<void> {\n    const { to: t } = this.getFromToInBoundary(_f, _t);\n    const complete$ = new Subject<void>();\n\n    this.renderer.setStyle(this.slickTrackEl, 'transition', `transform ${this.carouselComponent!.nzTransitionSpeed}ms ease`);\n\n    if (this.vertical) {\n      this.verticalTransform(_f, _t);\n    } else {\n      this.horizontalTransform(_f, _t);\n    }\n\n    this.isTransitioning = true;\n    this.isDragging = false;\n\n    setTimeout(() => {\n      this.renderer.setStyle(this.slickTrackEl, 'transition', null);\n      this.contents.forEach((content: NzCarouselContentDirective) => {\n        this.renderer.setStyle(content.el, this.vertical ? 'top' : 'left', null);\n      });\n\n      if (this.vertical) {\n        this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-t * this.unitHeight}px, 0)`);\n      } else {\n        this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-t * this.unitWidth}px, 0, 0)`);\n      }\n\n      this.isTransitioning = false;\n\n      complete$.next();\n      complete$.complete();\n    }, this.carouselComponent!.nzTransitionSpeed);\n\n    return complete$.asObservable();\n  }\n\n  dragging(_vector: PointerVector): void {\n    if (this.isTransitioning) {\n      return;\n    }\n\n    const activeIndex = this.carouselComponent!.activeIndex;\n\n    if (this.carouselComponent!.vertical) {\n      if (!this.isDragging && this.length > 2) {\n        if (activeIndex === this.maxIndex) {\n          this.prepareVerticalContext(true);\n        } else if (activeIndex === 0) {\n          this.prepareVerticalContext(false);\n        }\n      }\n      this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-activeIndex * this.unitHeight + _vector.x}px, 0)`);\n    } else {\n      if (!this.isDragging && this.length > 2) {\n        if (activeIndex === this.maxIndex) {\n          this.prepareHorizontalContext(true);\n        } else if (activeIndex === 0) {\n          this.prepareHorizontalContext(false);\n        }\n      }\n      this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-activeIndex * this.unitWidth + _vector.x}px, 0, 0)`);\n    }\n\n    this.isDragging = true;\n  }\n\n  private verticalTransform(_f: number, _t: number): void {\n    const { from: f, to: t } = this.getFromToInBoundary(_f, _t);\n    const needToAdjust = this.length > 2 && _t !== t;\n\n    if (needToAdjust) {\n      this.prepareVerticalContext(t < f);\n      this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-_t * this.unitHeight}px, 0)`);\n    } else {\n      this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-t * this.unitHeight}px, 0`);\n    }\n  }\n\n  private horizontalTransform(_f: number, _t: number): void {\n    const { from: f, to: t } = this.getFromToInBoundary(_f, _t);\n    const needToAdjust = this.length > 2 && _t !== t;\n\n    if (needToAdjust) {\n      this.prepareHorizontalContext(t < f);\n      this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-_t * this.unitWidth}px, 0, 0)`);\n    } else {\n      this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-t * this.unitWidth}px, 0, 0`);\n    }\n  }\n\n  private prepareVerticalContext(lastToFirst: boolean): void {\n    if (lastToFirst) {\n      this.renderer.setStyle(this.firstEl, 'top', `${this.length * this.unitHeight}px`);\n      this.renderer.setStyle(this.lastEl, 'top', null);\n    } else {\n      this.renderer.setStyle(this.firstEl, 'top', null);\n      this.renderer.setStyle(this.lastEl, 'top', `${-this.unitHeight * this.length}px`);\n    }\n  }\n\n  private prepareHorizontalContext(lastToFirst: boolean): void {\n    if (lastToFirst) {\n      this.renderer.setStyle(this.firstEl, 'left', `${this.length * this.unitWidth}px`);\n      this.renderer.setStyle(this.lastEl, 'left', null);\n    } else {\n      this.renderer.setStyle(this.firstEl, 'left', null);\n      this.renderer.setStyle(this.lastEl, 'left', `${-this.unitWidth * this.length}px`);\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { InjectionToken, QueryList } from '@angular/core';\nimport { NzCarouselContentDirective } from './carousel-content.directive';\nimport { NzCarouselBaseStrategy } from './strategies/base-strategy';\n\nexport type NzCarouselEffects = 'fade' | 'scrollx' | string;\nexport type NzCarouselDotPosition = 'top' | 'bottom' | 'left' | 'right' | string;\n\nexport interface NzCarouselComponentAsSource {\n  carouselContents: QueryList<NzCarouselContentDirective>;\n  el: HTMLElement;\n  nzTransitionSpeed: number;\n  vertical: boolean;\n  slickListEl: HTMLElement;\n  slickTrackEl: HTMLElement;\n  activeIndex: number;\n}\n\nexport interface NzCarouselStrategyRegistryItem {\n  name: string;\n  strategy: NzCarouselBaseStrategy;\n}\n\nexport const NZ_CAROUSEL_CUSTOM_STRATEGIES = new InjectionToken<NzCarouselStrategyRegistryItem[]>('nz-carousel-custom-strategies');\n\nexport interface PointerVector {\n  x: number;\n  y: number;\n}\n\nexport interface FromToInterface {\n  from: number;\n  to: number;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { LEFT_ARROW, RIGHT_ARROW } from '@angular/cdk/keycodes';\nimport { Platform } from '@angular/cdk/platform';\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Output,\n  QueryList,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NzConfigKey, NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzDragService, NzResizeService } from 'ng-zorro-antd/core/services';\nimport { BooleanInput, NumberInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { NzCarouselContentDirective } from './carousel-content.directive';\nimport { NzCarouselBaseStrategy } from './strategies/base-strategy';\nimport { NzCarouselOpacityStrategy } from './strategies/opacity-strategy';\nimport { NzCarouselTransformStrategy } from './strategies/transform-strategy';\nimport {\n  FromToInterface,\n  NzCarouselDotPosition,\n  NzCarouselEffects,\n  NzCarouselStrategyRegistryItem,\n  NZ_CAROUSEL_CUSTOM_STRATEGIES,\n  PointerVector\n} from './typings';\n\nconst NZ_CONFIG_MODULE_NAME: NzConfigKey = 'carousel';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'nz-carousel',\n  exportAs: 'nzCarousel',\n  preserveWhitespaces: false,\n  template: `\n    <div class=\"slick-initialized slick-slider\" [class.slick-vertical]=\"nzDotPosition === 'left' || nzDotPosition === 'right'\">\n      <div\n        #slickList\n        class=\"slick-list\"\n        tabindex=\"-1\"\n        (keydown)=\"onKeyDown($event)\"\n        (mousedown)=\"pointerDown($event)\"\n        (touchstart)=\"pointerDown($event)\"\n      >\n        <!-- Render carousel items. -->\n        <div class=\"slick-track\" #slickTrack>\n          <ng-content></ng-content>\n        </div>\n      </div>\n      <!-- Render dots. -->\n      <ul\n        class=\"slick-dots\"\n        *ngIf=\"nzDots\"\n        [class.slick-dots-top]=\"nzDotPosition === 'top'\"\n        [class.slick-dots-bottom]=\"nzDotPosition === 'bottom'\"\n        [class.slick-dots-left]=\"nzDotPosition === 'left'\"\n        [class.slick-dots-right]=\"nzDotPosition === 'right'\"\n      >\n        <li *ngFor=\"let content of carouselContents; let i = index\" [class.slick-active]=\"content.isActive\" (click)=\"goTo(i)\">\n          <ng-template [ngTemplateOutlet]=\"nzDotRender || renderDotTemplate\" [ngTemplateOutletContext]=\"{ $implicit: i }\"></ng-template>\n        </li>\n      </ul>\n    </div>\n\n    <ng-template #renderDotTemplate let-index>\n      <button>{{ index + 1 }}</button>\n    </ng-template>\n  `,\n  host: {\n    '[class.ant-carousel-vertical]': 'vertical'\n  }\n})\nexport class NzCarouselComponent implements AfterContentInit, AfterViewInit, OnDestroy, OnChanges {\n  readonly _nzModuleName: NzConfigKey = NZ_CONFIG_MODULE_NAME;\n  static ngAcceptInputType_nzEnableSwipe: BooleanInput;\n  static ngAcceptInputType_nzDots: BooleanInput;\n  static ngAcceptInputType_nzAutoPlay: BooleanInput;\n  static ngAcceptInputType_nzAutoPlaySpeed: NumberInput;\n  static ngAcceptInputType_nzTransitionSpeed: NumberInput;\n\n  @ContentChildren(NzCarouselContentDirective) carouselContents!: QueryList<NzCarouselContentDirective>;\n\n  @ViewChild('slickList', { static: false }) slickList?: ElementRef;\n  @ViewChild('slickTrack', { static: false }) slickTrack?: ElementRef;\n\n  @Input() nzDotRender?: TemplateRef<{ $implicit: number }>;\n  @Input() @WithConfig() nzEffect: NzCarouselEffects = 'scrollx';\n  @Input() @WithConfig() @InputBoolean() nzEnableSwipe: boolean = true;\n  @Input() @WithConfig() @InputBoolean() nzDots: boolean = true;\n  @Input() @WithConfig() @InputBoolean() nzAutoPlay: boolean = false;\n  @Input() @WithConfig() @InputNumber() nzAutoPlaySpeed: number = 3000;\n  @Input() @InputNumber() nzTransitionSpeed = 500;\n\n  @Input()\n  // @ts-ignore\n  @WithConfig()\n  set nzDotPosition(value: NzCarouselDotPosition) {\n    this._dotPosition = value;\n    if (value === 'left' || value === 'right') {\n      this.vertical = true;\n    } else {\n      this.vertical = false;\n    }\n  }\n\n  get nzDotPosition(): NzCarouselDotPosition {\n    return this._dotPosition;\n  }\n\n  private _dotPosition: NzCarouselDotPosition = 'bottom';\n\n  @Output() readonly nzBeforeChange = new EventEmitter<FromToInterface>();\n  @Output() readonly nzAfterChange = new EventEmitter<number>();\n\n  activeIndex = 0;\n  el: HTMLElement;\n  slickListEl!: HTMLElement;\n  slickTrackEl!: HTMLElement;\n  strategy?: NzCarouselBaseStrategy;\n  vertical = false;\n  transitionInProgress: number | null = null;\n\n  private destroy$ = new Subject<void>();\n  private gestureRect: ClientRect | null = null;\n  private pointerDelta: PointerVector | null = null;\n  private isTransiting = false;\n  private isDragging = false;\n\n  constructor(\n    elementRef: ElementRef,\n    public readonly nzConfigService: NzConfigService,\n    private readonly renderer: Renderer2,\n    private readonly cdr: ChangeDetectorRef,\n    private readonly platform: Platform,\n    private readonly resizeService: NzResizeService,\n    private readonly nzDragService: NzDragService,\n    @Optional() @Inject(NZ_CAROUSEL_CUSTOM_STRATEGIES) private customStrategies: NzCarouselStrategyRegistryItem[]\n  ) {\n    this.nzDotPosition = 'bottom';\n\n    this.renderer.addClass(elementRef.nativeElement, 'ant-carousel');\n    this.el = elementRef.nativeElement;\n  }\n\n  ngAfterContentInit(): void {\n    this.markContentActive(0);\n  }\n\n  ngAfterViewInit(): void {\n    this.slickListEl = this.slickList!.nativeElement;\n    this.slickTrackEl = this.slickTrack!.nativeElement;\n\n    this.carouselContents.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.markContentActive(0);\n      this.layout();\n    });\n\n    this.resizeService\n      .subscribe()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.layout();\n      });\n\n    this.switchStrategy();\n    this.markContentActive(0);\n    this.layout();\n\n    // If embedded in an entry component, it may do initial render at an inappropriate time.\n    // ngZone.onStable won't do this trick\n    // TODO: need to change this.\n    Promise.resolve().then(() => {\n      this.layout();\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzEffect, nzDotPosition } = changes;\n\n    if (nzEffect && !nzEffect.isFirstChange()) {\n      this.switchStrategy();\n      this.markContentActive(0);\n      this.layout();\n    }\n\n    if (nzDotPosition && !nzDotPosition.isFirstChange()) {\n      this.switchStrategy();\n      this.markContentActive(0);\n      this.layout();\n    }\n\n    if (!this.nzAutoPlay || !this.nzAutoPlaySpeed) {\n      this.clearScheduledTransition();\n    } else {\n      this.scheduleNextTransition();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.clearScheduledTransition();\n    if (this.strategy) {\n      this.strategy.dispose();\n    }\n\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    if (e.keyCode === LEFT_ARROW) {\n      e.preventDefault();\n      this.pre();\n    } else if (e.keyCode === RIGHT_ARROW) {\n      this.next();\n      e.preventDefault();\n    }\n  }\n\n  next(): void {\n    this.goTo(this.activeIndex + 1);\n  }\n\n  pre(): void {\n    this.goTo(this.activeIndex - 1);\n  }\n\n  goTo(index: number): void {\n    if (this.carouselContents && this.carouselContents.length && !this.isTransiting) {\n      const length = this.carouselContents.length;\n      const from = this.activeIndex;\n      const to = (index + length) % length;\n      this.isTransiting = true;\n      this.nzBeforeChange.emit({ from, to });\n      this.strategy!.switch(this.activeIndex, index).subscribe(() => {\n        this.scheduleNextTransition();\n        this.nzAfterChange.emit(index);\n        this.isTransiting = false;\n      });\n      this.markContentActive(to);\n      this.cdr.markForCheck();\n    }\n  }\n\n  private switchStrategy(): void {\n    if (this.strategy) {\n      this.strategy.dispose();\n    }\n\n    // Load custom strategies first.\n    const customStrategy = this.customStrategies ? this.customStrategies.find(s => s.name === this.nzEffect) : null;\n    if (customStrategy) {\n      this.strategy = new (customStrategy.strategy as NzSafeAny)(this, this.cdr, this.renderer, this.platform);\n      return;\n    }\n\n    this.strategy =\n      this.nzEffect === 'scrollx'\n        ? new NzCarouselTransformStrategy(this, this.cdr, this.renderer, this.platform)\n        : new NzCarouselOpacityStrategy(this, this.cdr, this.renderer, this.platform);\n  }\n\n  private scheduleNextTransition(): void {\n    this.clearScheduledTransition();\n    if (this.nzAutoPlay && this.nzAutoPlaySpeed > 0 && this.platform.isBrowser) {\n      this.transitionInProgress = setTimeout(() => {\n        this.goTo(this.activeIndex + 1);\n      }, this.nzAutoPlaySpeed);\n    }\n  }\n\n  private clearScheduledTransition(): void {\n    if (this.transitionInProgress) {\n      clearTimeout(this.transitionInProgress);\n      this.transitionInProgress = null;\n    }\n  }\n\n  private markContentActive(index: number): void {\n    this.activeIndex = index;\n\n    if (this.carouselContents) {\n      this.carouselContents.forEach((slide, i) => {\n        slide.isActive = index === i;\n      });\n    }\n\n    this.cdr.markForCheck();\n  }\n\n  /**\n   * Drag carousel.\n   */\n  pointerDown = (event: TouchEvent | MouseEvent) => {\n    if (!this.isDragging && !this.isTransiting && this.nzEnableSwipe) {\n      this.clearScheduledTransition();\n      this.gestureRect = this.slickListEl.getBoundingClientRect();\n\n      this.nzDragService.requestDraggingSequence(event).subscribe(\n        delta => {\n          this.pointerDelta = delta;\n          this.isDragging = true;\n          this.strategy?.dragging(this.pointerDelta);\n        },\n        () => {},\n        () => {\n          if (this.nzEnableSwipe && this.isDragging) {\n            const xDelta = this.pointerDelta ? this.pointerDelta.x : 0;\n\n            // Switch to another slide if delta is bigger than third of the width.\n            if (Math.abs(xDelta) > this.gestureRect!.width / 3) {\n              this.goTo(xDelta > 0 ? this.activeIndex - 1 : this.activeIndex + 1);\n            } else {\n              this.goTo(this.activeIndex);\n            }\n\n            this.gestureRect = null;\n            this.pointerDelta = null;\n          }\n\n          this.isDragging = false;\n        }\n      );\n    }\n  };\n\n  layout(): void {\n    if (this.strategy) {\n      this.strategy.withCarouselContents(this.carouselContents);\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzCarouselContentDirective } from './carousel-content.directive';\nimport { NzCarouselComponent } from './carousel.component';\n\n@NgModule({\n  declarations: [NzCarouselComponent, NzCarouselContentDirective],\n  exports: [NzCarouselComponent, NzCarouselContentDirective],\n  imports: [CommonModule, PlatformModule]\n})\nexport class NzCarouselModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './carousel.module';\nexport * from './carousel.component';\nexport * from './carousel-content.directive';\nexport * from './strategies/base-strategy';\nexport * from './typings';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}