{"ast":null,"code":"// tslint:disable: typedef no-invalid-this\nvar availablePrefixes = ['moz', 'ms', 'webkit'];\n\nfunction requestAnimationFramePolyfill() {\n  var lastTime = 0;\n  return function (callback) {\n    var currTime = new Date().getTime();\n    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    var id = setTimeout(function () {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof window === 'undefined') {\n    return function () {\n      return 0;\n    };\n  }\n\n  if (window.requestAnimationFrame) {\n    // https://github.com/vuejs/vue/issues/4465\n    return window.requestAnimationFrame.bind(window);\n  }\n\n  var prefix = availablePrefixes.filter(function (key) {\n    return \"\".concat(key, \"RequestAnimationFrame\") in window;\n  })[0];\n  return prefix ? window[\"\".concat(prefix, \"RequestAnimationFrame\")] : requestAnimationFramePolyfill();\n}\n\nfunction cancelRequestAnimationFrame(id) {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  if (window.cancelAnimationFrame) {\n    return window.cancelAnimationFrame(id);\n  }\n\n  var prefix = availablePrefixes.filter(function (key) {\n    return \"\".concat(key, \"CancelAnimationFrame\") in window || \"\".concat(key, \"CancelRequestAnimationFrame\") in window;\n  })[0];\n  return prefix ? (window[\"\".concat(prefix, \"CancelAnimationFrame\")] || window[\"\".concat(prefix, \"CancelRequestAnimationFrame\")]). // @ts-ignore\n  call(this, id) : clearTimeout(id);\n}\n\nvar reqAnimFrame = getRequestAnimationFrame();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { cancelRequestAnimationFrame, reqAnimFrame };","map":{"version":3,"sources":["../../components/core/polyfill/request-animation.ts","../../components/core/polyfill/public-api.ts","../../components/core/polyfill/ng-zorro-antd-core-polyfill.ts"],"names":[],"mappings":"AAMA;AACA,IAAM,iBAAiB,GAAG,CAAC,KAAD,EAAQ,IAAR,EAAc,QAAd,CAA1B;;AAEA,SAAS,6BAAT,GAAsC;AACpC,MAAI,QAAQ,GAAG,CAAf;AACA,SAAO,UAAU,QAAV,EAAwC;AAC7C,QAAM,QAAQ,GAAG,IAAI,IAAJ,GAAW,OAAX,EAAjB;AACA,QAAM,UAAU,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,MAAM,QAAQ,GAAG,QAAjB,CAAZ,CAAnB;AACA,QAAM,EAAE,GAAG,UAAU,CAAC,YAAA;AACpB,MAAA,QAAQ,CAAC,QAAQ,GAAG,UAAZ,CAAR;AACD,KAFoB,EAElB,UAFkB,CAArB;AAGA,IAAA,QAAQ,GAAG,QAAQ,GAAG,UAAtB;AACA,WAAO,EAAP;AACD,GARD;AASD;;AAED,SAAS,wBAAT,GAAiC;AAC/B,MAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAO;AAAA,aAAM,CAAN;AAAA,KAAP;AACD;;AACD,MAAI,MAAM,CAAC,qBAAX,EAAkC;AACpC;AACI,WAAO,MAAM,CAAC,qBAAP,CAA6B,IAA7B,CAAkC,MAAlC,CAAP;AACD;;AAED,MAAM,MAAM,GAAG,iBAAiB,CAAC,MAAlB,CAAyB,UAAA,GAAG;AAAA,WAAI,UAAG,GAAH,8BAAiC,MAArC;AAAA,GAA5B,EAAyE,CAAzE,CAAf;AAEA,SAAO,MAAM,GAAI,MAAoB,WAAI,MAAJ,2BAAxB,GAA6D,6BAA6B,EAAvG;AACD;;AACD,SAAgB,2BAAhB,CAA4C,EAA5C,EAAsD;AACpD,MAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAO,IAAP;AACD;;AACD,MAAI,MAAM,CAAC,oBAAX,EAAiC;AAC/B,WAAO,MAAM,CAAC,oBAAP,CAA4B,EAA5B,CAAP;AACD;;AACD,MAAM,MAAM,GAAG,iBAAiB,CAAC,MAAlB,CACb,UAAA,GAAG;AAAA,WAAI,UAAG,GAAH,6BAAgC,MAAhC,IAA0C,UAAG,GAAH,oCAAuC,MAArF;AAAA,GADU,EAEb,CAFa,CAAf;AAIA,SAAO,MAAM,GACT,CAAE,MAAoB,WAAI,MAAJ,0BAApB,IAA0D,MAAoB,WAAI,MAAJ,iCAAhF,GACN;AACS,EAAA,IAFH,CAEQ,IAFR,EAEc,EAFd,CADS,GAIT,YAAY,CAAC,EAAD,CAJhB;AAKD;;AACD,IACa,YAAY,GAAG,wBAAwB,EADpD;ACpDA;;;;;ACAA;;;;AAIA,SAAA,2BAAA,EAAA,YAAA","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\n// tslint:disable: typedef no-invalid-this\nconst availablePrefixes = ['moz', 'ms', 'webkit'];\n\nfunction requestAnimationFramePolyfill(): typeof requestAnimationFrame {\n  let lastTime = 0;\n  return function (callback: FrameRequestCallback): number {\n    const currTime = new Date().getTime();\n    const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    const id = setTimeout(() => {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\n\nfunction getRequestAnimationFrame(): typeof requestAnimationFrame {\n  if (typeof window === 'undefined') {\n    return () => 0;\n  }\n  if (window.requestAnimationFrame) {\n    // https://github.com/vuejs/vue/issues/4465\n    return window.requestAnimationFrame.bind(window);\n  }\n\n  const prefix = availablePrefixes.filter(key => `${key}RequestAnimationFrame` in window)[0];\n\n  return prefix ? (window as NzSafeAny)[`${prefix}RequestAnimationFrame`] : requestAnimationFramePolyfill();\n}\nexport function cancelRequestAnimationFrame(id: number): NzSafeAny {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n  if (window.cancelAnimationFrame) {\n    return window.cancelAnimationFrame(id);\n  }\n  const prefix = availablePrefixes.filter(\n    key => `${key}CancelAnimationFrame` in window || `${key}CancelRequestAnimationFrame` in window\n  )[0];\n\n  return prefix\n    ? ((window as NzSafeAny)[`${prefix}CancelAnimationFrame`] || (window as NzSafeAny)[`${prefix}CancelRequestAnimationFrame`])\n        // @ts-ignore\n        .call(this, id)\n    : clearTimeout(id);\n}\n\nexport const reqAnimFrame = getRequestAnimationFrame();\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './request-animation';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}