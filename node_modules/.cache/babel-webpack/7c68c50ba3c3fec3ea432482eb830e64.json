{"ast":null,"code":"import _defineProperty from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shanur/Documents/personal/angular-5-formbuilder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from 'tslib';\nimport { RIGHT_ARROW, LEFT_ARROW } from '@angular/cdk/keycodes';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, forwardRef, Renderer2, ChangeDetectorRef, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\nimport { CommonModule } from '@angular/common';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from 'ng-zorro-antd/tooltip';\nimport * as ɵngcc4 from 'ng-zorro-antd/icon';\nvar _c0 = [\"ulElement\"];\n\nfunction NzRateComponent_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"li\", 3);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 4);\n    ɵngcc0.ɵɵlistener(\"itemHover\", function NzRateComponent_li_2_Template_div_itemHover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var i_r3 = ctx.index;\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.onItemHover(i_r3, $event);\n    })(\"itemClick\", function NzRateComponent_li_2_Template_div_itemClick_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var i_r3 = ctx.index;\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ctx_r6.onItemClick(i_r3, $event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var i_r3 = ctx.index;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r1.starStyleArray[i_r3] || \"\")(\"nzTooltipTitle\", ctx_r1.nzTooltips[i_r3]);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"allowHalf\", ctx_r1.nzAllowHalf)(\"character\", ctx_r1.nzCharacter);\n  }\n}\n\nvar _c1 = [\"nz-rate-item\", \"\"];\n\nfunction NzRateItemComponent_ng_template_1_Template(rf, ctx) {}\n\nfunction NzRateItemComponent_ng_template_3_Template(rf, ctx) {}\n\nfunction NzRateItemComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 4);\n  }\n}\n\nvar NZ_CONFIG_MODULE_NAME = 'rate';\n\nvar NzRateComponent = /*#__PURE__*/function () {\n  function NzRateComponent(nzConfigService, renderer, cdr) {\n    _classCallCheck(this, NzRateComponent);\n\n    this.nzConfigService = nzConfigService;\n    this.renderer = renderer;\n    this.cdr = cdr;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzAllowClear = true;\n    this.nzAllowHalf = false;\n    this.nzDisabled = false;\n    this.nzAutoFocus = false;\n    this.nzCount = 5;\n    this.nzTooltips = [];\n    this.nzOnBlur = new EventEmitter();\n    this.nzOnFocus = new EventEmitter();\n    this.nzOnHoverChange = new EventEmitter();\n    this.nzOnKeyDown = new EventEmitter();\n    this.classMap = {};\n    this.starArray = [];\n    this.starStyleArray = [];\n    this.destroy$ = new Subject();\n    this.hasHalf = false;\n    this.hoverValue = 0;\n    this.isFocused = false;\n    this._value = 0;\n\n    this.onChange = function () {\n      return null;\n    };\n\n    this.onTouched = function () {\n      return null;\n    };\n  }\n\n  _createClass(NzRateComponent, [{\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzAutoFocus = changes.nzAutoFocus,\n          nzCount = changes.nzCount,\n          nzValue = changes.nzValue;\n\n      if (nzAutoFocus && !nzAutoFocus.isFirstChange()) {\n        var el = this.ulElement.nativeElement;\n\n        if (this.nzAutoFocus && !this.nzDisabled) {\n          this.renderer.setAttribute(el, 'autofocus', 'autofocus');\n        } else {\n          this.renderer.removeAttribute(el, 'autofocus');\n        }\n      }\n\n      if (nzCount) {\n        this.updateStarArray();\n      }\n\n      if (nzValue) {\n        this.updateStarStyle();\n      }\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.nzConfigService.getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME).pipe(takeUntil(this.destroy$)).subscribe(function () {\n        return _this.cdr.markForCheck();\n      });\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(index, isHalf) {\n      if (this.nzDisabled) {\n        return;\n      }\n\n      this.hoverValue = index + 1;\n      var actualValue = isHalf ? index + 0.5 : index + 1;\n\n      if (this.nzValue === actualValue) {\n        if (this.nzAllowClear) {\n          this.nzValue = 0;\n          this.onChange(this.nzValue);\n        }\n      } else {\n        this.nzValue = actualValue;\n        this.onChange(this.nzValue);\n      }\n\n      this.updateStarStyle();\n    }\n  }, {\n    key: \"onItemHover\",\n    value: function onItemHover(index, isHalf) {\n      if (this.nzDisabled || this.hoverValue === index + 1 && isHalf === this.hasHalf) {\n        return;\n      }\n\n      this.hoverValue = index + 1;\n      this.hasHalf = isHalf;\n      this.nzOnHoverChange.emit(this.hoverValue);\n      this.updateStarStyle();\n    }\n  }, {\n    key: \"onRateLeave\",\n    value: function onRateLeave() {\n      this.hasHalf = !Number.isInteger(this.nzValue);\n      this.hoverValue = Math.ceil(this.nzValue);\n      this.updateStarStyle();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(e) {\n      this.isFocused = true;\n      this.nzOnFocus.emit(e);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(e) {\n      this.isFocused = false;\n      this.nzOnBlur.emit(e);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.ulElement.nativeElement.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.ulElement.nativeElement.blur();\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      var oldVal = this.nzValue;\n\n      if (e.keyCode === RIGHT_ARROW && this.nzValue < this.nzCount) {\n        this.nzValue += this.nzAllowHalf ? 0.5 : 1;\n      } else if (e.keyCode === LEFT_ARROW && this.nzValue > 0) {\n        this.nzValue -= this.nzAllowHalf ? 0.5 : 1;\n      }\n\n      if (oldVal !== this.nzValue) {\n        this.onChange(this.nzValue);\n        this.nzOnKeyDown.emit(e);\n        this.updateStarStyle();\n        this.cdr.markForCheck();\n      }\n    }\n  }, {\n    key: \"updateStarArray\",\n    value: function updateStarArray() {\n      this.starArray = Array(this.nzCount).fill(0).map(function (_, i) {\n        return i;\n      });\n      this.updateStarStyle();\n    }\n  }, {\n    key: \"updateStarStyle\",\n    value: function updateStarStyle() {\n      var _this2 = this;\n\n      this.starStyleArray = this.starArray.map(function (i) {\n        var _ref;\n\n        var prefix = 'ant-rate-star';\n        var value = i + 1;\n        return _ref = {}, _defineProperty(_ref, \"\".concat(prefix, \"-full\"), value < _this2.hoverValue || !_this2.hasHalf && value === _this2.hoverValue), _defineProperty(_ref, \"\".concat(prefix, \"-half\"), _this2.hasHalf && value === _this2.hoverValue), _defineProperty(_ref, \"\".concat(prefix, \"-active\"), _this2.hasHalf && value === _this2.hoverValue), _defineProperty(_ref, \"\".concat(prefix, \"-zero\"), value > _this2.hoverValue), _defineProperty(_ref, \"\".concat(prefix, \"-focused\"), _this2.hasHalf && value === _this2.hoverValue && _this2.isFocused), _ref;\n      });\n    }\n  }, {\n    key: \"writeValue\",\n    value: function writeValue(value) {\n      this.nzValue = value || 0;\n      this.updateStarArray();\n      this.cdr.markForCheck();\n    }\n  }, {\n    key: \"setDisabledState\",\n    value: function setDisabledState(isDisabled) {\n      this.nzDisabled = isDisabled;\n    }\n  }, {\n    key: \"registerOnChange\",\n    value: function registerOnChange(fn) {\n      this.onChange = fn;\n    }\n  }, {\n    key: \"registerOnTouched\",\n    value: function registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n  }, {\n    key: \"nzValue\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(input) {\n      if (this._value === input) {\n        return;\n      }\n\n      this._value = input;\n      this.hasHalf = !Number.isInteger(input);\n      this.hoverValue = Math.ceil(input);\n    }\n  }]);\n\n  return NzRateComponent;\n}();\n\nNzRateComponent.ɵfac = function NzRateComponent_Factory(t) {\n  return new (t || NzRateComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\n\nNzRateComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzRateComponent,\n  selectors: [[\"nz-rate\"]],\n  viewQuery: function NzRateComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.ulElement = _t.first);\n    }\n  },\n  inputs: {\n    nzAllowClear: \"nzAllowClear\",\n    nzAllowHalf: \"nzAllowHalf\",\n    nzDisabled: \"nzDisabled\",\n    nzAutoFocus: \"nzAutoFocus\",\n    nzCount: \"nzCount\",\n    nzTooltips: \"nzTooltips\",\n    nzCharacter: \"nzCharacter\"\n  },\n  outputs: {\n    nzOnBlur: \"nzOnBlur\",\n    nzOnFocus: \"nzOnFocus\",\n    nzOnHoverChange: \"nzOnHoverChange\",\n    nzOnKeyDown: \"nzOnKeyDown\"\n  },\n  exportAs: [\"nzRate\"],\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(function () {\n      return NzRateComponent;\n    }),\n    multi: true\n  }]), ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 3,\n  vars: 5,\n  consts: [[1, \"ant-rate\", 3, \"ngClass\", \"tabindex\", \"blur\", \"focus\", \"keydown\", \"mouseleave\"], [\"ulElement\", \"\"], [\"class\", \"ant-rate-star\", \"nz-tooltip\", \"\", 3, \"ngClass\", \"nzTooltipTitle\", 4, \"ngFor\", \"ngForOf\"], [\"nz-tooltip\", \"\", 1, \"ant-rate-star\", 3, \"ngClass\", \"nzTooltipTitle\"], [\"nz-rate-item\", \"\", 3, \"allowHalf\", \"character\", \"itemHover\", \"itemClick\"]],\n  template: function NzRateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"ul\", 0, 1);\n      ɵngcc0.ɵɵlistener(\"blur\", function NzRateComponent_Template_ul_blur_0_listener($event) {\n        return ctx.onBlur($event);\n      })(\"focus\", function NzRateComponent_Template_ul_focus_0_listener($event) {\n        return ctx.onFocus($event);\n      })(\"keydown\", function NzRateComponent_Template_ul_keydown_0_listener($event) {\n        ctx.onKeyDown($event);\n        return $event.preventDefault();\n      })(\"mouseleave\", function NzRateComponent_Template_ul_mouseleave_0_listener($event) {\n        ctx.onRateLeave();\n        return $event.stopPropagation();\n      });\n      ɵngcc0.ɵɵtemplate(2, NzRateComponent_li_2_Template, 2, 4, \"li\", 2);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-rate-disabled\", ctx.nzDisabled);\n      ɵngcc0.ɵɵproperty(\"ngClass\", ctx.classMap)(\"tabindex\", ctx.nzDisabled ? -1 : 1);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.starArray);\n    }\n  },\n  directives: function directives() {\n    return [ɵngcc2.NgClass, ɵngcc2.NgForOf, ɵngcc3.NzTooltipDirective, NzRateItemComponent];\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\nNzRateComponent.ctorParameters = function () {\n  return [{\n    type: NzConfigService\n  }, {\n    type: Renderer2\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nNzRateComponent.propDecorators = {\n  ulElement: [{\n    type: ViewChild,\n    args: ['ulElement', {\n      static: false\n    }]\n  }],\n  nzAllowClear: [{\n    type: Input\n  }],\n  nzAllowHalf: [{\n    type: Input\n  }],\n  nzDisabled: [{\n    type: Input\n  }],\n  nzAutoFocus: [{\n    type: Input\n  }],\n  nzCharacter: [{\n    type: Input\n  }],\n  nzCount: [{\n    type: Input\n  }],\n  nzTooltips: [{\n    type: Input\n  }],\n  nzOnBlur: [{\n    type: Output\n  }],\n  nzOnFocus: [{\n    type: Output\n  }],\n  nzOnHoverChange: [{\n    type: Output\n  }],\n  nzOnKeyDown: [{\n    type: Output\n  }]\n};\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzRateComponent.prototype, \"nzAllowClear\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzRateComponent.prototype, \"nzAllowHalf\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzRateComponent.prototype, \"nzDisabled\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzRateComponent.prototype, \"nzAutoFocus\", void 0);\n\n__decorate([InputNumber(), __metadata(\"design:type\", Number)], NzRateComponent.prototype, \"nzCount\", void 0);\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzRateItemComponent = /*#__PURE__*/function () {\n  function NzRateItemComponent() {\n    _classCallCheck(this, NzRateItemComponent);\n\n    this.allowHalf = false;\n    this.itemHover = new EventEmitter();\n    this.itemClick = new EventEmitter();\n  }\n\n  _createClass(NzRateItemComponent, [{\n    key: \"hoverRate\",\n    value: function hoverRate(isHalf) {\n      this.itemHover.next(isHalf && this.allowHalf);\n    }\n  }, {\n    key: \"clickRate\",\n    value: function clickRate(isHalf) {\n      this.itemClick.next(isHalf && this.allowHalf);\n    }\n  }]);\n\n  return NzRateItemComponent;\n}();\n\nNzRateItemComponent.ɵfac = function NzRateItemComponent_Factory(t) {\n  return new (t || NzRateItemComponent)();\n};\n\nNzRateItemComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzRateItemComponent,\n  selectors: [[\"\", \"nz-rate-item\", \"\"]],\n  inputs: {\n    allowHalf: \"allowHalf\",\n    character: \"character\"\n  },\n  outputs: {\n    itemHover: \"itemHover\",\n    itemClick: \"itemClick\"\n  },\n  exportAs: [\"nzRateItem\"],\n  attrs: _c1,\n  decls: 6,\n  vars: 2,\n  consts: [[1, \"ant-rate-star-second\", 3, \"mouseover\", \"click\"], [3, \"ngTemplateOutlet\"], [1, \"ant-rate-star-first\", 3, \"mouseover\", \"click\"], [\"defaultCharacter\", \"\"], [\"nz-icon\", \"\", \"nzType\", \"star\", \"nzTheme\", \"fill\"]],\n  template: function NzRateItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵlistener(\"mouseover\", function NzRateItemComponent_Template_div_mouseover_0_listener($event) {\n        ctx.hoverRate(false);\n        return $event.stopPropagation();\n      })(\"click\", function NzRateItemComponent_Template_div_click_0_listener() {\n        return ctx.clickRate(false);\n      });\n      ɵngcc0.ɵɵtemplate(1, NzRateItemComponent_ng_template_1_Template, 0, 0, \"ng-template\", 1);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n      ɵngcc0.ɵɵlistener(\"mouseover\", function NzRateItemComponent_Template_div_mouseover_2_listener($event) {\n        ctx.hoverRate(true);\n        return $event.stopPropagation();\n      })(\"click\", function NzRateItemComponent_Template_div_click_2_listener() {\n        return ctx.clickRate(true);\n      });\n      ɵngcc0.ɵɵtemplate(3, NzRateItemComponent_ng_template_3_Template, 0, 0, \"ng-template\", 1);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(4, NzRateItemComponent_ng_template_4_Template, 1, 0, \"ng-template\", null, 3, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      var _r2 = ɵngcc0.ɵɵreference(5);\n\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx.character || _r2);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx.character || _r2);\n    }\n  },\n  directives: [ɵngcc2.NgTemplateOutlet, ɵngcc4.NzIconDirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\nNzRateItemComponent.propDecorators = {\n  character: [{\n    type: Input\n  }],\n  allowHalf: [{\n    type: Input\n  }],\n  itemHover: [{\n    type: Output\n  }],\n  itemClick: [{\n    type: Output\n  }]\n};\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Boolean)], NzRateItemComponent.prototype, \"allowHalf\", void 0);\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzRateComponent, [{\n    type: Component,\n    args: [{\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      selector: 'nz-rate',\n      exportAs: 'nzRate',\n      preserveWhitespaces: false,\n      template: \"\\n    <ul\\n      #ulElement\\n      class=\\\"ant-rate\\\"\\n      [class.ant-rate-disabled]=\\\"nzDisabled\\\"\\n      [ngClass]=\\\"classMap\\\"\\n      (blur)=\\\"onBlur($event)\\\"\\n      (focus)=\\\"onFocus($event)\\\"\\n      (keydown)=\\\"onKeyDown($event); $event.preventDefault()\\\"\\n      (mouseleave)=\\\"onRateLeave(); $event.stopPropagation()\\\"\\n      [tabindex]=\\\"nzDisabled ? -1 : 1\\\"\\n    >\\n      <li\\n        *ngFor=\\\"let star of starArray; let i = index\\\"\\n        class=\\\"ant-rate-star\\\"\\n        [ngClass]=\\\"starStyleArray[i] || ''\\\"\\n        nz-tooltip\\n        [nzTooltipTitle]=\\\"nzTooltips[i]\\\"\\n      >\\n        <div\\n          nz-rate-item\\n          [allowHalf]=\\\"nzAllowHalf\\\"\\n          [character]=\\\"nzCharacter\\\"\\n          (itemHover)=\\\"onItemHover(i, $event)\\\"\\n          (itemClick)=\\\"onItemClick(i, $event)\\\"\\n        ></div>\\n      </li>\\n    </ul>\\n  \",\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(function () {\n          return NzRateComponent;\n        }),\n        multi: true\n      }]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.NzConfigService\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    nzAllowClear: [{\n      type: Input\n    }],\n    nzAllowHalf: [{\n      type: Input\n    }],\n    nzDisabled: [{\n      type: Input\n    }],\n    nzAutoFocus: [{\n      type: Input\n    }],\n    nzCount: [{\n      type: Input\n    }],\n    nzTooltips: [{\n      type: Input\n    }],\n    nzOnBlur: [{\n      type: Output\n    }],\n    nzOnFocus: [{\n      type: Output\n    }],\n    nzOnHoverChange: [{\n      type: Output\n    }],\n    nzOnKeyDown: [{\n      type: Output\n    }],\n    ulElement: [{\n      type: ViewChild,\n      args: ['ulElement', {\n        static: false\n      }]\n    }],\n    nzCharacter: [{\n      type: Input\n    }]\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzRateItemComponent, [{\n    type: Component,\n    args: [{\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      selector: '[nz-rate-item]',\n      exportAs: 'nzRateItem',\n      template: \"\\n    <div class=\\\"ant-rate-star-second\\\" (mouseover)=\\\"hoverRate(false); $event.stopPropagation()\\\" (click)=\\\"clickRate(false)\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"character || defaultCharacter\\\"></ng-template>\\n    </div>\\n    <div class=\\\"ant-rate-star-first\\\" (mouseover)=\\\"hoverRate(true); $event.stopPropagation()\\\" (click)=\\\"clickRate(true)\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"character || defaultCharacter\\\"></ng-template>\\n    </div>\\n\\n    <ng-template #defaultCharacter>\\n      <i nz-icon nzType=\\\"star\\\" nzTheme=\\\"fill\\\"></i>\\n    </ng-template>\\n  \"\n    }]\n  }], function () {\n    return [];\n  }, {\n    allowHalf: [{\n      type: Input\n    }],\n    itemHover: [{\n      type: Output\n    }],\n    itemClick: [{\n      type: Output\n    }],\n    character: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzRateModule = function NzRateModule() {\n  _classCallCheck(this, NzRateModule);\n};\n\nNzRateModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NzRateModule\n});\nNzRateModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NzRateModule_Factory(t) {\n    return new (t || NzRateModule)();\n  },\n  imports: [[CommonModule, NzIconModule, NzToolTipModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzRateModule, {\n    declarations: function declarations() {\n      return [NzRateComponent, NzRateItemComponent];\n    },\n    imports: function imports() {\n      return [CommonModule, NzIconModule, NzToolTipModule];\n    },\n    exports: function exports() {\n      return [NzRateComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzRateModule, [{\n    type: NgModule,\n    args: [{\n      exports: [NzRateComponent],\n      declarations: [NzRateComponent, NzRateItemComponent],\n      imports: [CommonModule, NzIconModule, NzToolTipModule]\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzRateComponent, NzRateItemComponent, NzRateModule };","map":{"version":3,"sources":["../../components/rate/rate.component.ts","../../components/rate/rate-item.component.ts","../../components/rate/rate.module.ts","../../components/rate/public-api.ts","../../components/rate/ng-zorro-antd-rate.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { LEFT_ARROW, RIGHT_ARROW } from '@angular/cdk/keycodes';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { NzConfigKey, NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { BooleanInput, NgClassType } from 'ng-zorro-antd/core/types';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\n\nconst NZ_CONFIG_MODULE_NAME: NzConfigKey = 'rate';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'nz-rate',\n  exportAs: 'nzRate',\n  preserveWhitespaces: false,\n  template: `\n    <ul\n      #ulElement\n      class=\"ant-rate\"\n      [class.ant-rate-disabled]=\"nzDisabled\"\n      [ngClass]=\"classMap\"\n      (blur)=\"onBlur($event)\"\n      (focus)=\"onFocus($event)\"\n      (keydown)=\"onKeyDown($event); $event.preventDefault()\"\n      (mouseleave)=\"onRateLeave(); $event.stopPropagation()\"\n      [tabindex]=\"nzDisabled ? -1 : 1\"\n    >\n      <li\n        *ngFor=\"let star of starArray; let i = index\"\n        class=\"ant-rate-star\"\n        [ngClass]=\"starStyleArray[i] || ''\"\n        nz-tooltip\n        [nzTooltipTitle]=\"nzTooltips[i]\"\n      >\n        <div\n          nz-rate-item\n          [allowHalf]=\"nzAllowHalf\"\n          [character]=\"nzCharacter\"\n          (itemHover)=\"onItemHover(i, $event)\"\n          (itemClick)=\"onItemClick(i, $event)\"\n        ></div>\n      </li>\n    </ul>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NzRateComponent),\n      multi: true\n    }\n  ]\n})\nexport class NzRateComponent implements OnInit, OnDestroy, ControlValueAccessor, OnChanges {\n  readonly _nzModuleName: NzConfigKey = NZ_CONFIG_MODULE_NAME;\n\n  static ngAcceptInputType_nzAllowClear: BooleanInput;\n  static ngAcceptInputType_nzAllowHalf: BooleanInput;\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n  static ngAcceptInputType_nzAutoFocus: BooleanInput;\n  static ngAcceptInputType_nzCount: BooleanInput;\n\n  @ViewChild('ulElement', { static: false }) private ulElement?: ElementRef;\n\n  @Input() @WithConfig() @InputBoolean() nzAllowClear: boolean = true;\n  @Input() @WithConfig() @InputBoolean() nzAllowHalf: boolean = false;\n  @Input() @InputBoolean() nzDisabled: boolean = false;\n  @Input() @InputBoolean() nzAutoFocus: boolean = false;\n  @Input() nzCharacter!: TemplateRef<void>;\n  @Input() @InputNumber() nzCount: number = 5;\n  @Input() nzTooltips: string[] = [];\n  @Output() readonly nzOnBlur = new EventEmitter<FocusEvent>();\n  @Output() readonly nzOnFocus = new EventEmitter<FocusEvent>();\n  @Output() readonly nzOnHoverChange = new EventEmitter<number>();\n  @Output() readonly nzOnKeyDown = new EventEmitter<KeyboardEvent>();\n\n  classMap: NgClassType = {};\n  starArray: number[] = [];\n  starStyleArray: NgClassType[] = [];\n\n  private readonly destroy$ = new Subject<void>();\n  private hasHalf = false;\n  private hoverValue = 0;\n  private isFocused = false;\n  private _value = 0;\n\n  get nzValue(): number {\n    return this._value;\n  }\n\n  set nzValue(input: number) {\n    if (this._value === input) {\n      return;\n    }\n\n    this._value = input;\n    this.hasHalf = !Number.isInteger(input);\n    this.hoverValue = Math.ceil(input);\n  }\n\n  constructor(public nzConfigService: NzConfigService, private renderer: Renderer2, private cdr: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzAutoFocus, nzCount, nzValue } = changes;\n\n    if (nzAutoFocus && !nzAutoFocus.isFirstChange()) {\n      const el = this.ulElement!.nativeElement;\n      if (this.nzAutoFocus && !this.nzDisabled) {\n        this.renderer.setAttribute(el, 'autofocus', 'autofocus');\n      } else {\n        this.renderer.removeAttribute(el, 'autofocus');\n      }\n    }\n\n    if (nzCount) {\n      this.updateStarArray();\n    }\n\n    if (nzValue) {\n      this.updateStarStyle();\n    }\n  }\n\n  ngOnInit(): void {\n    this.nzConfigService\n      .getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.cdr.markForCheck());\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  onItemClick(index: number, isHalf: boolean): void {\n    if (this.nzDisabled) {\n      return;\n    }\n\n    this.hoverValue = index + 1;\n\n    const actualValue = isHalf ? index + 0.5 : index + 1;\n\n    if (this.nzValue === actualValue) {\n      if (this.nzAllowClear) {\n        this.nzValue = 0;\n        this.onChange(this.nzValue);\n      }\n    } else {\n      this.nzValue = actualValue;\n      this.onChange(this.nzValue);\n    }\n\n    this.updateStarStyle();\n  }\n\n  onItemHover(index: number, isHalf: boolean): void {\n    if (this.nzDisabled || (this.hoverValue === index + 1 && isHalf === this.hasHalf)) {\n      return;\n    }\n\n    this.hoverValue = index + 1;\n    this.hasHalf = isHalf;\n    this.nzOnHoverChange.emit(this.hoverValue);\n\n    this.updateStarStyle();\n  }\n\n  onRateLeave(): void {\n    this.hasHalf = !Number.isInteger(this.nzValue);\n    this.hoverValue = Math.ceil(this.nzValue);\n\n    this.updateStarStyle();\n  }\n\n  onFocus(e: FocusEvent): void {\n    this.isFocused = true;\n    this.nzOnFocus.emit(e);\n  }\n\n  onBlur(e: FocusEvent): void {\n    this.isFocused = false;\n    this.nzOnBlur.emit(e);\n  }\n\n  focus(): void {\n    this.ulElement!.nativeElement.focus();\n  }\n\n  blur(): void {\n    this.ulElement!.nativeElement.blur();\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    const oldVal = this.nzValue;\n\n    if (e.keyCode === RIGHT_ARROW && this.nzValue < this.nzCount) {\n      this.nzValue += this.nzAllowHalf ? 0.5 : 1;\n    } else if (e.keyCode === LEFT_ARROW && this.nzValue > 0) {\n      this.nzValue -= this.nzAllowHalf ? 0.5 : 1;\n    }\n\n    if (oldVal !== this.nzValue) {\n      this.onChange(this.nzValue);\n      this.nzOnKeyDown.emit(e);\n      this.updateStarStyle();\n      this.cdr.markForCheck();\n    }\n  }\n\n  private updateStarArray(): void {\n    this.starArray = Array(this.nzCount)\n      .fill(0)\n      .map((_, i) => i);\n\n    this.updateStarStyle();\n  }\n\n  private updateStarStyle(): void {\n    this.starStyleArray = this.starArray.map(i => {\n      const prefix = 'ant-rate-star';\n      const value = i + 1;\n      return {\n        [`${prefix}-full`]: value < this.hoverValue || (!this.hasHalf && value === this.hoverValue),\n        [`${prefix}-half`]: this.hasHalf && value === this.hoverValue,\n        [`${prefix}-active`]: this.hasHalf && value === this.hoverValue,\n        [`${prefix}-zero`]: value > this.hoverValue,\n        [`${prefix}-focused`]: this.hasHalf && value === this.hoverValue && this.isFocused\n      };\n    });\n  }\n\n  writeValue(value: number | null): void {\n    this.nzValue = value || 0;\n    this.updateStarArray();\n    this.cdr.markForCheck();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.nzDisabled = isDisabled;\n  }\n\n  registerOnChange(fn: (_: number) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  onChange: (value: number) => void = () => null;\n  onTouched: () => void = () => null;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { BooleanInput } from 'ng-zorro-antd/core/types';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: '[nz-rate-item]',\n  exportAs: 'nzRateItem',\n  template: `\n    <div class=\"ant-rate-star-second\" (mouseover)=\"hoverRate(false); $event.stopPropagation()\" (click)=\"clickRate(false)\">\n      <ng-template [ngTemplateOutlet]=\"character || defaultCharacter\"></ng-template>\n    </div>\n    <div class=\"ant-rate-star-first\" (mouseover)=\"hoverRate(true); $event.stopPropagation()\" (click)=\"clickRate(true)\">\n      <ng-template [ngTemplateOutlet]=\"character || defaultCharacter\"></ng-template>\n    </div>\n\n    <ng-template #defaultCharacter>\n      <i nz-icon nzType=\"star\" nzTheme=\"fill\"></i>\n    </ng-template>\n  `\n})\nexport class NzRateItemComponent {\n  static ngAcceptInputType_allowHalf: BooleanInput;\n\n  @Input() character!: TemplateRef<void>;\n  @Input() @InputBoolean() allowHalf: boolean = false;\n  @Output() readonly itemHover = new EventEmitter<boolean>();\n  @Output() readonly itemClick = new EventEmitter<boolean>();\n\n  hoverRate(isHalf: boolean): void {\n    this.itemHover.next(isHalf && this.allowHalf);\n  }\n\n  clickRate(isHalf: boolean): void {\n    this.itemClick.next(isHalf && this.allowHalf);\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { NzRateItemComponent } from './rate-item.component';\nimport { NzRateComponent } from './rate.component';\n\n@NgModule({\n  exports: [NzRateComponent],\n  declarations: [NzRateComponent, NzRateItemComponent],\n  imports: [CommonModule, NzIconModule, NzToolTipModule]\n})\nexport class NzRateModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './rate.component';\nexport * from './rate.module';\nexport * from './rate-item.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}