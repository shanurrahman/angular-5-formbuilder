{"version":3,"sources":["../../components/date-picker/util.ts","../../components/date-picker/lib/util.ts","../../components/date-picker/calendar-footer.component.ts","../../node_modules/tslib/tslib.es6.js","../../components/date-picker/date-picker.service.ts","../../components/date-picker/date-range-popup.component.ts","../../components/date-picker/picker.component.ts","../../components/date-picker/date-picker.component.ts","../../components/date-picker/inner-popup.component.ts","../../components/date-picker/lib/abstract-panel-header.ts","../../components/date-picker/lib/date-header.component.ts","../../components/date-picker/lib/abstract-table.ts","../../components/date-picker/lib/date-table.component.ts","../../components/date-picker/lib/decade-header.component.ts","../../components/date-picker/lib/decade-table.component.ts","../../components/date-picker/lib/month-header.component.ts","../../components/date-picker/lib/month-table.component.ts","../../components/date-picker/lib/year-header.component.ts","../../components/date-picker/lib/year-table.component.ts","../../components/date-picker/lib/lib-packer.module.ts","../../components/date-picker/month-picker.component.ts","../../components/date-picker/range-picker.component.ts","../../components/date-picker/week-picker.component.ts","../../components/date-picker/year-picker.component.ts","../../components/date-picker/date-picker.module.ts"],"names":["PREFIX_CLASS","defaultDisabledTime","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","getTimeConfig","value","disabledTime","disabledTimeConfig","nativeDate","Object","assign","isTimeValidByConfig","invalidTime","hour","getHours","minutes","getMinutes","seconds","getSeconds","indexOf","isTimeValid","isAllowedDate","disabledDate","transCompatFormat","format","replace","CalendarFooterComponent","dateHelper","this","showToday","hasTimePicker","isRange","okDisabled","rangeQuickSelector","clickOk","EventEmitter","clickToday","prefixCls","isTemplateRef","isNonEmptyString","isTodayDisabled","todayTitle","now","CandyDate","prototype","ngOnChanges","changes","locale","dateFormat","onClickToday","emit","clone","Component","args","encapsulation","ViewEncapsulation","None","changeDetection","ChangeDetectionStrategy","OnPush","selector","exportAs","template","DateHelperService","Input","Output","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","__extends","__","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","n","m","Symbol","iterator","e","ar","next","done","push","error","DatePickerService","activeInput","arrowLeft","valueChange$","ReplaySubject","emitValue$","Subject","inputPartChange$","initValue","setActiveDate","initialValue","hasValue","isArray","makeValue","map","val","allowSameInTwoPanel","mode","activeDate","normalizeRangeValue","date","month","year","cloneDate","setValue","getActiveIndex","part","left","right","ngOnDestroy","complete","Injectable","DateRangePopupComponent","datePickerService","cdr","_this","panelModeChange","calendarChange","resultOk","endPanelMode","timeOptions","hoverValue","checkedPartArr","destroy$","disabledStartTime","disabledEndTime","showTime","extraFooter","ranges","ngOnInit","pipe","takeUntil","subscribe","updateActiveDate","markForCheck","buildTimeOptions","panelMode","defaultPickerValue","getPanelMode","onClickOk","inputIndex","changeValueFromSelect","onCellHover","otherInputIndex","base","isBeforeDay","onPanelModeChange","partType","index","onActiveDateChange","onSelectTime","newValue","overrideHms","emitValue","selectedValue","checkedPart","nextPart","wrongSortOrder","reversedPart","isBothAllowed","clearHoverValue","isAllowed","getValue","getActiveDate","isOneAllowed","disabledTimeArr","isBoth","getTimeOptions","onClickPresetRange","onPresetRangeMouseLeave","onHoverPresetRange","getObjectKeys","obj","keys","show","overrideTimeOptions","origin","partial","disabledTimeFn","oldValue","setHms","ChangeDetectorRef","NzPickerComponent","elementRef","platform","nzResizeObserver","doc","noAnimation","open","undefined","disabled","inputReadOnly","popupStyle","focusChange","valueChange","openChange","inputSize","animationOpenState","overlayOpen","overlayPositions","offsetX","offsetY","originX","originY","overlayX","overlayY","currentPositionX","currentPositionY","document","CdkOverlayOrigin","isOpenHandledByUser","inputValue","updateInputValue","ngAfterViewInit","autoFocus","focus","isBrowser","observe","updateInputWidthAndArrowLeft","animationStart","currentValue","Math","max","inputWidth","_b","_a","rangePickerInputs","first","nativeElement","offsetWidth","_c","separatorElement","_d","panel","getInput","last","pickerInput","activeInputElement","activeElement","onFocus","event","preventDefault","onBlur","showOverlay","realOpenState","hideOverlay","showClear","isEmptyValue","allowClear","onClickInputBox","stopPropagation","onClickBackdrop","onOverlayDetach","onOverlayKeydown","keyCode","ESCAPE","onPositionChange","position","connectionPair","detectChanges","onClickClear","v","formatValue","onInputChange","isEnter","TRIDENT","checkValidDate","onKeyupEnter","parseDate","isValid","getPlaceholder","placeholder","every","animationDone","animations","slideMotion","ElementRef","Platform","NzResizeObserver","Inject","DOCUMENT","ViewChild","CdkConnectedOverlay","static","ViewChildren","ContentChild","POPUP_STYLE_PATCH","NzDatePickerComponent","nzConfigService","i18n","renderer","_nzModuleName","focused","destroyed$","isCustomPlaceHolder","nzAllowClear","nzAutoFocus","nzDisabled","nzInputReadOnly","nzPlaceHolder","nzPopupStyle","nzSize","nzShowToday","nzMode","nzDefaultPickerValue","nzSeparator","nzSuffixIcon","nzOnPanelChange","nzOnCalendarChange","nzOnOk","nzOnOpenChange","onChangeFn","onTouchedFn","toBoolean","picker","nzLocale","localeChange","setLocale","_","vAsRange","close","setModeAndFormat","setDefaultPlaceHolder","nzRenderExtraFooter","valueFunctionProp","nzOpen","warnDeprecation","inputFormats","week","getDateLocale","nzShowTime","nzFormat","onOpenChange","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","getLocaleData","defaultPlaceholder","getPropertyOfLocale","defaultRangePlaceholder","type","lang","onFocusChange","addClass","removeClass","onCalendarChange","rangeValue","filter","x","onResultOk","host","[class.ant-picker]","[class.ant-picker-range]","[class.ant-picker-large]","[class.ant-picker-small]","[class.ant-picker-disabled]","(click)","providers","provide","NG_VALUE_ACCESSOR","multi","useExisting","forwardRef","NzConfigService","NzI18nService","Renderer2","NzNoAnimationDirective","Host","Optional","InputBoolean","WithConfig","InnerPopupComponent","headerChange","selectDate","selectTime","cellHover","enablePrevNext","direction","showTimePicker","onSelectDate","timeValue","nzDefaultOpenValue","onChooseMonth","setMonth","getMonth","onChooseYear","setYear","getYear","onChooseDecade","AbstractPanelHeader","selectors","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn","superPreviousTitle","previousYear","previousTitle","previousMonth","superNextTitle","nextYear","nextTitle","nextMonth","superPrevious","changeValue","addYears","superNext","previous","addMonths","render","changeMode","getSelectors","Directive","DateHeaderComponent","_super","className","title","yearSelect","onClick","label","yearFormat","monthSelect","monthFormat","AbstractTable","headRow","bodyRows","MAX_ROW","MAX_COL","showWeek","makeHeadRow","makeBodyRows","trackByBodyRow","_index","item","trackByIndex","trackByBodyColumn","hasRangeValue","getClassMap","cell","isSelected","isInSelectedRange","isSelectedStart","isSelectedEnd","isStartSingle","isEndSingle","isInHoverRange","isHoverStart","isHoverEnd","isFirstCellInPanel","isLastCellInPanel","isRangeStartNearHover","isRangeEndNearHover","isDateRealChange","change","previousValue_1","previousValue","some","previousCandyDate","isSameDay","isSameDate","DateTableComponent","changeValueFromInside","setDate","getDate","isSameMonth","weekDays","start","calendarStart","weekStartsOn","getFirstDayOfWeek","colIndex","day","addDays","content","getVeryShortWeekFormat","onMouseEnter","getLocaleId","toLowerCase","weekRows","firstDayOfMonth","weekStart","row","isActive","dateCells","this_1","isToday","cellRender","fullCellRender","addCellProperty","weekNum","getISOWeek","classMap","startHover","endHover","startSelected","endSelected","isLastDayOfMonth","isFirstDayOfMonth","DecadeHeaderComponent","parseInt","startYear","endYear","DecadeTableComponent","decades","currentYear","rowIndex","end","isLowerThanStart","isBiggerThanEnd","chooseDecade","MonthHeaderComponent","MonthTableComponent","months","monthValue","isDisabledMonth","chooseMonth","isBeforeMonth","YearHeaderComponent","YearTableComponent","years","yearValue","yearNum","isDisabledYear","isSameDecade","chooseYear","getFullYear","isSameYear","isBeforeYear","NgModule","imports","CommonModule","FormsModule","NzI18nModule","NzTimePickerModule","NzOutletModule","exports","declarations","datePicker","OverlayModule","LibPackerModule","NzIconModule","NzOverlayModule","NzNoAnimationModule","NzButtonModule","NzRangePickerComponent","NzMonthPickerComponent","NzYearPickerComponent","NzWeekPickerComponent"],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { DisabledDateFn, DisabledTimeConfig, DisabledTimeFn } from './standard-types';\n\nexport const PREFIX_CLASS = 'ant-picker';\n\nconst defaultDisabledTime: DisabledTimeConfig = {\n  nzDisabledHours(): number[] {\n    return [];\n  },\n  nzDisabledMinutes(): number[] {\n    return [];\n  },\n  nzDisabledSeconds(): number[] {\n    return [];\n  }\n};\n\nexport function getTimeConfig(value: CandyDate, disabledTime?: DisabledTimeFn): DisabledTimeConfig {\n  let disabledTimeConfig = disabledTime ? disabledTime(value && value.nativeDate) : ({} as DisabledTimeConfig);\n  disabledTimeConfig = {\n    ...defaultDisabledTime,\n    ...disabledTimeConfig\n  };\n  return disabledTimeConfig;\n}\n\nexport function isTimeValidByConfig(value: CandyDate, disabledTimeConfig: DisabledTimeConfig): boolean {\n  let invalidTime = false;\n  if (value) {\n    const hour = value.getHours();\n    const minutes = value.getMinutes();\n    const seconds = value.getSeconds();\n    const disabledHours = disabledTimeConfig.nzDisabledHours();\n    if (disabledHours.indexOf(hour) === -1) {\n      const disabledMinutes = disabledTimeConfig.nzDisabledMinutes(hour);\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        const disabledSeconds = disabledTimeConfig.nzDisabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n  return !invalidTime;\n}\n\nexport function isTimeValid(value: CandyDate, disabledTime: DisabledTimeFn): boolean {\n  const disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\n\nexport function isAllowedDate(value: CandyDate, disabledDate?: DisabledDateFn, disabledTime?: DisabledTimeFn): boolean {\n  if (!value) {\n    return false;\n  }\n  if (disabledDate) {\n    if (disabledDate(value.nativeDate)) {\n      return false;\n    }\n  }\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n  return true;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Compatible translate the moment-like format pattern to angular's pattern\n * Why? For now, we need to support the existing language formats in AntD, and AntD uses the default temporal syntax.\n *\n * TODO: compare and complete all format patterns\n * Each format docs as below:\n * @link https://momentjs.com/docs/#/displaying/format/\n * @link https://angular.io/api/common/DatePipe#description\n * @param format input format pattern\n */\nexport function transCompatFormat(format: string): string {\n  return (\n    format &&\n    format\n      .replace(/Y/g, 'y') // only support y, yy, yyy, yyyy\n      .replace(/D/g, 'd')\n  ); // d, dd represent of D, DD for momentjs, others are not support\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nimport { isNonEmptyString, isTemplateRef } from 'ng-zorro-antd/core/util';\nimport { DateHelperService, NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { transCompatFormat } from './lib/util';\nimport { PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'calendar-footer',\n  exportAs: 'calendarFooter',\n  template: `\n    <div class=\"{{ prefixCls }}-footer\">\n      <div *ngIf=\"extraFooter\" class=\"{{ prefixCls }}-footer-extra\">\n        <ng-container [ngSwitch]=\"true\">\n          <ng-container *ngSwitchCase=\"isTemplateRef(extraFooter)\">\n            <ng-container *ngTemplateOutlet=\"$any(extraFooter)\"></ng-container>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"isNonEmptyString(extraFooter)\">\n            <span [innerHTML]=\"extraFooter\"></span>\n          </ng-container>\n        </ng-container>\n      </div>\n      <a\n        *ngIf=\"showToday\"\n        class=\"{{ prefixCls }}-today-btn {{ isTodayDisabled ? prefixCls + '-today-btn-disabled' : '' }}\"\n        role=\"button\"\n        (click)=\"isTodayDisabled ? null : onClickToday()\"\n        title=\"{{ todayTitle }}\"\n      >\n        {{ locale.today }}\n      </a>\n      <ul *ngIf=\"hasTimePicker || rangeQuickSelector\" class=\"{{ prefixCls }}-ranges\">\n        <ng-container *ngTemplateOutlet=\"rangeQuickSelector\"></ng-container>\n        <li *ngIf=\"hasTimePicker && !isRange\" class=\"{{ prefixCls }}-now\">\n          <a class=\"{{ prefixCls }}-now-btn\" (click)=\"isTodayDisabled ? null : onClickToday()\">\n            {{ locale.now }}\n          </a>\n        </li>\n        <li *ngIf=\"hasTimePicker\" class=\"{{ prefixCls }}-ok\">\n          <button\n            nz-button\n            type=\"button\"\n            nzType=\"primary\"\n            nzSize=\"small\"\n            [disabled]=\"okDisabled\"\n            (click)=\"okDisabled ? null : clickOk.emit()\"\n          >\n            {{ locale.ok }}\n          </button>\n        </li>\n      </ul>\n    </div>\n  `\n})\nexport class CalendarFooterComponent implements OnChanges {\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() showToday: boolean = false;\n  @Input() hasTimePicker: boolean = false;\n  @Input() isRange: boolean = false;\n\n  @Input() okDisabled: boolean = false;\n  @Input() disabledDate?: (d: Date) => boolean;\n  @Input() extraFooter?: TemplateRef<void> | string;\n  @Input() rangeQuickSelector: TemplateRef<NzSafeAny> | null = null;\n\n  @Output() readonly clickOk = new EventEmitter<void>();\n  @Output() readonly clickToday = new EventEmitter<CandyDate>();\n\n  prefixCls: string = PREFIX_CLASS;\n  isTemplateRef = isTemplateRef;\n  isNonEmptyString = isNonEmptyString;\n  isTodayDisabled: boolean = false;\n  todayTitle: string = '';\n  private now: CandyDate = new CandyDate();\n\n  constructor(private dateHelper: DateHelperService) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.disabledDate) {\n      this.isTodayDisabled = !!(this.disabledDate && this.disabledDate(this.now.nativeDate));\n    }\n    if (changes.locale) {\n      // NOTE: Compat for DatePipe formatting rules\n      const dateFormat: string = transCompatFormat(this.locale.dateFormat);\n      this.todayTitle = this.dateHelper.format(this.now.nativeDate, dateFormat);\n    }\n  }\n\n  onClickToday(): void {\n    this.clickToday.emit(this.now.clone()); // To prevent the \"now\" being modified from outside, we use clone\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\nimport { CandyDate, cloneDate, CompatibleValue, NormalizedMode, normalizeRangeValue } from 'ng-zorro-antd/core/time';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { CompatibleDate, NzDateMode, RangePartType } from './standard-types';\n\n@Injectable()\nexport class DatePickerService implements OnDestroy {\n  initialValue?: CompatibleValue;\n  value!: CompatibleValue;\n  activeDate?: CompatibleValue;\n  activeInput: RangePartType = 'left';\n  arrowLeft: number = 0;\n  isRange = false;\n\n  valueChange$ = new ReplaySubject<CompatibleValue>(1);\n  emitValue$ = new Subject<void>();\n  inputPartChange$ = new Subject<RangePartType>();\n\n  initValue(): void {\n    if (this.isRange) {\n      this.setActiveDate([]);\n      this.value = this.initialValue = [];\n    } else {\n      this.value = this.initialValue = null;\n    }\n  }\n\n  hasValue(value: CompatibleValue = this.value): boolean {\n    if (Array.isArray(value)) {\n      return !!value[0] || !!value[1];\n    } else {\n      return !!value;\n    }\n  }\n\n  makeValue(value?: CompatibleDate): CompatibleValue {\n    if (this.isRange) {\n      return value ? (value as Date[]).map(val => new CandyDate(val)) : [];\n    } else {\n      return value ? new CandyDate(value as Date) : null;\n    }\n  }\n\n  setActiveDate(value: CompatibleValue, allowSameInTwoPanel: boolean = false, mode: NormalizedMode = 'month'): void {\n    const parentPanels: { [key in NzDateMode]?: NormalizedMode } = {\n      date: 'month',\n      month: 'year',\n      year: 'decade'\n    };\n    if (this.isRange) {\n      this.activeDate = normalizeRangeValue(value as CandyDate[], allowSameInTwoPanel, parentPanels[mode]);\n    } else {\n      this.activeDate = cloneDate(value);\n    }\n  }\n\n  setValue(value: CompatibleValue): void {\n    if (value !== this.value) {\n      this.value = value;\n      this.valueChange$.next(this.value);\n    }\n  }\n\n  getActiveIndex(part: RangePartType = this.activeInput): number {\n    return { left: 0, right: 1 }[part];\n  }\n\n  ngOnDestroy(): void {\n    this.valueChange$.complete();\n    this.emitValue$.complete();\n    this.inputPartChange$.complete();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { CandyDate, cloneDate, CompatibleValue, NormalizedMode, SingleValue, wrongSortOrder } from 'ng-zorro-antd/core/time';\nimport { FunctionProp } from 'ng-zorro-antd/core/types';\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatePickerService } from './date-picker.service';\nimport {\n  CompatibleDate,\n  DisabledDateFn,\n  DisabledTimeFn,\n  DisabledTimePartial,\n  NzDateMode,\n  PresetRanges,\n  RangePartType,\n  SupportTimeOptions\n} from './standard-types';\nimport { getTimeConfig, isAllowedDate, PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'date-range-popup',\n  exportAs: 'dateRangePopup',\n  template: `\n    <ng-container *ngIf=\"isRange; else singlePanel\">\n      <div class=\"{{ prefixCls }}-range-wrapper {{ prefixCls }}-date-range-wrapper\">\n        <div class=\"{{ prefixCls }}-range-arrow\" [style.left.px]=\"datePickerService?.arrowLeft\"></div>\n        <div class=\"{{ prefixCls }}-panel-container\">\n          <div class=\"{{ prefixCls }}-panels\">\n            <ng-container *ngTemplateOutlet=\"tplRangePart; context: { partType: 'left' }\"></ng-container>\n            <ng-container *ngTemplateOutlet=\"tplRangePart; context: { partType: 'right' }\"></ng-container>\n          </div>\n          <ng-container *ngTemplateOutlet=\"tplFooter\"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n    <ng-template #singlePanel>\n      <div\n        class=\"{{ prefixCls }}-panel-container {{ showWeek ? prefixCls + '-week-number' : '' }} {{\n          hasTimePicker ? prefixCls + '-time' : ''\n        }} {{ isRange ? prefixCls + '-range' : '' }}\"\n      >\n        <div class=\"{{ prefixCls }}-panel\" tabindex=\"-1\">\n          <!-- Single ONLY -->\n          <ng-container *ngTemplateOutlet=\"tplInnerPopup\"></ng-container>\n          <ng-container *ngTemplateOutlet=\"tplFooter\"></ng-container>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplInnerPopup let-partType=\"partType\">\n      <!-- TODO(@wenqi73) [selectedValue] [hoverValue] types-->\n      <inner-popup\n        *ngIf=\"show(partType)\"\n        [showWeek]=\"showWeek\"\n        [endPanelMode]=\"getPanelMode(endPanelMode, partType)\"\n        [partType]=\"partType\"\n        [locale]=\"locale!\"\n        [showTimePicker]=\"hasTimePicker\"\n        [timeOptions]=\"getTimeOptions(partType)\"\n        [panelMode]=\"getPanelMode(panelMode, partType)\"\n        (panelModeChange)=\"onPanelModeChange($event, partType)\"\n        [activeDate]=\"getActiveDate(partType)\"\n        [value]=\"getValue(partType)\"\n        [disabledDate]=\"disabledDate\"\n        [dateRender]=\"dateRender\"\n        [selectedValue]=\"$any(datePickerService?.value)\"\n        [hoverValue]=\"$any(hoverValue)\"\n        (cellHover)=\"onCellHover($event)\"\n        (selectDate)=\"changeValueFromSelect($event, !showTime)\"\n        (selectTime)=\"onSelectTime($event, partType)\"\n        (headerChange)=\"onActiveDateChange($event, partType)\"\n      ></inner-popup>\n    </ng-template>\n\n    <ng-template #tplFooter>\n      <calendar-footer\n        *ngIf=\"hasFooter\"\n        [locale]=\"locale!\"\n        [isRange]=\"isRange\"\n        [showToday]=\"showToday\"\n        [hasTimePicker]=\"hasTimePicker\"\n        [okDisabled]=\"!isAllowed($any(datePickerService?.value))\"\n        [extraFooter]=\"extraFooter\"\n        [rangeQuickSelector]=\"ranges ? tplRangeQuickSelector : null\"\n        (clickOk)=\"onClickOk()\"\n        (clickToday)=\"onClickToday($event)\"\n      ></calendar-footer>\n    </ng-template>\n\n    <ng-template #tplRangePart let-partType=\"partType\">\n      <div class=\"{{ prefixCls }}-panel\">\n        <ng-container *ngTemplateOutlet=\"tplInnerPopup; context: { partType: partType }\"></ng-container>\n      </div>\n    </ng-template>\n\n    <!-- Range ONLY: Range Quick Selector -->\n    <ng-template #tplRangeQuickSelector>\n      <li\n        *ngFor=\"let name of getObjectKeys(ranges)\"\n        class=\"{{ prefixCls }}-preset\"\n        (click)=\"onClickPresetRange(ranges![name])\"\n        (mouseenter)=\"onHoverPresetRange(ranges![name])\"\n        (mouseleave)=\"onPresetRangeMouseLeave()\"\n      >\n        <span class=\"ant-tag ant-tag-blue\">{{ name }}</span>\n      </li>\n    </ng-template>\n  `\n})\nexport class DateRangePopupComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() isRange!: boolean;\n  @Input() showWeek!: boolean;\n  @Input() locale!: NzCalendarI18nInterface | undefined;\n  @Input() disabledDate?: DisabledDateFn;\n  @Input() disabledTime?: DisabledTimeFn; // This will lead to rebuild time options\n  @Input() showToday!: boolean;\n  @Input() showTime!: SupportTimeOptions | boolean;\n  @Input() extraFooter?: TemplateRef<void> | string;\n  @Input() ranges?: PresetRanges;\n  @Input() dateRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n  @Input() panelMode!: NzDateMode | NzDateMode[];\n  @Input() defaultPickerValue!: CompatibleDate | undefined | null;\n  @Output() readonly panelModeChange = new EventEmitter<NzDateMode | NzDateMode[]>();\n  @Output() readonly calendarChange = new EventEmitter<CompatibleValue>();\n  @Output() readonly resultOk = new EventEmitter<void>(); // Emitted when done with date selecting\n\n  prefixCls: string = PREFIX_CLASS;\n  endPanelMode: NzDateMode | NzDateMode[] = 'date';\n  timeOptions: SupportTimeOptions | SupportTimeOptions[] | null = null;\n  hoverValue: SingleValue[] = []; // Range ONLY\n  checkedPartArr: boolean[] = [false, false];\n  destroy$ = new Subject();\n\n  get hasTimePicker(): boolean {\n    return !!this.showTime;\n  }\n\n  get hasFooter(): boolean {\n    return this.showToday || this.hasTimePicker || !!this.extraFooter || !!this.ranges;\n  }\n\n  constructor(public datePickerService: DatePickerService, public cdr: ChangeDetectorRef) {}\n\n  ngOnInit(): void {\n    this.datePickerService.valueChange$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.updateActiveDate();\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // Parse showTime options\n    if (changes.showTime || changes.disabledTime) {\n      if (this.showTime) {\n        this.buildTimeOptions();\n      }\n    }\n    if (changes.panelMode) {\n      this.endPanelMode = this.panelMode;\n    }\n    if (changes.defaultPickerValue) {\n      this.updateActiveDate();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  updateActiveDate(): void {\n    const activeDate = this.datePickerService.hasValue()\n      ? this.datePickerService.value\n      : this.datePickerService.makeValue(this.defaultPickerValue!);\n    this.datePickerService.setActiveDate(activeDate, this.hasTimePicker, this.getPanelMode(this.endPanelMode) as NormalizedMode);\n  }\n\n  onClickOk(): void {\n    const inputIndex = { left: 0, right: 1 }[this.datePickerService.activeInput];\n    const value: CandyDate = this.isRange\n      ? (this.datePickerService.value as CandyDate[])[inputIndex]\n      : (this.datePickerService.value as CandyDate);\n    this.changeValueFromSelect(value);\n    this.resultOk.emit();\n  }\n\n  onClickToday(value: CandyDate): void {\n    this.changeValueFromSelect(value, !this.showTime);\n  }\n\n  onCellHover(value: CandyDate): void {\n    if (!this.isRange) {\n      return;\n    }\n    const otherInputIndex = { left: 1, right: 0 }[this.datePickerService.activeInput];\n    const base = (this.datePickerService.value as CandyDate[])[otherInputIndex]!;\n    if (base) {\n      if (base.isBeforeDay(value)) {\n        this.hoverValue = [base, value];\n      } else {\n        this.hoverValue = [value, base];\n      }\n    }\n  }\n\n  onPanelModeChange(mode: NzDateMode, partType?: RangePartType): void {\n    if (this.isRange) {\n      const index = this.datePickerService.getActiveIndex(partType);\n      if (index === 0) {\n        this.panelMode = [mode, this.panelMode[1]] as NzDateMode[];\n      } else {\n        this.panelMode = [this.panelMode[0], mode] as NzDateMode[];\n      }\n    } else {\n      this.panelMode = mode;\n    }\n    this.panelModeChange.emit(this.panelMode);\n  }\n\n  onActiveDateChange(value: CandyDate, partType: RangePartType): void {\n    if (this.isRange) {\n      const activeDate: SingleValue[] = [];\n      activeDate[this.datePickerService.getActiveIndex(partType)] = value;\n      this.datePickerService.setActiveDate(\n        activeDate,\n        this.hasTimePicker,\n        this.getPanelMode(this.endPanelMode, partType) as NormalizedMode\n      );\n    } else {\n      this.datePickerService.setActiveDate(value);\n    }\n  }\n\n  onSelectTime(value: CandyDate, partType?: RangePartType): void {\n    if (this.isRange) {\n      const newValue = cloneDate(this.datePickerService.value) as SingleValue[];\n      const index = this.datePickerService.getActiveIndex(partType);\n      newValue[index] = this.overrideHms(value, newValue[index]);\n      this.datePickerService.setValue(newValue);\n    } else {\n      const newValue = this.overrideHms(value, this.datePickerService.value as CandyDate);\n      this.datePickerService.setValue(newValue); // If not select a date currently, use today\n    }\n    this.datePickerService.inputPartChange$.next();\n    this.buildTimeOptions();\n  }\n\n  changeValueFromSelect(value: CandyDate, emitValue: boolean = true): void {\n    if (this.isRange) {\n      const selectedValue: SingleValue[] = cloneDate(this.datePickerService.value) as CandyDate[];\n      const checkedPart: RangePartType = this.datePickerService.activeInput;\n      let nextPart: RangePartType = checkedPart;\n\n      selectedValue[this.datePickerService.getActiveIndex(checkedPart)] = value;\n      this.checkedPartArr[this.datePickerService.getActiveIndex(checkedPart)] = true;\n      this.hoverValue = selectedValue;\n\n      if (emitValue) {\n        /**\n         * if sort order is wrong, clear the other part's value\n         */\n        if (wrongSortOrder(selectedValue)) {\n          nextPart = this.reversedPart(checkedPart);\n          selectedValue[this.datePickerService.getActiveIndex(nextPart)] = null;\n          this.checkedPartArr[this.datePickerService.getActiveIndex(nextPart)] = false;\n        }\n\n        this.datePickerService.setValue(selectedValue);\n\n        /**\n         * range date usually selected paired,\n         * so we emit the date value only both date is allowed and both part are checked\n         */\n        if (this.isBothAllowed(selectedValue) && this.checkedPartArr[0] && this.checkedPartArr[1]) {\n          this.calendarChange.emit(selectedValue);\n          this.clearHoverValue();\n          this.datePickerService.emitValue$.next();\n        } else if (this.isAllowed(selectedValue)) {\n          nextPart = this.reversedPart(checkedPart);\n          this.calendarChange.emit([value.clone()]);\n        }\n      } else {\n        this.datePickerService.setValue(selectedValue);\n      }\n      this.datePickerService.inputPartChange$.next(nextPart);\n    } else {\n      this.datePickerService.setValue(value);\n      this.datePickerService.inputPartChange$.next();\n\n      if (emitValue && this.isAllowed(value)) {\n        this.datePickerService.emitValue$.next();\n      }\n    }\n  }\n\n  reversedPart(part: RangePartType): RangePartType {\n    return part === 'left' ? 'right' : 'left';\n  }\n\n  getPanelMode(panelMode: NzDateMode | NzDateMode[], partType?: RangePartType): NzDateMode {\n    if (this.isRange) {\n      return panelMode[this.datePickerService.getActiveIndex(partType)] as NzDateMode;\n    } else {\n      return panelMode as NzDateMode;\n    }\n  }\n\n  // Get single value or part value of a range\n  getValue(partType?: RangePartType): CandyDate {\n    if (this.isRange) {\n      return ((this.datePickerService.value as CandyDate[]) || [])[this.datePickerService.getActiveIndex(partType)];\n    } else {\n      return this.datePickerService.value as CandyDate;\n    }\n  }\n\n  getActiveDate(partType?: RangePartType): CandyDate {\n    if (this.isRange) {\n      return (this.datePickerService.activeDate as CandyDate[])[this.datePickerService.getActiveIndex(partType)];\n    } else {\n      return this.datePickerService.activeDate as CandyDate;\n    }\n  }\n\n  disabledStartTime: DisabledTimeFn = (value: Date | Date[]) => {\n    return this.disabledTime && this.disabledTime(value, 'start');\n  };\n\n  disabledEndTime: DisabledTimeFn = (value: Date | Date[]) => {\n    return this.disabledTime && this.disabledTime(value, 'end');\n  };\n\n  isOneAllowed(selectedValue: SingleValue[]): boolean {\n    const index = this.datePickerService.getActiveIndex();\n    const disabledTimeArr = [this.disabledStartTime, this.disabledEndTime];\n    return isAllowedDate(selectedValue[index]!, this.disabledDate, disabledTimeArr[index]);\n  }\n\n  isBothAllowed(selectedValue: SingleValue[]): boolean {\n    return (\n      isAllowedDate(selectedValue[0]!, this.disabledDate, this.disabledStartTime) &&\n      isAllowedDate(selectedValue[1]!, this.disabledDate, this.disabledEndTime)\n    );\n  }\n\n  isAllowed(value: CompatibleValue, isBoth: boolean = false): boolean {\n    if (this.isRange) {\n      return isBoth ? this.isBothAllowed(value as CandyDate[]) : this.isOneAllowed(value as CandyDate[]);\n    } else {\n      return isAllowedDate(value as CandyDate, this.disabledDate, this.disabledTime);\n    }\n  }\n\n  getTimeOptions(partType?: RangePartType): SupportTimeOptions | null {\n    if (this.showTime && this.timeOptions) {\n      return this.timeOptions instanceof Array ? this.timeOptions[this.datePickerService.getActiveIndex(partType)] : this.timeOptions;\n    }\n    return null;\n  }\n\n  onClickPresetRange(val: PresetRanges[keyof PresetRanges]): void {\n    const value = typeof val === 'function' ? val() : val;\n    if (value) {\n      this.datePickerService.setValue([new CandyDate(value[0]), new CandyDate(value[1])]);\n      this.datePickerService.emitValue$.next();\n    }\n  }\n\n  onPresetRangeMouseLeave(): void {\n    this.clearHoverValue();\n  }\n\n  onHoverPresetRange(val: PresetRanges[keyof PresetRanges]): void {\n    if (typeof val !== 'function') {\n      this.hoverValue = [new CandyDate(val[0]), new CandyDate(val[1])];\n    }\n  }\n\n  getObjectKeys(obj?: PresetRanges): string[] {\n    return obj ? Object.keys(obj) : [];\n  }\n\n  show(partType: RangePartType): boolean {\n    const hide = this.showTime && this.isRange && this.datePickerService.activeInput !== partType;\n    return !hide;\n  }\n\n  private clearHoverValue(): void {\n    this.hoverValue = [];\n  }\n\n  private buildTimeOptions(): void {\n    if (this.showTime) {\n      const showTime = typeof this.showTime === 'object' ? this.showTime : {};\n      if (this.isRange) {\n        const value = this.datePickerService.value as CandyDate[];\n        this.timeOptions = [this.overrideTimeOptions(showTime, value[0], 'start'), this.overrideTimeOptions(showTime, value[1], 'end')];\n      } else {\n        this.timeOptions = this.overrideTimeOptions(showTime, this.datePickerService.value as CandyDate);\n      }\n    } else {\n      this.timeOptions = null;\n    }\n  }\n\n  private overrideTimeOptions(origin: SupportTimeOptions, value: CandyDate, partial?: DisabledTimePartial): SupportTimeOptions {\n    let disabledTimeFn;\n    if (partial) {\n      disabledTimeFn = partial === 'start' ? this.disabledStartTime : this.disabledEndTime;\n    } else {\n      disabledTimeFn = this.disabledTime;\n    }\n    return { ...origin, ...getTimeConfig(value, disabledTimeFn) };\n  }\n\n  private overrideHms(newValue: CandyDate | null, oldValue: CandyDate | null): CandyDate {\n    // tslint:disable-next-line:no-parameter-reassignment\n    newValue = newValue || new CandyDate();\n    // tslint:disable-next-line:no-parameter-reassignment\n    oldValue = oldValue || new CandyDate();\n    return oldValue.setHms(newValue.getHours(), newValue.getMinutes(), newValue.getSeconds());\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport {\n  CdkConnectedOverlay,\n  CdkOverlayOrigin,\n  ConnectedOverlayPositionChange,\n  ConnectionPositionPair,\n  HorizontalConnectionPos,\n  VerticalConnectionPos\n} from '@angular/cdk/overlay';\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport { slideMotion } from 'ng-zorro-antd/core/animation';\nimport { NzResizeObserver } from 'ng-zorro-antd/core/resize-observers';\n\nimport { CandyDate, CompatibleValue, wrongSortOrder } from 'ng-zorro-antd/core/time';\nimport { NgStyleInterface, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatePickerService } from './date-picker.service';\nimport { DateRangePopupComponent } from './date-range-popup.component';\nimport { RangePartType } from './standard-types';\nimport { PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: '[nz-picker]',\n  exportAs: 'nzPicker',\n  template: `\n    <!-- Content of single picker -->\n    <div *ngIf=\"!isRange\" class=\"{{ prefixCls }}-input\">\n      <input\n        #pickerInput\n        [class.ant-input-disabled]=\"disabled\"\n        [disabled]=\"disabled\"\n        [readOnly]=\"inputReadOnly\"\n        [(ngModel)]=\"inputValue\"\n        placeholder=\"{{ getPlaceholder() }}\"\n        [size]=\"inputSize\"\n        (focus)=\"onFocus($event)\"\n        (blur)=\"onBlur($event)\"\n        (ngModelChange)=\"onInputChange($event)\"\n        (keyup.enter)=\"onKeyupEnter($event)\"\n      />\n      <ng-container *ngTemplateOutlet=\"tplRightRest\"></ng-container>\n    </div>\n\n    <!-- Content of range picker -->\n    <ng-container *ngIf=\"isRange\">\n      <div class=\"{{ prefixCls }}-input\">\n        <ng-container *ngTemplateOutlet=\"tplRangeInput; context: { partType: 'left' }\"></ng-container>\n      </div>\n      <div #separatorElement class=\"{{ prefixCls }}-range-separator\">\n        <span class=\"{{ prefixCls }}-separator\">\n          <ng-container *ngIf=\"separator; else defaultSeparator\">{{ separator }}</ng-container>\n        </span>\n        <ng-template #defaultSeparator>\n          <i nz-icon nzType=\"swap-right\" nzTheme=\"outline\"></i>\n        </ng-template>\n      </div>\n      <div class=\"{{ prefixCls }}-input\">\n        <ng-container *ngTemplateOutlet=\"tplRangeInput; context: { partType: 'right' }\"></ng-container>\n      </div>\n      <ng-container *ngTemplateOutlet=\"tplRightRest\"></ng-container>\n    </ng-container>\n    <!-- Input for Range ONLY -->\n    <ng-template #tplRangeInput let-partType=\"partType\">\n      <input\n        #rangePickerInput\n        [disabled]=\"disabled\"\n        [readOnly]=\"inputReadOnly\"\n        [size]=\"inputSize\"\n        (click)=\"onClickInputBox($event)\"\n        (blur)=\"onBlur($event)\"\n        (focus)=\"onFocus($event, partType)\"\n        (keyup.enter)=\"onKeyupEnter($event)\"\n        [(ngModel)]=\"inputValue[datePickerService.getActiveIndex(partType)]\"\n        (ngModelChange)=\"onInputChange($event)\"\n        placeholder=\"{{ getPlaceholder(partType) }}\"\n      />\n    </ng-template>\n\n    <!-- Right operator icons -->\n    <ng-template #tplRightRest>\n      <div\n        class=\"{{ prefixCls }}-active-bar\"\n        style=\"position: absolute\"\n        [style.width.px]=\"inputWidth\"\n        [style.left.px]=\"datePickerService?.arrowLeft\"\n      ></div>\n      <span *ngIf=\"showClear()\" class=\"{{ prefixCls }}-clear\" (click)=\"onClickClear($event)\">\n        <i nz-icon nzType=\"close-circle\" nzTheme=\"fill\"></i>\n      </span>\n      <span class=\"{{ prefixCls }}-suffix\">\n        <ng-container *nzStringTemplateOutlet=\"suffixIcon; let suffixIcon\">\n          <i nz-icon [nzType]=\"suffixIcon\"></i>\n        </ng-container>\n      </span>\n    </ng-template>\n\n    <!-- Overlay -->\n    <ng-template\n      cdkConnectedOverlay\n      nzConnectedOverlay\n      [cdkConnectedOverlayOrigin]=\"origin\"\n      [cdkConnectedOverlayOpen]=\"realOpenState\"\n      [cdkConnectedOverlayHasBackdrop]=\"!isOpenHandledByUser()\"\n      [cdkConnectedOverlayPositions]=\"overlayPositions\"\n      [cdkConnectedOverlayTransformOriginOn]=\"'.ant-picker-wrapper'\"\n      (positionChange)=\"onPositionChange($event)\"\n      (backdropClick)=\"onClickBackdrop()\"\n      (detach)=\"onOverlayDetach()\"\n      (overlayKeydown)=\"onOverlayKeydown($event)\"\n    >\n      <div\n        class=\"ant-picker-wrapper\"\n        [nzNoAnimation]=\"noAnimation\"\n        [@slideMotion]=\"'enter'\"\n        (@slideMotion.done)=\"animationDone()\"\n        style=\"position: relative;\"\n      >\n        <div\n          class=\"{{ prefixCls }}-dropdown {{ dropdownClassName }}\"\n          [class.ant-picker-dropdown-placement-bottomLeft]=\"currentPositionY === 'bottom' && currentPositionX === 'start'\"\n          [class.ant-picker-dropdown-placement-topLeft]=\"currentPositionY === 'top' && currentPositionX === 'start'\"\n          [class.ant-picker-dropdown-placement-bottomRight]=\"currentPositionY === 'bottom' && currentPositionX === 'end'\"\n          [class.ant-picker-dropdown-placement-topRight]=\"currentPositionY === 'top' && currentPositionX === 'end'\"\n          [class.ant-picker-dropdown-range]=\"isRange\"\n          [ngStyle]=\"popupStyle\"\n        >\n          <!-- Compatible for overlay that not support offset dynamically and immediately -->\n          <ng-content></ng-content>\n        </div>\n      </div>\n    </ng-template>\n  `,\n  animations: [slideMotion],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NzPickerComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  @Input() noAnimation: boolean = false;\n  @Input() isRange: boolean = false;\n  @Input() open: boolean | undefined = undefined;\n  @Input() disabled: boolean = false;\n  @Input() inputReadOnly: boolean = false;\n  @Input() placeholder!: string | string[];\n  @Input() allowClear?: boolean;\n  @Input() autoFocus?: boolean;\n  @Input() format!: string;\n  @Input() separator?: string;\n  @Input() popupStyle: NgStyleInterface | null = null;\n  @Input() dropdownClassName?: string;\n  @Input() suffixIcon?: string | TemplateRef<NzSafeAny>;\n\n  @Output() readonly focusChange = new EventEmitter<boolean>();\n  @Output() readonly valueChange = new EventEmitter<CandyDate | CandyDate[] | null>();\n  @Output() readonly openChange = new EventEmitter<boolean>(); // Emitted when overlay's open state change\n\n  @ViewChild(CdkConnectedOverlay, { static: false }) cdkConnectedOverlay?: CdkConnectedOverlay;\n  @ViewChild('separatorElement', { static: false }) separatorElement?: ElementRef;\n  @ViewChild('pickerInput', { static: false }) pickerInput?: ElementRef<HTMLInputElement>;\n  @ViewChildren('rangePickerInput') rangePickerInputs?: QueryList<ElementRef<HTMLInputElement>>;\n  @ContentChild(DateRangePopupComponent) panel?: DateRangePopupComponent;\n\n  origin: CdkOverlayOrigin;\n  document: Document;\n  inputSize: number = 12;\n  inputWidth?: number;\n  destroy$ = new Subject();\n  prefixCls = PREFIX_CLASS;\n  inputValue!: NzSafeAny;\n  animationOpenState = false;\n  overlayOpen: boolean = false; // Available when \"open\"=undefined\n  overlayPositions: ConnectionPositionPair[] = [\n    {\n      offsetX: -12,\n      offsetY: 8,\n      originX: 'start',\n      originY: 'bottom',\n      overlayX: 'start',\n      overlayY: 'top'\n    },\n    {\n      offsetX: -12,\n      offsetY: -8,\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'bottom'\n    },\n    {\n      offsetX: 12,\n      offsetY: 8,\n      originX: 'end',\n      originY: 'bottom',\n      overlayX: 'end',\n      overlayY: 'top'\n    },\n    {\n      offsetX: 12,\n      offsetY: -8,\n      originX: 'end',\n      originY: 'top',\n      overlayX: 'end',\n      overlayY: 'bottom'\n    }\n  ] as ConnectionPositionPair[];\n  currentPositionX: HorizontalConnectionPos = 'start';\n  currentPositionY: VerticalConnectionPos = 'bottom';\n\n  get realOpenState(): boolean {\n    // The value that really decide the open state of overlay\n    return this.isOpenHandledByUser() ? !!this.open : this.overlayOpen;\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    private dateHelper: DateHelperService,\n    private cdr: ChangeDetectorRef,\n    private platform: Platform,\n    private nzResizeObserver: NzResizeObserver,\n    public datePickerService: DatePickerService,\n    @Inject(DOCUMENT) doc: NzSafeAny\n  ) {\n    this.document = doc;\n    this.origin = new CdkOverlayOrigin(this.elementRef);\n  }\n\n  ngOnInit(): void {\n    this.inputValue = this.isRange ? ['', ''] : '';\n    this.datePickerService.valueChange$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.updateInputValue();\n    });\n  }\n\n  ngAfterViewInit(): void {\n    if (this.autoFocus) {\n      this.focus();\n    }\n\n    if (this.isRange && this.platform.isBrowser) {\n      this.nzResizeObserver\n        .observe(this.elementRef)\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(() => {\n          this.updateInputWidthAndArrowLeft();\n        });\n    }\n\n    this.datePickerService.inputPartChange$.pipe(takeUntil(this.destroy$)).subscribe(partType => {\n      if (partType) {\n        this.datePickerService.activeInput = partType;\n      }\n      this.focus();\n      this.updateInputWidthAndArrowLeft();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.open) {\n      this.animationStart();\n    }\n\n    if (changes.format && changes.format.currentValue) {\n      this.inputSize = Math.max(10, this.format.length) + 2;\n    }\n  }\n\n  updateInputWidthAndArrowLeft(): void {\n    this.inputWidth = this.rangePickerInputs?.first?.nativeElement.offsetWidth || 0;\n    this.datePickerService.arrowLeft =\n      this.datePickerService.activeInput === 'left' ? 0 : this.inputWidth + this.separatorElement?.nativeElement.offsetWidth || 0;\n    this.panel?.cdr.markForCheck();\n    this.cdr.markForCheck();\n  }\n\n  getInput(partType?: RangePartType): HTMLInputElement | undefined {\n    return this.isRange\n      ? partType === 'left'\n        ? this.rangePickerInputs?.first.nativeElement\n        : this.rangePickerInputs?.last.nativeElement\n      : this.pickerInput!.nativeElement;\n  }\n\n  focus(): void {\n    const activeInputElement = this.getInput(this.datePickerService.activeInput);\n    if (this.document.activeElement !== activeInputElement) {\n      activeInputElement?.focus();\n    }\n  }\n\n  onFocus(event: FocusEvent, partType?: RangePartType): void {\n    event.preventDefault();\n    this.focusChange.emit(true);\n    if (partType) {\n      this.datePickerService.inputPartChange$.next(partType);\n    }\n  }\n\n  onBlur(event: FocusEvent): void {\n    event.preventDefault();\n    this.focusChange.emit(false);\n  }\n\n  // Show overlay content\n  showOverlay(): void {\n    if (!this.realOpenState && !this.disabled) {\n      this.updateInputWidthAndArrowLeft();\n      this.overlayOpen = true;\n      this.animationStart();\n      this.focus();\n      this.openChange.emit(true);\n    }\n  }\n\n  hideOverlay(): void {\n    if (this.realOpenState) {\n      this.overlayOpen = false;\n      this.openChange.emit(false);\n    }\n  }\n\n  showClear(): boolean {\n    return !this.disabled && !this.isEmptyValue(this.datePickerService.value) && !!this.allowClear;\n  }\n\n  onClickInputBox(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.isOpenHandledByUser()) {\n      this.showOverlay();\n    }\n  }\n\n  onClickBackdrop(): void {\n    if (this.panel?.isAllowed(this.datePickerService.value!, true)) {\n      if (Array.isArray(this.datePickerService.value) && wrongSortOrder(this.datePickerService.value)) {\n        const index = this.datePickerService.getActiveIndex(this.datePickerService.activeInput);\n        const value = this.datePickerService.value[index];\n        this.panel?.changeValueFromSelect(value!, true);\n        return;\n      }\n      this.updateInputValue();\n      this.datePickerService.emitValue$.next();\n    } else {\n      this.datePickerService.setValue(this.datePickerService.initialValue!);\n      this.hideOverlay();\n    }\n  }\n\n  onOverlayDetach(): void {\n    this.hideOverlay();\n  }\n\n  onOverlayKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === ESCAPE) {\n      this.datePickerService.setValue(this.datePickerService.initialValue!);\n    }\n  }\n\n  // NOTE: A issue here, the first time position change, the animation will not be triggered.\n  // Because the overlay's \"positionChange\" event is emitted after the content's full shown up.\n  // All other components like \"nz-dropdown\" which depends on overlay also has the same issue.\n  // See: https://github.com/NG-ZORRO/ng-zorro-antd/issues/1429\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\n    this.currentPositionX = position.connectionPair.originX;\n    this.currentPositionY = position.connectionPair.originY;\n    this.cdr.detectChanges(); // Take side-effects to position styles\n  }\n\n  onClickClear(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.datePickerService.setValue(this.isRange ? [] : null);\n    this.datePickerService.emitValue$.next();\n  }\n\n  updateInputValue(): void {\n    const newValue = this.datePickerService.value;\n    if (this.isRange) {\n      this.inputValue = newValue ? (newValue as CandyDate[]).map(v => this.formatValue(v)) : ['', ''];\n    } else {\n      this.inputValue = this.formatValue(newValue as CandyDate);\n    }\n    this.cdr.markForCheck();\n  }\n\n  formatValue(value: CandyDate): string {\n    return this.dateHelper.format(value && (value as CandyDate).nativeDate, this.format);\n  }\n\n  onInputChange(value: string, isEnter: boolean = false): void {\n    /**\n     * in IE11 focus/blur will trigger ngModelChange if has placeholder\n     * so we forbidden IE11 to open panel through input change\n     */\n    if (!this.platform.TRIDENT && this.document.activeElement === this.getInput(this.datePickerService.activeInput)) {\n      this.showOverlay();\n    }\n\n    const date = this.checkValidDate(value);\n    if (this.panel && date) {\n      this.panel.changeValueFromSelect(date, isEnter);\n    }\n  }\n\n  onKeyupEnter(event: Event): void {\n    this.onInputChange((event.target as HTMLInputElement).value, true);\n  }\n\n  private checkValidDate(value: string): CandyDate | null {\n    const date = new CandyDate(this.dateHelper.parseDate(value, this.format));\n\n    if (!date.isValid() || value !== this.dateHelper.format(date.nativeDate, this.format)) {\n      return null;\n    }\n\n    return date;\n  }\n\n  getPlaceholder(partType?: RangePartType): string {\n    return this.isRange ? this.placeholder[this.datePickerService.getActiveIndex(partType!)] : (this.placeholder as string);\n  }\n\n  isEmptyValue(value: CompatibleValue): boolean {\n    if (value === null) {\n      return true;\n    } else if (this.isRange) {\n      return !value || !Array.isArray(value) || value.every(val => !val);\n    } else {\n      return !value;\n    }\n  }\n\n  // Whether open state is permanently controlled by user himself\n  isOpenHandledByUser(): boolean {\n    return this.open !== undefined;\n  }\n\n  animationStart(): void {\n    if (this.realOpenState) {\n      this.animationOpenState = true;\n    }\n  }\n\n  animationDone(): void {\n    if (!this.realOpenState) {\n      this.animationOpenState = false;\n      this.cdr.markForCheck();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Host,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core/no-animation';\nimport { CandyDate, cloneDate, CompatibleValue } from 'ng-zorro-antd/core/time';\nimport { BooleanInput, FunctionProp, NzSafeAny, OnChangeType, OnTouchedType } from 'ng-zorro-antd/core/types';\nimport { InputBoolean, toBoolean, valueFunctionProp } from 'ng-zorro-antd/core/util';\nimport { DateHelperService, NzDatePickerI18nInterface, NzDatePickerLangI18nInterface, NzI18nService } from 'ng-zorro-antd/i18n';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatePickerService } from './date-picker.service';\n\nimport { NzConfigKey, NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\nimport { NzPickerComponent } from './picker.component';\nimport { CompatibleDate, DisabledTimeFn, NzDateMode, PresetRanges, SupportTimeOptions } from './standard-types';\n\nconst POPUP_STYLE_PATCH = { position: 'relative' }; // Aim to override antd's style to support overlay's position strategy (position:absolute will cause it not working beacuse the overlay can't get the height/width of it's content)\nconst NZ_CONFIG_MODULE_NAME: NzConfigKey = 'datePicker';\n\nexport type NzDatePickerSizeType = 'large' | 'default' | 'small';\n\n/**\n * The base picker for all common APIs\n */\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'nz-date-picker,nz-week-picker,nz-month-picker,nz-year-picker,nz-range-picker',\n  exportAs: 'nzDatePicker',\n  template: `\n    <div\n      nz-picker\n      [isRange]=\"isRange\"\n      [open]=\"nzOpen\"\n      [separator]=\"nzSeparator\"\n      [disabled]=\"nzDisabled\"\n      [inputReadOnly]=\"nzInputReadOnly\"\n      [format]=\"nzFormat\"\n      [allowClear]=\"nzAllowClear\"\n      [autoFocus]=\"nzAutoFocus\"\n      [placeholder]=\"nzPlaceHolder\"\n      style=\"display: inherit; align-items: center; width: 100%;\"\n      [dropdownClassName]=\"nzDropdownClassName\"\n      [popupStyle]=\"nzPopupStyle\"\n      [noAnimation]=\"!!noAnimation?.nzNoAnimation\"\n      [suffixIcon]=\"nzSuffixIcon\"\n      (openChange)=\"onOpenChange($event)\"\n      (focusChange)=\"onFocusChange($event)\"\n    >\n      <date-range-popup\n        *ngIf=\"realOpenState\"\n        [isRange]=\"isRange\"\n        [defaultPickerValue]=\"nzDefaultPickerValue\"\n        [showWeek]=\"nzMode === 'week'\"\n        [panelMode]=\"panelMode\"\n        (panelModeChange)=\"onPanelModeChange($event)\"\n        (calendarChange)=\"onCalendarChange($event)\"\n        [locale]=\"nzLocale?.lang!\"\n        [showToday]=\"nzMode === 'date' && nzShowToday && !isRange && !nzShowTime\"\n        [showTime]=\"nzShowTime\"\n        [dateRender]=\"nzDateRender\"\n        [disabledDate]=\"nzDisabledDate\"\n        [disabledTime]=\"nzDisabledTime\"\n        [extraFooter]=\"extraFooter\"\n        [ranges]=\"nzRanges\"\n        (resultOk)=\"onResultOk()\"\n      ></date-range-popup>\n    </div>\n  `,\n  host: {\n    '[class.ant-picker]': `true`,\n    '[class.ant-picker-range]': `isRange`,\n    '[class.ant-picker-large]': `nzSize === 'large'`,\n    '[class.ant-picker-small]': `nzSize === 'small'`,\n    '[class.ant-picker-disabled]': `nzDisabled`,\n    '(click)': 'picker.onClickInputBox($event)'\n  },\n  providers: [\n    DatePickerService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: forwardRef(() => NzDatePickerComponent)\n    }\n  ]\n})\nexport class NzDatePickerComponent implements OnInit, OnChanges, OnDestroy, ControlValueAccessor {\n  readonly _nzModuleName: NzConfigKey = NZ_CONFIG_MODULE_NAME;\n  static ngAcceptInputType_nzAllowClear: BooleanInput;\n  static ngAcceptInputType_nzAutoFocus: BooleanInput;\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n  static ngAcceptInputType_nzInputReadOnly: BooleanInput;\n  static ngAcceptInputType_nzOpen: BooleanInput;\n  static ngAcceptInputType_nzShowToday: BooleanInput;\n  static ngAcceptInputType_nzMode: NzDateMode | NzDateMode[] | string | string[] | null | undefined;\n  static ngAcceptInputType_nzShowTime: BooleanInput | SupportTimeOptions | null | undefined;\n\n  isRange: boolean = false; // Indicate whether the value is a range value\n  focused: boolean = false;\n  extraFooter?: TemplateRef<NzSafeAny> | string;\n\n  public panelMode: NzDateMode | NzDateMode[] = 'date';\n  private destroyed$: Subject<void> = new Subject();\n  private isCustomPlaceHolder: boolean = false;\n  private showTime: SupportTimeOptions | boolean = false;\n\n  // --- Common API\n  @Input() @InputBoolean() nzAllowClear: boolean = true;\n  @Input() @InputBoolean() nzAutoFocus: boolean = false;\n  @Input() @InputBoolean() nzDisabled: boolean = false;\n  @Input() @InputBoolean() nzInputReadOnly: boolean = false;\n  /**\n   * @deprecated use method `open` or `close` instead.\n   * @breaking-change 11.0.0\n   */\n  @Input() @InputBoolean() nzOpen?: boolean;\n  @Input() nzDisabledDate?: (d: Date) => boolean;\n  @Input() nzLocale!: NzDatePickerI18nInterface;\n  @Input() nzPlaceHolder: string | string[] = '';\n  @Input() nzPopupStyle: object = POPUP_STYLE_PATCH;\n  @Input() nzDropdownClassName?: string;\n  @Input() nzSize: NzDatePickerSizeType = 'default';\n  @Input() nzFormat!: string;\n  @Input() nzDateRender?: TemplateRef<NzSafeAny> | string | FunctionProp<TemplateRef<Date> | string>;\n  @Input() nzDisabledTime?: DisabledTimeFn;\n  @Input() nzRenderExtraFooter?: TemplateRef<NzSafeAny> | string | FunctionProp<TemplateRef<NzSafeAny> | string>;\n  @Input() @InputBoolean() nzShowToday: boolean = true;\n  @Input() nzMode: NzDateMode | NzDateMode[] = 'date';\n  @Input() nzRanges?: PresetRanges;\n  @Input() nzDefaultPickerValue: CompatibleDate | null = null;\n  @Input() @WithConfig() nzSeparator?: string = undefined;\n  @Input() @WithConfig() nzSuffixIcon: string | TemplateRef<NzSafeAny> = 'calendar';\n\n  // TODO(@wenqi73) The PanelMode need named for each pickers and export\n  @Output() readonly nzOnPanelChange = new EventEmitter<NzDateMode | NzDateMode[] | string | string[]>();\n  @Output() readonly nzOnCalendarChange = new EventEmitter<Array<Date | null>>();\n  @Output() readonly nzOnOk = new EventEmitter<CompatibleDate | null>();\n  @Output() readonly nzOnOpenChange = new EventEmitter<boolean>();\n\n  @ViewChild(NzPickerComponent, { static: true }) picker!: NzPickerComponent;\n\n  @Input() get nzShowTime(): SupportTimeOptions | boolean {\n    return this.showTime;\n  }\n\n  set nzShowTime(value: SupportTimeOptions | boolean) {\n    this.showTime = typeof value === 'object' ? value : toBoolean(value);\n  }\n\n  get realOpenState(): boolean {\n    return this.picker.animationOpenState;\n  } // Use picker's real open state to let re-render the picker's content when shown up\n\n  constructor(\n    public nzConfigService: NzConfigService,\n    public datePickerService: DatePickerService,\n    protected i18n: NzI18nService,\n    protected cdr: ChangeDetectorRef,\n    private renderer: Renderer2,\n    private elementRef: ElementRef,\n    protected dateHelper: DateHelperService,\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\n  ) {}\n\n  ngOnInit(): void {\n    // Subscribe the every locale change if the nzLocale is not handled by user\n    if (!this.nzLocale) {\n      this.i18n.localeChange.pipe(takeUntil(this.destroyed$)).subscribe(() => this.setLocale());\n    }\n\n    // Default value\n    this.datePickerService.isRange = this.isRange;\n    this.datePickerService.initValue();\n    this.datePickerService.emitValue$.pipe(takeUntil(this.destroyed$)).subscribe(_ => {\n      const value = this.datePickerService.value;\n      this.datePickerService.initialValue = cloneDate(value);\n      if (this.isRange) {\n        const vAsRange = value as CandyDate[];\n        if (vAsRange.length) {\n          this.onChangeFn([vAsRange[0]?.nativeDate ?? null, vAsRange[1]?.nativeDate ?? null]);\n        } else {\n          this.onChangeFn([]);\n        }\n      } else {\n        if (value) {\n          this.onChangeFn((value as CandyDate).nativeDate);\n        } else {\n          this.onChangeFn(null);\n        }\n      }\n      this.onTouchedFn();\n      // When value emitted, overlay will be closed\n      this.close();\n    });\n\n    this.setModeAndFormat();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.nzPopupStyle) {\n      // Always assign the popup style patch\n      this.nzPopupStyle = this.nzPopupStyle ? { ...this.nzPopupStyle, ...POPUP_STYLE_PATCH } : POPUP_STYLE_PATCH;\n    }\n\n    // Mark as customized placeholder by user once nzPlaceHolder assigned at the first time\n    if (changes.nzPlaceHolder?.currentValue) {\n      this.isCustomPlaceHolder = true;\n    }\n\n    if (changes.nzLocale) {\n      // The nzLocale is currently handled by user\n      this.setDefaultPlaceHolder();\n    }\n\n    if (changes.nzRenderExtraFooter) {\n      this.extraFooter = valueFunctionProp(this.nzRenderExtraFooter!);\n    }\n\n    if (changes.nzOpen) {\n      warnDeprecation(`'nzOpen' in DatePicker is going to be removed in 11.0.0. Please use open() or close() method instead.`);\n    }\n\n    if (changes.nzMode) {\n      this.setModeAndFormat();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  setModeAndFormat(): void {\n    const inputFormats: { [key in NzDateMode]?: string } = {\n      year: 'yyyy',\n      month: 'yyyy-MM',\n      week: this.i18n.getDateLocale() ? 'RRRR-II' : 'yyyy-ww', // Format for week\n      date: this.nzShowTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd'\n    };\n\n    if (!this.nzMode) {\n      this.nzMode = 'date';\n    }\n\n    // TODO: compatible for array type\n    if (Array.isArray(this.nzMode)) {\n      warnDeprecation(\n        `'nzMode' in DatePicker will not be string[], only can be 'decade' | 'year' | 'month' | 'week' | 'date' type in 11.0.0.`\n      );\n      this.nzMode = this.nzMode[0];\n    }\n    this.panelMode = this.isRange ? [this.nzMode, this.nzMode] : this.nzMode;\n\n    // Default format when it's empty\n    if (!this.nzFormat) {\n      this.nzFormat = inputFormats[this.nzMode as NzDateMode]!;\n    }\n  }\n\n  /**\n   * Triggered when overlayOpen changes (different with realOpenState)\n   * @param open The overlayOpen in picker component\n   */\n  onOpenChange(open: boolean): void {\n    this.nzOnOpenChange.emit(open);\n  }\n\n  public open(): void {\n    this.picker.showOverlay();\n  }\n\n  public close(): void {\n    this.picker.hideOverlay();\n  }\n\n  // ------------------------------------------------------------------------\n  // | Control value accessor implements\n  // ------------------------------------------------------------------------\n\n  // NOTE: onChangeFn/onTouchedFn will not be assigned if user not use as ngModel\n  onChangeFn: OnChangeType = () => void 0;\n  onTouchedFn: OnTouchedType = () => void 0;\n\n  writeValue(value: CompatibleDate): void {\n    this.setValue(value);\n    this.cdr.markForCheck();\n  }\n\n  registerOnChange(fn: OnChangeType): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: OnTouchedType): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.nzDisabled = isDisabled;\n    this.cdr.markForCheck();\n  }\n\n  // ------------------------------------------------------------------------\n  // | Internal methods\n  // ------------------------------------------------------------------------\n\n  // Reload locale from i18n with side effects\n  private setLocale(): void {\n    this.nzLocale = this.i18n.getLocaleData('DatePicker', {});\n    this.setDefaultPlaceHolder();\n    this.cdr.markForCheck();\n  }\n\n  private setDefaultPlaceHolder(): void {\n    if (!this.isCustomPlaceHolder && this.nzLocale) {\n      const defaultPlaceholder: { [key in NzDateMode]?: string } = {\n        year: this.getPropertyOfLocale('yearPlaceholder'),\n        month: this.getPropertyOfLocale('monthPlaceholder'),\n        week: this.getPropertyOfLocale('weekPlaceholder'),\n        date: this.getPropertyOfLocale('placeholder')\n      };\n\n      const defaultRangePlaceholder: { [key in NzDateMode]?: string[] } = {\n        year: this.getPropertyOfLocale('rangeYearPlaceholder'),\n        month: this.getPropertyOfLocale('rangeMonthPlaceholder'),\n        week: this.getPropertyOfLocale('rangeWeekPlaceholder'),\n        date: this.getPropertyOfLocale('rangePlaceholder')\n      };\n\n      this.nzPlaceHolder = this.isRange\n        ? defaultRangePlaceholder[this.nzMode as NzDateMode]!\n        : defaultPlaceholder[this.nzMode as NzDateMode]!;\n    }\n  }\n\n  private getPropertyOfLocale<T extends keyof NzDatePickerLangI18nInterface>(type: T): NzDatePickerLangI18nInterface[T] {\n    return this.nzLocale.lang[type] || this.i18n.getLocaleData(`DatePicker.lang.${type}`);\n  }\n\n  // Safe way of setting value with default\n  private setValue(value: CompatibleDate): void {\n    const newValue: CompatibleValue = this.datePickerService.makeValue(value);\n    this.datePickerService.setValue(newValue);\n    this.datePickerService.initialValue = newValue;\n  }\n\n  onFocusChange(value: boolean): void {\n    this.focused = value;\n    // TODO: avoid autoFocus cause change after checked error\n    if (this.focused) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-picker-focused');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-picker-focused');\n    }\n  }\n\n  onPanelModeChange(panelMode: NzDateMode | NzDateMode[]): void {\n    this.nzOnPanelChange.emit(panelMode);\n  }\n\n  // Emit nzOnCalendarChange when select date by nz-range-picker\n  onCalendarChange(value: CompatibleValue): void {\n    if (this.isRange && Array.isArray(value)) {\n      const rangeValue = value.filter(x => x instanceof CandyDate).map(x => x!.nativeDate);\n      this.nzOnCalendarChange.emit(rangeValue);\n    }\n  }\n\n  onResultOk(): void {\n    if (this.isRange) {\n      const value = this.datePickerService.value as CandyDate[];\n      if (value.length) {\n        this.nzOnOk.emit([value[0]?.nativeDate || null, value[1]?.nativeDate || null]);\n      } else {\n        this.nzOnOk.emit([]);\n      }\n    } else {\n      if (this.datePickerService.value) {\n        this.nzOnOk.emit((this.datePickerService.value as CandyDate).nativeDate);\n      } else {\n        this.nzOnOk.emit(null);\n      }\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { FunctionProp } from 'ng-zorro-antd/core/types';\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { DisabledDateFn, NzDateMode, RangePartType, SupportTimeOptions } from './standard-types';\nimport { PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'inner-popup',\n  exportAs: 'innerPopup',\n  template: `\n    <div [class.ant-picker-datetime-panel]=\"showTimePicker\">\n      <div class=\"{{ prefixCls }}-{{ panelMode }}-panel\">\n        <ng-container [ngSwitch]=\"panelMode\">\n          <ng-container *ngSwitchCase=\"'decade'\">\n            <decade-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"enablePrevNext('prev', 'decade')\"\n              [showSuperNextBtn]=\"enablePrevNext('next', 'decade')\"\n              [showNextBtn]=\"false\"\n              [showPreBtn]=\"false\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            ></decade-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <decade-table\n                [activeDate]=\"activeDate\"\n                [value]=\"value\"\n                (valueChange)=\"onChooseDecade($event)\"\n                [disabledDate]=\"disabledDate\"\n              ></decade-table>\n            </div>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'year'\">\n            <year-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"enablePrevNext('prev', 'year')\"\n              [showSuperNextBtn]=\"enablePrevNext('next', 'year')\"\n              [showNextBtn]=\"false\"\n              [showPreBtn]=\"false\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            ></year-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <year-table\n                [activeDate]=\"activeDate\"\n                [value]=\"value\"\n                [disabledDate]=\"disabledDate\"\n                [selectedValue]=\"selectedValue\"\n                [hoverValue]=\"hoverValue\"\n                (valueChange)=\"onChooseYear($event)\"\n                (cellHover)=\"cellHover.emit($event)\"\n              ></year-table>\n            </div>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'month'\">\n            <month-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"enablePrevNext('prev', 'month')\"\n              [showSuperNextBtn]=\"enablePrevNext('next', 'month')\"\n              [showNextBtn]=\"false\"\n              [showPreBtn]=\"false\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            ></month-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <month-table\n                [value]=\"value\"\n                [activeDate]=\"activeDate\"\n                [disabledDate]=\"disabledDate\"\n                [selectedValue]=\"selectedValue\"\n                [hoverValue]=\"hoverValue\"\n                (valueChange)=\"onChooseMonth($event)\"\n                (cellHover)=\"cellHover.emit($event)\"\n              ></month-table>\n            </div>\n          </ng-container>\n\n          <ng-container *ngSwitchDefault>\n            <date-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"showWeek ? enablePrevNext('prev', 'week') : enablePrevNext('prev', 'date')\"\n              [showSuperNextBtn]=\"showWeek ? enablePrevNext('next', 'week') : enablePrevNext('next', 'date')\"\n              [showPreBtn]=\"showWeek ? enablePrevNext('prev', 'week') : enablePrevNext('prev', 'date')\"\n              [showNextBtn]=\"showWeek ? enablePrevNext('next', 'week') : enablePrevNext('next', 'date')\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            ></date-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <date-table\n                [locale]=\"locale!\"\n                [showWeek]=\"showWeek\"\n                [value]=\"value\"\n                [activeDate]=\"activeDate\"\n                [disabledDate]=\"disabledDate\"\n                [cellRender]=\"dateRender\"\n                [selectedValue]=\"selectedValue\"\n                [hoverValue]=\"hoverValue\"\n                (valueChange)=\"onSelectDate($event)\"\n                (cellHover)=\"cellHover.emit($event)\"\n              ></date-table>\n            </div>\n          </ng-container>\n        </ng-container>\n      </div>\n      <ng-container *ngIf=\"showTimePicker && timeOptions\">\n        <nz-time-picker-panel\n          [nzInDatePicker]=\"true\"\n          [ngModel]=\"value?.nativeDate\"\n          (ngModelChange)=\"onSelectTime($event)\"\n          [format]=\"$any(timeOptions.nzFormat)\"\n          [nzHourStep]=\"$any(timeOptions.nzHourStep)\"\n          [nzMinuteStep]=\"$any(timeOptions.nzMinuteStep)\"\n          [nzSecondStep]=\"$any(timeOptions.nzSecondStep)\"\n          [nzDisabledHours]=\"$any(timeOptions.nzDisabledHours)\"\n          [nzDisabledMinutes]=\"$any(timeOptions.nzDisabledMinutes)\"\n          [nzDisabledSeconds]=\"$any(timeOptions.nzDisabledSeconds)\"\n          [nzHideDisabledOptions]=\"!!timeOptions.nzHideDisabledOptions\"\n          [nzDefaultOpenValue]=\"$any(timeOptions.nzDefaultOpenValue)\"\n          [nzUse12Hours]=\"!!timeOptions.nzUse12Hours\"\n          [nzAddOn]=\"$any(timeOptions.nzAddOn)\"\n        ></nz-time-picker-panel>\n        <!-- use [opened] to trigger time panel \\`initPosition()\\` -->\n      </ng-container>\n    </div>\n  `\n})\nexport class InnerPopupComponent implements OnChanges {\n  @Input() activeDate!: CandyDate;\n  @Input() endPanelMode!: NzDateMode;\n  @Input() panelMode!: NzDateMode;\n  @Input() showWeek!: boolean;\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() showTimePicker!: boolean;\n  @Input() timeOptions!: SupportTimeOptions | null;\n  @Input() disabledDate?: DisabledDateFn;\n  @Input() dateRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n  @Input() selectedValue!: CandyDate[]; // Range ONLY\n  @Input() hoverValue!: CandyDate[]; // Range ONLY\n  @Input() value!: CandyDate;\n  @Input() partType!: RangePartType;\n\n  @Output() readonly panelModeChange = new EventEmitter<NzDateMode>();\n  // TODO: name is not proper\n  @Output() readonly headerChange = new EventEmitter<CandyDate>(); // Emitted when user changed the header's value\n  @Output() readonly selectDate = new EventEmitter<CandyDate>(); // Emitted when the date is selected by click the date panel\n  @Output() readonly selectTime = new EventEmitter<CandyDate>();\n  @Output() readonly cellHover = new EventEmitter<CandyDate>(); // Emitted when hover on a day by mouse enter\n\n  prefixCls: string = PREFIX_CLASS;\n\n  /**\n   * Hide \"next\" arrow in left panel,\n   * hide \"prev\" arrow in right panel\n   * @param direction\n   * @param panelMode\n   */\n  enablePrevNext(direction: 'prev' | 'next', panelMode: NzDateMode): boolean {\n    if (\n      !this.showTimePicker &&\n      panelMode === this.endPanelMode &&\n      ((this.partType === 'left' && direction === 'next') || (this.partType === 'right' && direction === 'prev'))\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  onSelectTime(date: Date): void {\n    this.selectTime.emit(new CandyDate(date));\n  }\n\n  // The value real changed to outside\n  onSelectDate(date: CandyDate | Date): void {\n    const value = date instanceof CandyDate ? date : new CandyDate(date);\n    const timeValue = this.timeOptions && this.timeOptions.nzDefaultOpenValue;\n\n    // Display timeValue when value is null\n    if (!this.value && timeValue) {\n      value.setHms(timeValue.getHours(), timeValue.getMinutes(), timeValue.getSeconds());\n    }\n\n    this.selectDate.emit(value);\n  }\n\n  onChooseMonth(value: CandyDate): void {\n    this.activeDate = this.activeDate.setMonth(value.getMonth());\n    if (this.endPanelMode === 'month') {\n      this.value = value;\n      this.selectDate.emit(value);\n    } else {\n      this.headerChange.emit(value);\n      this.panelModeChange.emit(this.endPanelMode);\n    }\n  }\n\n  onChooseYear(value: CandyDate): void {\n    this.activeDate = this.activeDate.setYear(value.getYear());\n    if (this.endPanelMode === 'year') {\n      this.value = value;\n      this.selectDate.emit(value);\n    } else {\n      this.headerChange.emit(value);\n      this.panelModeChange.emit(this.endPanelMode);\n    }\n  }\n\n  onChooseDecade(value: CandyDate): void {\n    this.activeDate = this.activeDate.setYear(value.getYear());\n    if (this.endPanelMode === 'decade') {\n      this.value = value;\n      this.selectDate.emit(value);\n    } else {\n      this.headerChange.emit(value);\n      this.panelModeChange.emit('year');\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeDate && !changes.activeDate.currentValue) {\n      this.activeDate = new CandyDate();\n    }\n    // New Antd vesion has merged 'date' ant 'time' to one panel,\n    // So there is not 'time' panel\n    if (changes.panelMode && changes.panelMode.currentValue === 'time') {\n      this.panelMode = 'date';\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { NzDateMode } from '../standard-types';\nimport { PanelSelector } from './interface';\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class AbstractPanelHeader implements OnInit, OnChanges {\n  prefixCls: string = `ant-picker-header`;\n  selectors: PanelSelector[] = [];\n\n  @Input() value!: CandyDate;\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() showSuperPreBtn: boolean = true;\n  @Input() showSuperNextBtn: boolean = true;\n  @Input() showPreBtn: boolean = true;\n  @Input() showNextBtn: boolean = true;\n\n  @Output() readonly panelModeChange = new EventEmitter<NzDateMode>();\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\n\n  abstract getSelectors(): PanelSelector[];\n\n  superPreviousTitle(): string {\n    return this.locale.previousYear;\n  }\n\n  previousTitle(): string {\n    return this.locale.previousMonth;\n  }\n\n  superNextTitle(): string {\n    return this.locale.nextYear;\n  }\n\n  nextTitle(): string {\n    return this.locale.nextMonth;\n  }\n\n  superPrevious(): void {\n    this.changeValue(this.value.addYears(-1));\n  }\n\n  superNext(): void {\n    this.changeValue(this.value.addYears(1));\n  }\n\n  previous(): void {\n    this.changeValue(this.value.addMonths(-1));\n  }\n\n  next(): void {\n    this.changeValue(this.value.addMonths(1));\n  }\n\n  changeValue(value: CandyDate): void {\n    if (this.value !== value) {\n      this.value = value;\n      this.valueChange.emit(this.value);\n      this.render();\n    }\n  }\n\n  changeMode(mode: NzDateMode): void {\n    this.panelModeChange.emit(mode);\n  }\n\n  private render(): void {\n    if (this.value) {\n      this.selectors = this.getSelectors();\n    }\n  }\n\n  ngOnInit(): void {\n    if (!this.value) {\n      this.value = new CandyDate(); // Show today by default\n    }\n    this.selectors = this.getSelectors();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.value || changes.locale) {\n      this.render();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\nimport { transCompatFormat } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'date-header', // tslint:disable-line:component-selector\n  exportAs: 'dateHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class DateHeaderComponent extends AbstractPanelHeader {\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-year-btn`,\n        title: this.locale.yearSelect,\n        onClick: () => this.changeMode('year'),\n        label: this.dateHelper.format(this.value.nativeDate, transCompatFormat(this.locale.yearFormat))\n      },\n      {\n        className: `${this.prefixCls}-month-btn`,\n        title: this.locale.monthSelect,\n        onClick: () => this.changeMode('month'),\n        label: this.dateHelper.format(this.value.nativeDate, this.locale.monthFormat || 'MMM')\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChange, SimpleChanges, TemplateRef } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { FunctionProp, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { isNonEmptyString, isTemplateRef } from 'ng-zorro-antd/core/util';\nimport { DateBodyRow, DateCell } from './interface';\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class AbstractTable implements OnInit, OnChanges {\n  isTemplateRef = isTemplateRef;\n  isNonEmptyString = isNonEmptyString;\n  headRow: DateCell[] = [];\n  bodyRows: DateBodyRow[] = [];\n  MAX_ROW = 6;\n  MAX_COL = 7;\n\n  @Input() prefixCls: string = 'ant-picker';\n  @Input() value!: CandyDate;\n  @Input() activeDate: CandyDate = new CandyDate();\n  @Input() showWeek: boolean = false;\n  @Input() selectedValue: CandyDate[] = []; // Range ONLY\n  @Input() hoverValue: CandyDate[] = []; // Range ONLY\n  @Input() disabledDate?: (d: Date) => boolean;\n  @Input() cellRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n  @Input() fullCellRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\n  @Output() readonly cellHover = new EventEmitter<CandyDate>(); // Emitted when hover on a day by mouse enter\n\n  protected render(): void {\n    if (this.activeDate) {\n      this.headRow = this.makeHeadRow();\n      this.bodyRows = this.makeBodyRows();\n    }\n  }\n\n  trackByBodyRow(_index: number, item: DateBodyRow): NzSafeAny {\n    return item.trackByIndex;\n  }\n\n  trackByBodyColumn(_index: number, item: DateCell): NzSafeAny {\n    return item.trackByIndex;\n  }\n\n  hasRangeValue(): boolean {\n    return this.selectedValue?.length > 0 || this.hoverValue?.length > 0;\n  }\n\n  getClassMap(cell: DateCell): { [key: string]: boolean } {\n    return {\n      [`ant-picker-cell`]: true,\n      [`ant-picker-cell-in-view`]: true,\n      [`ant-picker-cell-selected`]: cell.isSelected,\n      [`ant-picker-cell-disabled`]: cell.isDisabled,\n      [`ant-picker-cell-in-range`]: !!cell.isInSelectedRange,\n      [`ant-picker-cell-range-start`]: !!cell.isSelectedStart,\n      [`ant-picker-cell-range-end`]: !!cell.isSelectedEnd,\n      [`ant-picker-cell-range-start-single`]: !!cell.isStartSingle,\n      [`ant-picker-cell-range-end-single`]: !!cell.isEndSingle,\n      [`ant-picker-cell-range-hover`]: !!cell.isInHoverRange,\n      [`ant-picker-cell-range-hover-start`]: !!cell.isHoverStart,\n      [`ant-picker-cell-range-hover-end`]: !!cell.isHoverEnd,\n      [`ant-picker-cell-range-hover-edge-start`]: !!cell.isFirstCellInPanel,\n      [`ant-picker-cell-range-hover-edge-end`]: !!cell.isLastCellInPanel,\n      [`ant-picker-cell-range-start-near-hover`]: !!cell.isRangeStartNearHover,\n      [`ant-picker-cell-range-end-near-hover`]: !!cell.isRangeEndNearHover\n    };\n  }\n\n  abstract makeHeadRow(): DateCell[];\n  abstract makeBodyRows(): DateBodyRow[];\n\n  ngOnInit(): void {\n    this.render();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeDate && !changes.activeDate.currentValue) {\n      this.activeDate = new CandyDate();\n    }\n\n    if (\n      changes.disabledDate ||\n      this.isDateRealChange(changes.activeDate) ||\n      this.isDateRealChange(changes.value) ||\n      this.isDateRealChange(changes.selectedValue) ||\n      this.isDateRealChange(changes.hoverValue)\n    ) {\n      this.render();\n    }\n  }\n\n  private isDateRealChange(change: SimpleChange): boolean {\n    if (change) {\n      const previousValue: CandyDate | CandyDate[] = change.previousValue;\n      const currentValue: CandyDate | CandyDate[] = change.currentValue;\n      if (Array.isArray(currentValue)) {\n        return (\n          !Array.isArray(previousValue) ||\n          currentValue.length !== previousValue.length ||\n          currentValue.some((value, index) => {\n            const previousCandyDate = previousValue[index];\n            return previousCandyDate instanceof CandyDate ? previousCandyDate.isSameDay(value) : previousCandyDate !== value;\n          })\n        );\n      } else {\n        return !this.isSameDate(previousValue as CandyDate, currentValue);\n      }\n    }\n    return false;\n  }\n\n  private isSameDate(left: CandyDate, right: CandyDate): boolean {\n    return (!left && !right) || (left && right && right.isSameDay(left));\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { valueFunctionProp } from 'ng-zorro-antd/core/util';\n\nimport { DateHelperService, NzCalendarI18nInterface, NzI18nService } from 'ng-zorro-antd/i18n';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell } from './interface';\nimport { transCompatFormat } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'date-table',\n  exportAs: 'dateTable',\n  templateUrl: './abstract-table.html'\n})\nexport class DateTableComponent extends AbstractTable implements OnChanges, OnInit {\n  @Input() locale!: NzCalendarI18nInterface;\n\n  constructor(private i18n: NzI18nService, private dateHelper: DateHelperService) {\n    super();\n  }\n\n  private changeValueFromInside(value: CandyDate): void {\n    // Only change date not change time\n    this.activeDate = this.activeDate.setYear(value.getYear()).setMonth(value.getMonth()).setDate(value.getDate());\n    this.valueChange.emit(this.activeDate);\n\n    if (!this.activeDate.isSameMonth(this.value)) {\n      this.render();\n    }\n  }\n\n  makeHeadRow(): DateCell[] {\n    const weekDays: DateCell[] = [];\n    const start = this.activeDate.calendarStart({ weekStartsOn: this.dateHelper.getFirstDayOfWeek() });\n    for (let colIndex = 0; colIndex < this.MAX_COL; colIndex++) {\n      const day = start.addDays(colIndex);\n      weekDays.push({\n        trackByIndex: null,\n        value: day.nativeDate,\n        title: this.dateHelper.format(day.nativeDate, 'E'), // eg. Tue\n        content: this.dateHelper.format(day.nativeDate, this.getVeryShortWeekFormat()), // eg. Tu,\n        isSelected: false,\n        isDisabled: false,\n        onClick(): void {},\n        onMouseEnter(): void {}\n      });\n    }\n    return weekDays;\n  }\n\n  private getVeryShortWeekFormat(): string {\n    return this.i18n.getLocaleId().toLowerCase().indexOf('zh') === 0 ? 'EEEEE' : 'EEEEEE'; // Use extreme short for chinese\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const weekRows: DateBodyRow[] = [];\n    const firstDayOfMonth = this.activeDate.calendarStart({ weekStartsOn: this.dateHelper.getFirstDayOfWeek() });\n\n    for (let week = 0; week < this.MAX_ROW; week++) {\n      const weekStart = firstDayOfMonth.addDays(week * 7);\n      const row: DateBodyRow = {\n        isActive: false,\n        dateCells: [],\n        trackByIndex: `${weekStart.getYear()}`\n      };\n\n      for (let day = 0; day < 7; day++) {\n        const date = weekStart.addDays(day);\n        const dateFormat = transCompatFormat(this.i18n.getLocaleData('DatePicker.lang.dateFormat', 'YYYY-MM-DD'));\n        const title = this.dateHelper.format(date.nativeDate, dateFormat);\n        const label = this.dateHelper.format(date.nativeDate, 'dd');\n        const cell: DateCell = {\n          trackByIndex: title,\n          value: date.nativeDate,\n          label: label,\n          isSelected: false,\n          isDisabled: false,\n          isToday: false,\n          title: title,\n          cellRender: valueFunctionProp(this.cellRender!, date), // Customized content\n          fullCellRender: valueFunctionProp(this.fullCellRender!, date),\n          content: `${date.getDate()}`,\n          onClick: () => this.changeValueFromInside(date),\n          onMouseEnter: () => this.cellHover.emit(date)\n        };\n\n        this.addCellProperty(cell, date);\n\n        if (this.showWeek && !row.weekNum) {\n          row.weekNum = this.dateHelper.getISOWeek(date.nativeDate);\n        }\n        if (date.isSameDay(this.value)) {\n          row.isActive = date.isSameDay(this.value);\n        }\n        row.dateCells.push(cell);\n      }\n      row.classMap = {\n        [`ant-picker-week-panel-row`]: this.showWeek,\n        [`ant-picker-week-panel-row-selected`]: this.showWeek && row.isActive\n      };\n      weekRows.push(row);\n    }\n    return weekRows;\n  }\n\n  addCellProperty(cell: DateCell, date: CandyDate): void {\n    if (this.hasRangeValue() && !this.showWeek) {\n      const [startHover, endHover] = this.hoverValue;\n      const [startSelected, endSelected] = this.selectedValue;\n      // Selected\n      if (startSelected?.isSameDay(date)) {\n        cell.isSelectedStart = true;\n        cell.isSelected = true;\n      }\n\n      if (endSelected?.isSameDay(date)) {\n        cell.isSelectedEnd = true;\n        cell.isSelected = true;\n      }\n\n      if (startHover && endHover) {\n        cell.isHoverStart = startHover.isSameDay(date);\n        cell.isHoverEnd = endHover.isSameDay(date);\n        cell.isLastCellInPanel = date.isLastDayOfMonth();\n        cell.isFirstCellInPanel = date.isFirstDayOfMonth();\n        cell.isInHoverRange = startHover.isBeforeDay(date) && date.isBeforeDay(endHover);\n      }\n      cell.isStartSingle = startSelected && !endSelected;\n      cell.isEndSingle = !startSelected && endSelected;\n      cell.isInSelectedRange = startSelected?.isBeforeDay(date) && date.isBeforeDay(endSelected);\n      cell.isRangeStartNearHover = startSelected && cell.isInHoverRange;\n      cell.isRangeEndNearHover = endSelected && cell.isInHoverRange;\n    }\n\n    cell.isToday = date.isToday();\n    cell.isSelected = date.isSameDay(this.value);\n    cell.isDisabled = !!this.disabledDate?.(date.nativeDate);\n    cell.classMap = this.getClassMap(cell);\n  }\n\n  getClassMap(cell: DateCell): { [key: string]: boolean } {\n    const date = new CandyDate(cell.value);\n    return {\n      ...super.getClassMap(cell),\n      [`ant-picker-cell-today`]: !!cell.isToday,\n      [`ant-picker-cell-in-view`]: date.isSameMonth(this.activeDate)\n    };\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'decade-header', // tslint:disable-line:component-selector\n  exportAs: 'decadeHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class DecadeHeaderComponent extends AbstractPanelHeader {\n  previous(): void {}\n  next(): void {}\n\n  get startYear(): number {\n    return parseInt(`${this.value.getYear() / 100}`, 10) * 100;\n  }\n\n  get endYear(): number {\n    return this.startYear + 99;\n  }\n\n  superPrevious(): void {\n    this.changeValue(this.value.addYears(-100));\n  }\n\n  superNext(): void {\n    this.changeValue(this.value.addYears(100));\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-decade-btn`,\n        title: '',\n        onClick: () => {\n          // noop\n        },\n        label: `${this.startYear}-${this.endYear}`\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, OnChanges, ViewEncapsulation } from '@angular/core';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell, DecadeCell } from './interface';\n\nconst MAX_ROW = 4;\nconst MAX_COL = 3;\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'decade-table',\n  exportAs: 'decadeTable',\n  templateUrl: 'abstract-table.html'\n})\nexport class DecadeTableComponent extends AbstractTable implements OnChanges {\n  get startYear(): number {\n    return parseInt(`${this.activeDate.getYear() / 100}`, 10) * 100;\n  }\n\n  get endYear(): number {\n    return this.startYear + 99;\n  }\n\n  makeHeadRow(): DateCell[] {\n    return [];\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const decades: DateBodyRow[] = [];\n    const currentYear = this.value && this.value.getYear();\n    const startYear = this.startYear;\n    const endYear = this.endYear;\n    const previousYear = startYear - 10;\n\n    let index = 0;\n    for (let rowIndex = 0; rowIndex < MAX_ROW; rowIndex++) {\n      const row: DateBodyRow = {\n        dateCells: [],\n        trackByIndex: previousYear\n      };\n\n      for (let colIndex = 0; colIndex < MAX_COL; colIndex++) {\n        const start = previousYear + index * 10;\n        const end = previousYear + index * 10 + 9;\n        const content = `${start}-${end}`;\n\n        const cell: DecadeCell = {\n          trackByIndex: content,\n          value: this.activeDate.setYear(start).nativeDate,\n          content,\n          title: content,\n          isDisabled: false,\n          isSelected: currentYear >= start && currentYear <= end,\n          isLowerThanStart: end < startYear,\n          isBiggerThanEnd: start > endYear,\n          classMap: {},\n          onClick(): void {},\n          onMouseEnter(): void {}\n        };\n\n        cell.classMap = this.getClassMap(cell);\n        cell.onClick = () => this.chooseDecade(start);\n        index++;\n        row.dateCells.push(cell);\n      }\n\n      decades.push(row);\n    }\n    return decades;\n  }\n\n  getClassMap(cell: DecadeCell): { [key: string]: boolean } {\n    return {\n      [`${this.prefixCls}-cell`]: true,\n      [`${this.prefixCls}-cell-in-view`]: !cell.isBiggerThanEnd && !cell.isLowerThanStart,\n      [`${this.prefixCls}-cell-selected`]: cell.isSelected,\n      [`${this.prefixCls}-cell-disabled`]: cell.isDisabled\n    };\n  }\n\n  private chooseDecade(year: number): void {\n    this.value = this.activeDate.setYear(year);\n    this.valueChange.emit(this.value);\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\nimport { transCompatFormat } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'month-header', // tslint:disable-line:component-selector\n  exportAs: 'monthHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class MonthHeaderComponent extends AbstractPanelHeader {\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-month-btn`,\n        title: this.locale.yearSelect,\n        onClick: () => this.changeMode('year'),\n        label: this.dateHelper.format(this.value.nativeDate, transCompatFormat(this.locale.yearFormat))\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, OnChanges, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { valueFunctionProp } from 'ng-zorro-antd/core/util';\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'month-table',\n  exportAs: 'monthTable',\n  templateUrl: 'abstract-table.html'\n})\nexport class MonthTableComponent extends AbstractTable implements OnChanges, OnInit {\n  MAX_ROW = 4;\n  MAX_COL = 3;\n\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  makeHeadRow(): DateCell[] {\n    return [];\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const months: DateBodyRow[] = [];\n    let monthValue = 0;\n\n    for (let rowIndex = 0; rowIndex < this.MAX_ROW; rowIndex++) {\n      const row: DateBodyRow = {\n        dateCells: [],\n        trackByIndex: this.activeDate.getYear()\n      };\n\n      for (let colIndex = 0; colIndex < this.MAX_COL; colIndex++) {\n        const month = this.activeDate.setMonth(monthValue);\n        const isDisabled = this.isDisabledMonth(month);\n        const content = this.dateHelper.format(month.nativeDate, 'MMM');\n        const cell: DateCell = {\n          trackByIndex: content,\n          value: month.nativeDate,\n          isDisabled,\n          isSelected: month.isSameMonth(this.value),\n          content,\n          title: content,\n          classMap: {},\n          cellRender: valueFunctionProp(this.cellRender!, month), // Customized content\n          fullCellRender: valueFunctionProp(this.fullCellRender!, month),\n          onClick: () => this.chooseMonth(cell.value.getMonth()), // don't use monthValue here,\n          onMouseEnter: () => this.cellHover.emit(month)\n        };\n\n        this.addCellProperty(cell, month);\n        row.dateCells.push(cell);\n        monthValue++;\n      }\n      months.push(row);\n    }\n    return months;\n  }\n\n  private isDisabledMonth(month: CandyDate): boolean {\n    if (!this.disabledDate) {\n      return false;\n    }\n\n    const firstOfMonth = month.setDate(1);\n\n    for (let date = firstOfMonth; date.getMonth() === month.getMonth(); date = date.addDays(1)) {\n      if (!this.disabledDate(date.nativeDate)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  private addCellProperty(cell: DateCell, month: CandyDate): void {\n    if (this.hasRangeValue()) {\n      const [startHover, endHover] = this.hoverValue;\n      const [startSelected, endSelected] = this.selectedValue;\n      // Selected\n      if (startSelected?.isSameMonth(month)) {\n        cell.isSelectedStart = true;\n        cell.isSelected = true;\n      }\n\n      if (endSelected?.isSameMonth(month)) {\n        cell.isSelectedEnd = true;\n        cell.isSelected = true;\n      }\n\n      if (startHover && endHover) {\n        cell.isHoverStart = startHover.isSameMonth(month);\n        cell.isHoverEnd = endHover.isSameMonth(month);\n        cell.isLastCellInPanel = month.getMonth() === 11;\n        cell.isFirstCellInPanel = month.getMonth() === 0;\n        cell.isInHoverRange = startHover.isBeforeMonth(month) && month.isBeforeMonth(endHover);\n      }\n      cell.isStartSingle = startSelected && !endSelected;\n      cell.isEndSingle = !startSelected && endSelected;\n      cell.isInSelectedRange = startSelected?.isBeforeMonth(month) && month?.isBeforeMonth(endSelected);\n      cell.isRangeStartNearHover = startSelected && cell.isInHoverRange;\n      cell.isRangeEndNearHover = endSelected && cell.isInHoverRange;\n    } else if (month.isSameMonth(this.value)) {\n      cell.isSelected = true;\n    }\n    cell.classMap = this.getClassMap(cell);\n  }\n\n  private chooseMonth(month: number): void {\n    this.value = this.activeDate.setMonth(month);\n    this.valueChange.emit(this.value);\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'year-header', // tslint:disable-line:component-selector\n  exportAs: 'yearHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class YearHeaderComponent extends AbstractPanelHeader {\n  get startYear(): number {\n    return parseInt(`${this.value.getYear() / 10}`, 10) * 10;\n  }\n\n  get endYear(): number {\n    return this.startYear + 9;\n  }\n\n  superPrevious(): void {\n    this.changeValue(this.value.addYears(-10));\n  }\n\n  superNext(): void {\n    this.changeValue(this.value.addYears(10));\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-year-btn`,\n        title: '',\n        onClick: () => this.changeMode('decade'),\n        label: `${this.startYear}-${this.endYear}`\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { valueFunctionProp } from 'ng-zorro-antd/core/util';\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell, YearCell } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'year-table',\n  exportAs: 'yearTable',\n  templateUrl: 'abstract-table.html'\n})\nexport class YearTableComponent extends AbstractTable {\n  MAX_ROW = 4;\n  MAX_COL = 3;\n\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  makeHeadRow(): DateCell[] {\n    return [];\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const currentYear = this.activeDate && this.activeDate.getYear();\n    const startYear = parseInt(`${currentYear / 10}`, 10) * 10;\n    const endYear = startYear + 9;\n    const previousYear = startYear - 1;\n    const years: DateBodyRow[] = [];\n    let yearValue = 0;\n\n    for (let rowIndex = 0; rowIndex < this.MAX_ROW; rowIndex++) {\n      const row: DateBodyRow = {\n        dateCells: [],\n        trackByIndex: startYear\n      };\n      for (let colIndex = 0; colIndex < this.MAX_COL; colIndex++) {\n        const yearNum = previousYear + yearValue;\n        const year = this.activeDate.setYear(yearNum);\n        const content = this.dateHelper.format(year.nativeDate, 'yyyy');\n        const isDisabled = this.isDisabledYear(year);\n        const cell: YearCell = {\n          trackByIndex: content,\n          value: year.nativeDate,\n          isDisabled,\n          isSameDecade: yearNum >= startYear && yearNum <= endYear,\n          isSelected: yearNum === (this.value && this.value.getYear()),\n          content,\n          title: content,\n          classMap: {},\n          isLastCellInPanel: year.getYear() === endYear,\n          isFirstCellInPanel: year.getYear() === startYear,\n          cellRender: valueFunctionProp(this.cellRender!, year), // Customized content\n          fullCellRender: valueFunctionProp(this.fullCellRender!, year),\n          onClick: () => this.chooseYear(cell.value.getFullYear()), // don't use yearValue here,\n          onMouseEnter: () => this.cellHover.emit(year)\n        };\n\n        this.addCellProperty(cell, year);\n        row.dateCells.push(cell);\n        yearValue++;\n      }\n      years.push(row);\n    }\n    return years;\n  }\n\n  getClassMap(cell: YearCell): { [key: string]: boolean } {\n    return {\n      ...super.getClassMap(cell),\n      [`ant-picker-cell-in-view`]: !!cell.isSameDecade\n    };\n  }\n\n  private isDisabledYear(year: CandyDate): boolean {\n    if (!this.disabledDate) {\n      return false;\n    }\n\n    const firstOfMonth = year.setMonth(0).setDate(1);\n\n    for (let date = firstOfMonth; date.getYear() === year.getYear(); date = date.addDays(1)) {\n      if (!this.disabledDate(date.nativeDate)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  private addCellProperty(cell: DateCell, year: CandyDate): void {\n    if (this.hasRangeValue()) {\n      const [startHover, endHover] = this.hoverValue;\n      const [startSelected, endSelected] = this.selectedValue;\n      // Selected\n      if (startSelected?.isSameYear(year)) {\n        cell.isSelectedStart = true;\n        cell.isSelected = true;\n      }\n\n      if (endSelected?.isSameYear(year)) {\n        cell.isSelectedEnd = true;\n        cell.isSelected = true;\n      }\n\n      if (startHover && endHover) {\n        cell.isHoverStart = startHover.isSameYear(year);\n        cell.isHoverEnd = endHover.isSameYear(year);\n        cell.isInHoverRange = startHover.isBeforeYear(year) && year.isBeforeYear(endHover);\n      }\n      cell.isStartSingle = startSelected && !endSelected;\n      cell.isEndSingle = !startSelected && endSelected;\n      cell.isInSelectedRange = startSelected?.isBeforeYear(year) && year?.isBeforeYear(endSelected);\n      cell.isRangeStartNearHover = startSelected && cell.isInHoverRange;\n      cell.isRangeEndNearHover = endSelected && cell.isInHoverRange;\n    } else if (year.isSameYear(this.value)) {\n      cell.isSelected = true;\n    }\n    cell.classMap = this.getClassMap(cell);\n  }\n\n  private chooseYear(year: number): void {\n    this.value = this.activeDate.setYear(year);\n    this.valueChange.emit(this.value);\n    this.render();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * A collection module of standard output for all lib components\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\n\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzTimePickerModule } from 'ng-zorro-antd/time-picker';\nimport { DateHeaderComponent } from './date-header.component';\nimport { DateTableComponent } from './date-table.component';\nimport { DecadeHeaderComponent } from './decade-header.component';\nimport { DecadeTableComponent } from './decade-table.component';\nimport { MonthHeaderComponent } from './month-header.component';\nimport { MonthTableComponent } from './month-table.component';\nimport { YearHeaderComponent } from './year-header.component';\nimport { YearTableComponent } from './year-table.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, NzI18nModule, NzTimePickerModule, NzOutletModule],\n  exports: [\n    DateHeaderComponent,\n    DateTableComponent,\n    DecadeHeaderComponent,\n    DecadeTableComponent,\n    MonthHeaderComponent,\n    MonthTableComponent,\n    YearHeaderComponent,\n    YearTableComponent\n  ],\n  declarations: [\n    DateHeaderComponent,\n    DateTableComponent,\n    DecadeHeaderComponent,\n    DecadeTableComponent,\n    MonthHeaderComponent,\n    MonthTableComponent,\n    YearHeaderComponent,\n    YearTableComponent\n  ]\n})\nexport class LibPackerModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-month-picker',\n  exportAs: 'nzMonthPicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzMonthPickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.nzMode = 'month';\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-range-picker',\n  exportAs: 'nzRangePicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzRangePickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.isRange = true;\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-week-picker',\n  exportAs: 'nzWeekPicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzWeekPickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.nzMode = 'week';\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-year-picker',\n  exportAs: 'nzYearPicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzYearPickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.nzMode = 'year';\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\n\nimport { NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzOverlayModule } from 'ng-zorro-antd/core/overlay';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzTimePickerModule } from 'ng-zorro-antd/time-picker';\nimport { CalendarFooterComponent } from './calendar-footer.component';\n\nimport { NzDatePickerComponent } from './date-picker.component';\nimport { DateRangePopupComponent } from './date-range-popup.component';\nimport { InnerPopupComponent } from './inner-popup.component';\n\nimport { LibPackerModule } from './lib/lib-packer.module';\nimport { NzMonthPickerComponent } from './month-picker.component';\nimport { NzPickerComponent } from './picker.component';\nimport { NzRangePickerComponent } from './range-picker.component';\nimport { NzWeekPickerComponent } from './week-picker.component';\nimport { NzYearPickerComponent } from './year-picker.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    OverlayModule,\n    LibPackerModule,\n    NzIconModule,\n    NzOverlayModule,\n    NzNoAnimationModule,\n    NzOutletModule,\n    NzTimePickerModule,\n    NzButtonModule,\n    LibPackerModule\n  ],\n  exports: [NzDatePickerComponent, NzRangePickerComponent, NzMonthPickerComponent, NzYearPickerComponent, NzWeekPickerComponent],\n  declarations: [\n    NzPickerComponent,\n    NzDatePickerComponent,\n    NzMonthPickerComponent,\n    NzYearPickerComponent,\n    NzWeekPickerComponent,\n    NzRangePickerComponent,\n\n    CalendarFooterComponent,\n    InnerPopupComponent,\n    DateRangePopupComponent\n  ]\n})\nexport class NzDatePickerModule {}\n"]}